DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from service at /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104)


Started GET "/microposts" for 127.0.0.1 at Sat Jun 25 00:33:58 +0100 2011

ActionController::RoutingError (No route matches "/microposts"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/pages/hmoe" for 127.0.0.1 at Sat Jun 25 00:34:02 +0100 2011

ActionController::RoutingError (No route matches "/pages/hmoe"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 00:34:05 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.0ms)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (16.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (2.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (2.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 01:01:39 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (1.8ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.0ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 01:02:05 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (1.9ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)


Started GET "/hello.html" for 127.0.0.1 at Sat Jun 25 08:42:24 +0100 2011

ActionController::RoutingError (No route matches "/hello.html"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (60.7ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 08:42:33 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (2.0ms)
Completed 200 OK in 18ms (Views: 17.9ms | ActiveRecord: 0.0ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 08:43:14 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (1.7ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 08:43:15 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 08:43:23 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (1.7ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:43:31 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:43:41 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.0ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:44:03 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:51:54 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)


Started GET "/home" for 127.0.0.1 at Sat Jun 25 08:52:42 +0100 2011

ActionController::RoutingError (No route matches "/home"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:52:50 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:54:11 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:54:41 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:55:26 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (1.8ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 08:55:28 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 7.1ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 09:00:24 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (0.6ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 09:00:29 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 09:01:00 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)


Started GET "/pages/about" for 127.0.0.1 at Sat Jun 25 09:01:26 +0100 2011
  Processing by PagesController#about as HTML
Rendered pages/about.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 09:01:49 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (0.8ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)


Started GET "/pages/contact" for 127.0.0.1 at Sat Jun 25 09:01:53 +0100 2011
  Processing by PagesController#contact as HTML
Rendered pages/contact.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)


Started GET "/pages/help" for 127.0.0.1 at Sat Jun 25 09:07:23 +0100 2011
  Processing by PagesController#help as HTML
Rendered pages/help.html.erb within layouts/application (0.6ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)


Started GET "/pages/help" for 127.0.0.1 at Sat Jun 25 09:20:31 +0100 2011
  Processing by PagesController#help as HTML
Rendered pages/help.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms)


Started GET "/pages/help" for 127.0.0.1 at Sat Jun 25 09:20:37 +0100 2011
  Processing by PagesController#help as HTML
Rendered pages/help.html.erb within layouts/application (0.7ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)


Started GET "/pages/help" for 127.0.0.1 at Sat Jun 25 09:20:55 +0100 2011
  Processing by PagesController#help as HTML
Rendered pages/help.html.erb within layouts/application (0.6ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)


Started GET "/pages/contact" for 127.0.0.1 at Sat Jun 25 09:21:16 +0100 2011
  Processing by PagesController#contact as HTML
Rendered pages/contact.html.erb within layouts/application (0.7ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)


Started GET "/pages/contact" for 127.0.0.1 at Sat Jun 25 09:21:19 +0100 2011
  Processing by PagesController#contact as HTML
Rendered pages/contact.html.erb within layouts/application (0.6ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)


Started GET "/pages/contact" for 127.0.0.1 at Sat Jun 25 09:49:40 +0100 2011
  Processing by PagesController#contact as HTML
Rendered pages/contact.html.erb within layouts/application (1.6ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from service at /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:41:33 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.2ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)


Started GET "/stylesheets/custom.css" for 127.0.0.1 at Sat Jun 25 14:41:34 +0100 2011

ActionController::RoutingError (No route matches "/stylesheets/custom.css"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.3ms)


Started GET "/images/logo.png" for 127.0.0.1 at Sat Jun 25 14:41:34 +0100 2011

ActionController::RoutingError (No route matches "/images/logo.png"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/images/logo.png" for 127.0.0.1 at Sat Jun 25 14:41:40 +0100 2011

ActionController::RoutingError (No route matches "/images/logo.png"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:45:15 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)


Started GET "/stylesheets/custom.css" for 127.0.0.1 at Sat Jun 25 14:45:15 +0100 2011

ActionController::RoutingError (No route matches "/stylesheets/custom.css"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/images/logo.png" for 127.0.0.1 at Sat Jun 25 14:45:15 +0100 2011

ActionController::RoutingError (No route matches "/images/logo.png"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:46:42 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)


Started GET "/stylesheets/custom.css" for 127.0.0.1 at Sat Jun 25 14:46:42 +0100 2011

ActionController::RoutingError (No route matches "/stylesheets/custom.css"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:50:14 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:51:28 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:51:43 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:51:59 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:52:59 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:53:43 +0100 2011
  Processing by PagesController#home as HTML
Rendered pages/home.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:57:52 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered pages/home.html.erb within layouts/application (21.5ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (Missing partial layouts/header with {:handlers=>[:builder, :rjs, :rhtml, :rxml, :erb], :locale=>[:en, :en], :formats=>[:html]} in view paths "/Users/nwales/Sites/ruby/sample_app/app/views"):
    7:   </head>
    8:   <body>
    9:     <div class="container">
    10:       <%= render 'layouts/header' %>
    11:       <section class="round">
    12:         <%= yield %>
    13:       </section>
  app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__1780550026_2179683060_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.5ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 14:59:15 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (0.6ms)
Rendered pages/home.html.erb within layouts/application (6.0ms)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 15:16:30 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (0.7ms)
Rendered pages/home.html.erb within layouts/application (6.4ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)


Started GET "/pages/home" for 127.0.0.1 at Sat Jun 25 15:17:09 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (0.7ms)
Rendered layouts/_footer.html.erb (0.4ms)
Rendered pages/home.html.erb within layouts/application (8.4ms)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at Sat Jun 25 15:45:58 +0100 2011
  Processing by PagesController#contact as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (0.7ms)
Rendered layouts/_footer.html.erb (0.4ms)
Rendered pages/contact.html.erb within layouts/application (7.3ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at Sun Jun 26 10:59:04 +0100 2011
  Processing by PagesController#contact as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (0.6ms)
Rendered layouts/_footer.html.erb (0.3ms)
Rendered pages/contact.html.erb within layouts/application (7.1ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at Sun Jun 26 10:59:06 +0100 2011
  Processing by PagesController#contact as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (0.6ms)
Rendered layouts/_footer.html.erb (0.4ms)
Rendered pages/contact.html.erb within layouts/application (7.3ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at Sun Jun 26 11:06:32 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/config/routes.rb:20: syntax error, unexpected tIDENTIFIER, expecting kEND
  #   match 'products/:id' => 'catalog#view'
                     ^
/Users/nwales/Sites/ruby/sample_app/config/routes.rb:20: syntax error, unexpected tSTRING_BEG, expecting kEND
  #   match 'products/:id' => 'catalog#view'
                          ^
/Users/nwales/Sites/ruby/sample_app/config/routes.rb:20: syntax error, unexpected tIDENTIFIER, expecting kEND
  #   match 'products/:id' => 'catalog#view'
                                      ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/" for 127.0.0.1 at Sun Jun 26 11:06:51 +0100 2011

ActionController::RoutingError (No route matches "/"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/pages/home" for 127.0.0.1 at Sun Jun 26 11:07:03 +0100 2011

ActionController::RoutingError (No route matches "/pages/home"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/home" for 127.0.0.1 at Sun Jun 26 11:07:25 +0100 2011

ActionController::RoutingError (No route matches "/home"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/about" for 127.0.0.1 at Sun Jun 26 11:07:28 +0100 2011

ActionController::RoutingError (No route matches "/about"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/about" for 127.0.0.1 at Sun Jun 26 11:07:37 +0100 2011
  Processing by PagesController#about as HTML
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered layouts/_header.html.erb (8.9ms)
Rendered pages/about.html.erb within layouts/application (15.4ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (undefined local variable or method `home_path' for #<#<Class:0x103a5f600>:0x103a5d9b8>):
    2:   <%= image_tag("logo.png", :alt => "Sample App", :class => "round") %>
    3:   <nav class="round">
    4:     <ul>
    5:       <li><%= link_to "Home", home_path %></li>
    6:       <li><%= link_to "Help", help_path %></li>
    7:       <li><%= link_to "Help", about_path %></li>
    8:       <li><%= link_to "Sign in", '#' %></li>
  app/views/layouts/_header.html.erb:5:in `_app_views_layouts__header_html_erb__1406476649_2178018220_545310'
  app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__1780550026_2178074560_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.5ms)


Started GET "/about" for 127.0.0.1 at Sun Jun 26 11:08:16 +0100 2011
  Processing by PagesController#about as HTML
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered layouts/_header.html.erb (1.7ms)
Rendered layouts/_footer.html.erb (0.4ms)
Rendered pages/about.html.erb within layouts/application (9.4ms)
Completed 200 OK in 78ms (Views: 78.0ms | ActiveRecord: 0.0ms)


Started GET "/about" for 127.0.0.1 at Sun Jun 26 11:09:29 +0100 2011
  Processing by PagesController#about as HTML
Rendered layouts/_stylesheets.html.erb (1.5ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/about.html.erb within layouts/application (9.6ms)
Completed 200 OK in 16ms (Views: 15.9ms | ActiveRecord: 0.0ms)


Started GET "/contact" for 127.0.0.1 at Sun Jun 26 11:09:33 +0100 2011
  Processing by PagesController#contact as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/contact.html.erb within layouts/application (8.5ms)
Completed 200 OK in 14ms (Views: 14.1ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (22.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'


Started GET "/users/new" for 127.0.0.1 at Sun Jun 26 12:29:33 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Sun Jun 26 12:30:31 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Sun Jun 26 12:33:07 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/home.html.erb within layouts/application (10.2ms)
Completed 200 OK in 17ms (Views: 17.0ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Sun Jun 26 12:33:14 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (8.4ms)
Completed 200 OK in 14ms (Views: 13.8ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Sun Jun 26 12:48:56 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (9.4ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Sun Jun 26 12:49:00 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.6ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/home.html.erb within layouts/application (9.6ms)
Completed 200 OK in 81ms (Views: 80.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Sun Jun 26 12:49:08 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.5ms)
Rendered layouts/_header.html.erb (1.6ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/home.html.erb within layouts/application (10.3ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at Sun Jun 26 12:49:22 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/helpers/application_helper.rb:5: syntax error, unexpected tIDENTIFIER, expecting kEND
  base_logo = "image_tag("logo.png", :alt => "Sample App", :...
                              ^
/Users/nwales/Sites/ruby/sample_app/app/helpers/application_helper.rb:5: syntax error, unexpected tCONSTANT, expecting kEND
...ag("logo.png", :alt => "Sample App", :class => "round")"
                              ^
/Users/nwales/Sites/ruby/sample_app/app/helpers/application_helper.rb:5: syntax error, unexpected tIDENTIFIER, expecting kEND
..."Sample App", :class => "round")"
                              ^):
  app/controllers/application_controller.rb:1
  app/controllers/pages_controller.rb:1

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.3ms)


Started GET "/" for 127.0.0.1 at Sun Jun 26 12:49:26 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/home.html.erb within layouts/application (9.2ms)
Completed 200 OK in 15ms (Views: 14.7ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110626115909')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.5ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO "users" ("name", "updated_at", "created_at", "email") VALUES ('Nick Wales', '2011-06-26 13:39:59.846610', '2011-06-26 13:39:59.846610', 'nick@nickwales.co.uk')
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "updated_at", "created_at", "email") VALUES ('A Nother', '2011-06-26 13:41:31.886656', '2011-06-26 13:41:31.886656', 'another@example.org')[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO "users" ("name", "updated_at", "created_at", "email") VALUES ('Foo', '2011-06-26 13:42:11.424596', '2011-06-26 13:42:11.424596', 'foo@bar.com')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY users.id DESC LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY users.id DESC LIMIT 1
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 3[0m
  [1m[35mAREL (0.2ms)[0m  INSERT INTO "users" ("name", "updated_at", "created_at", "email") VALUES ('A Nother', '2011-06-26 13:42:52.336319', '2011-06-26 13:42:52.336319', 'another@example.org')
  [1m[36mAREL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "updated_at", "created_at", "email") VALUES ('Foo', '2011-06-26 13:42:59.145849', '2011-06-26 13:42:59.145849', 'foo@bar.com')[0m
  [1m[35mAREL (0.1ms)[0m  INSERT INTO "users" ("name", "updated_at", "created_at", "email") VALUES ('A Nother', '2011-06-26 13:43:14.591888', '2011-06-26 13:43:14.591888', 'another@example.org')
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."name" = 'Nick Wales' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Nick Wa' LIMIT 1[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (2.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35mSQL (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.5ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110626163859')[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_users_on_email')


Started GET "/" for 127.0.0.1 at Sun Jun 26 17:42:47 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.6ms)
Rendered layouts/_header.html.erb (1.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/home.html.erb within layouts/application (75.9ms)
Completed 200 OK in 83ms (Views: 83.0ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'Nick Wa' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "updated_at", "name", "created_at") VALUES ('nick@nickwales.co.uk', '2011-06-26 16:54:20.089865', 'Nick Wales', '2011-06-26 16:54:20.089865')[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users"[0m


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 18:07:57 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered layouts/_header.html.erb (2.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (15.6ms)
Completed 200 OK in 49ms (Views: 22.2ms | ActiveRecord: 0.8ms)
  [1m[36mSQL (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (2.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (1.7ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (1.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626163859')
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "users" ADD "encrypted_password" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110626195723')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (3.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255)) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (1.8ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35mSQL (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626195723')[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626115909')
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626163859')[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "users" ADD "salt" varchar(255)[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110626201325')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.8ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.7ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (3.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255)) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (2.0ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (1.8ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35mSQL (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626201325')[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626115909')
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626163859')[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626195723')
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
  [1m[35mSQL (56.3ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (7.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255)) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (3.6ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (2.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35mSQL (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626201325')[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626115909')
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626163859')[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626195723')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('mhartl@example.com')) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "users" ("updated_at", "created_at", "email", "salt", "name", "encrypted_password") VALUES ('2011-06-26 20:51:58.328811', '2011-06-26 20:51:58.328811', 'mhartl@example.com', '0111139a8be28f075bcfcce51ca2114201f94f6d6036d06600640bb1cf3fae4c', 'Michael Hartl', 'b5988a080c2906eceb9c1c8765b8b0133aecfcdbcb90db95c8fc89a2d52d2e9c')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'mhartl@example.com' LIMIT 1


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:33:16 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 31ms (Views: 20.5ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:33:17 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 29ms (Views: 19.0ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at Sun Jun 26 22:33:19 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/home.html.erb within layouts/application (9.4ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.0ms)


Started GET "/about" for 127.0.0.1 at Sun Jun 26 22:33:31 +0100 2011
  Processing by PagesController#about as HTML
Rendered layouts/_stylesheets.html.erb (1.5ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/about.html.erb within layouts/application (9.4ms)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.0ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:33:41 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 29ms (Views: 18.8ms | ActiveRecord: 0.2ms)
  [1m[36mSQL (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (3.4ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255)) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (1.8ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (1.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626201325')
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626163859')
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626195723')[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('user@example.com')) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "name", "email", "encrypted_password", "updated_at", "salt") VALUES ('2011-06-26 21:37:04.415074', 'Example User', 'user@example.com', 'f98533d604bf6e0a1132f08d4eeeb37b4afa4a0b8570699aaed9911b75fa9ec9', '2011-06-26 21:37:04.415074', '71da8cb6df82f8c89105d28ca0267058871bce259611fa808683072b2238b890')[0m


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:51:03 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered users/show.html.erb within layouts/application (6.9ms)
Completed 500 Internal Server Error in 27ms

ActionView::Template::Error (undefined method `gravatar_image_tag' for #<#<Class:0x103a93fe0>:0x103a92118>):
    1: <h1>
    2:  <%= @user.name %>
    3:  <%= gravatar_image_tag 'example@railstutorial.org' %>
    4: </h1>
  app/views/users/show.html.erb:3:in `_app_views_users_show_html_erb__2105374500_2178188060_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:54:07 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered users/show.html.erb within layouts/application (7.5ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (undefined method `gravatar_image_tag' for #<#<Class:0x103cec378>:0x103cea708>):
    1: <h1>
    2:  <%= gravatar_image_tag @user.email %>
    3:  <%= @user.name %>
    4: </h1>
  app/views/users/show.html.erb:2:in `_app_views_users_show_html_erb__2105374500_2179417660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:57:26 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (11.0ms)
Completed 200 OK in 51ms (Views: 17.6ms | ActiveRecord: 0.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:58:57 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (9.0ms)
Completed 200 OK in 32ms (Views: 14.6ms | ActiveRecord: 0.3ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 22:58:59 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (9.7ms)
Completed 200 OK in 29ms (Views: 15.5ms | ActiveRecord: 0.2ms)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example@railstutorial.org')) AND ("users".id <> 1) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.5ms)[0m  [1mUPDATE "users" SET "updated_at" = '2011-06-26 22:03:45.607239', "email" = 'example@railstutorial.org' WHERE "users"."id" = 1[0m


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 23:03:52 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.8ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (10.1ms)
Completed 200 OK in 93ms (Views: 15.7ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 23:18:36 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (9.8ms)
Completed 200 OK in 30ms (Views: 16.1ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jun 26 23:20:04 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (73.5ms)
Completed 200 OK in 93ms (Views: 79.5ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Mon Jun 27 09:47:29 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.6ms)
Rendered layouts/_header.html.erb (1.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 31ms (Views: 17.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Tue Jun 28 20:12:58 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.9ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered users/show.html.erb within layouts/application (64.1ms)
Completed 200 OK in 430ms (Views: 135.9ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Tue Jun 28 20:21:20 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (11.1ms)
Completed 200 OK in 33ms (Views: 18.1ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Tue Jun 28 20:25:17 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (10.5ms)
Completed 200 OK in 31ms (Views: 17.0ms | ActiveRecord: 0.3ms)


Started GET "/users/1" for 127.0.0.1 at Tue Jun 28 20:51:48 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (11.5ms)
Completed 200 OK in 31ms (Views: 17.3ms | ActiveRecord: 0.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (27.9ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255)) [0m
  [1m[35mSQL (0.2ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (11.8ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (2.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (2.4ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626201325')
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626163859')
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626195723')[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"


Started GET "/users/1" for 127.0.0.1 at Tue Jun 28 20:51:52 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Completed 404 Not Found in 10ms

ActiveRecord::RecordNotFound (Couldn't find User with ID=1):
  app/controllers/users_controller.rb:4:in `show'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.0ms)


Started GET "/signup" for 127.0.0.1 at Tue Jun 28 20:52:38 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (9.3ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Tue Jun 28 22:53:41 +0100 2011
  Processing by UsersController#new as HTML
Rendered users/new.html.erb within layouts/application (21.3ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <h1>Sign Up</h1>
    2: 
    3: <%= form_for(@user) do |f| %>
    4:  <div class="field">
    5:   <%= f.label :name %><br />
    6:   <%= f.text_field :name %>
  app/views/users/new.html.erb:3:in `_app_views_users_new_html_erb___1107982032_2179850820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.4ms)


Started GET "/signup" for 127.0.0.1 at Tue Jun 28 22:54:44 +0100 2011
  Processing by UsersController#new as HTML
Rendered users/new.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    1: <h1>Sign up</h1>
    2: 
    3: <%= form_for(@user) do |f| %>
    4:   <div class="field">
    5:     <%= f.label :name %><br />
    6:     <%= f.text_field :name %>
  app/views/users/new.html.erb:3:in `_app_views_users_new_html_erb___1107982032_2178957380_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started GET "/signup" for 127.0.0.1 at Tue Jun 28 22:56:26 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.8ms)
Rendered layouts/_header.html.erb (1.9ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (70.4ms)
Completed 200 OK in 85ms (Views: 76.0ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 22:56:47 +0100 2011

AbstractController::ActionNotFound (The action 'create' could not be found for UsersController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.9ms)


Started GET "/signup" for 127.0.0.1 at Tue Jun 28 22:57:48 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (16.4ms)
Completed 200 OK in 32ms (Views: 22.1ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Tue Jun 28 23:07:09 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (16.9ms)
Completed 200 OK in 32ms (Views: 22.9ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Tue Jun 28 23:07:10 +0100 2011
  Processing by UsersController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (16.8ms)
Completed 200 OK in 33ms (Views: 23.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:07:17 +0100 2011

AbstractController::ActionNotFound (The action 'create' could not be found for UsersController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.6ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:07:22 +0100 2011

AbstractController::ActionNotFound (The action 'create' could not be found for UsersController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.6ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:07:30 +0100 2011

AbstractController::ActionNotFound (The action 'create' could not be found for UsersController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.6ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:08:27 +0100 2011

AbstractController::ActionNotFound (The action 'create' could not be found for UsersController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.6ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:08:30 +0100 2011

AbstractController::ActionNotFound (The action 'create' could not be found for UsersController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.6ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:08:44 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/new.html.erb within layouts/application (15.2ms)
Completed 200 OK in 63ms (Views: 21.5ms | ActiveRecord: 0.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:09:34 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (15.2ms)
Completed 200 OK in 103ms (Views: 21.5ms | ActiveRecord: 0.2ms)
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid')) LIMIT 1


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:32:07 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1
Rendered shared/_error_messages.html.erb (2.0ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.7ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered users/new.html.erb within layouts/application (19.3ms)
Completed 200 OK in 44ms (Views: 25.6ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:32:26 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales"}}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales')) LIMIT 1[0m
Rendered shared/_error_messages.html.erb (2.8ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 107ms (Views: 24.4ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:35:40 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "users" ("email", "updated_at", "name", "encrypted_password", "salt", "created_at") VALUES ('nick@nickwales.co.uk', '2011-06-28 22:35:40.197702', 'Nick Wales', 'f66c24750b435ab6bfc3aea5fb87dbb7f2403e398a71a038303f9295d2220151', 'd5119eed9b9c0545231c992165d928bf215113d9bb3eea672907d59756fefd88', '2011-06-28 22:35:40.197702')[0m
Completed 500 Internal Server Error in 87ms

ActionView::MissingTemplate (Missing template users/create with {:formats=>[:html], :handlers=>[:rxml, :builder, :erb, :rjs, :rhtml], :locale=>[:en, :en]} in view paths "/Users/nwales/Sites/ruby/sample_app/app/views"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.9ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:36:46 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1
Rendered shared/_error_messages.html.erb (3.0ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (67.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/new.html.erb within layouts/application (86.0ms)
Completed 200 OK in 111ms (Views: 92.0ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:36:55 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1[0m
Rendered shared/_error_messages.html.erb (1.9ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 41ms (Views: 23.7ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Tue Jun 28 23:37:02 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Wales", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.com"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.com')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("salt", "created_at", "encrypted_password", "name", "email", "updated_at") VALUES ('fd8f79ea0d17085cea4f031255eaa106f61e5cc362327451aba5c7d902107dac', '2011-06-28 22:37:02.386916', 'ef258a03004a2080662cca37ddc9905583c7d40a3fddce41f60e3e86f893a519', 'Nick Wales', 'nick@nickwales.com', '2011-06-28 22:37:02.386916')[0m
Redirected to http://localhost:3000/users/2
Completed 302 Found in 21ms


Started GET "/users/2" for 127.0.0.1 at Tue Jun 28 23:37:02 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.7ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (82.5ms)
Completed 200 OK in 104ms (Views: 89.5ms | ActiveRecord: 0.7ms)


Started GET "/users/2" for 127.0.0.1 at Tue Jun 28 23:40:52 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered users/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 35ms (Views: 19.9ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at Tue Jun 28 23:41:46 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.2ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 34ms (Views: 20.2ms | ActiveRecord: 0.2ms)


Started GET "/users/2" for 127.0.0.1 at Wed Jun 29 21:29:28 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (12.0ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (27.4ms)
Completed 200 OK in 102ms (Views: 72.7ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 21:39:01 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Nick Example", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@example.com"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@example.com')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("encrypted_password", "salt", "email", "updated_at", "created_at", "name") VALUES ('9ba830f2e6a43672aa005c7fbbde683ca89bf2247527486a30733054e9956c11', '385696b3428c4126c3d2a4e5267817d6be519e019a29bc6268076d701e816c59', 'nick@example.com', '2011-06-29 20:39:01.702453', '2011-06-29 20:39:01.702453', 'Nick Example')[0m
Redirected to http://localhost:3000/users/3
Completed 302 Found in 20ms


Started GET "/users/3" for 127.0.0.1 at Wed Jun 29 21:39:01 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (72.8ms)
Completed 200 OK in 93ms (Views: 78.6ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" ORDER BY users.id DESC LIMIT 1


Started GET "/users/3" for 127.0.0.1 at Wed Jun 29 21:44:52 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (11.2ms)
Completed 200 OK in 33ms (Views: 17.8ms | ActiveRecord: 0.2ms)


Started GET "/signup" for 127.0.0.1 at Wed Jun 29 21:45:02 +0100 2011
  Processing by UsersController#new as HTML
Rendered shared/_error_messages.html.erb (0.6ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (33.9ms)
Completed 200 OK in 62ms (Views: 51.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 21:45:11 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Dom", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"dom@dom.com"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('dom@dom.com')) LIMIT 1
Rendered shared/_error_messages.html.erb (1.9ms)
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered layouts/_header.html.erb (1.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (18.9ms)
Completed 200 OK in 112ms (Views: 24.8ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 21:45:20 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Dom", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"dom@dom.com"}}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('dom@dom.com')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("updated_at", "created_at", "email", "name", "salt", "encrypted_password") VALUES ('2011-06-29 20:45:20.788754', '2011-06-29 20:45:20.788754', 'dom@dom.com', 'Dom', '3345585b7454dda35fee3d4bb8f255ce55936990364476b080c71bb8d9566e35', '96038db077e2b90e22567a0a0485201ffcfb4f77609533778b490afb6254be41')
Redirected to http://localhost:3000/users/4
Completed 302 Found in 20ms


Started GET "/users/4" for 127.0.0.1 at Wed Jun 29 21:45:20 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (10.7ms)
Completed 200 OK in 32ms (Views: 16.3ms | ActiveRecord: 0.7ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 22:01:42 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Dom", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"dom@dom.com2"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('dom@dom.com2')) LIMIT 1
Rendered shared/_error_messages.html.erb (2.8ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (19.0ms)
Completed 500 Internal Server Error in 111ms

NoMethodError (undefined method `reset' for "dom":String):
  app/controllers/users_controller.rb:11:in `create'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (13.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.0ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 22:02:33 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Dom", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"dom@dom.com2"}}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('dom@dom.com2')) LIMIT 1[0m
Rendered shared/_error_messages.html.erb (2.8ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (19.0ms)
Completed 200 OK in 43ms (Views: 24.8ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 22:02:43 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Dom", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"dom@don.com"}}
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('dom@don.com')) LIMIT 1
Rendered shared/_error_messages.html.erb (1.7ms)
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/new.html.erb within layouts/application (18.3ms)
Completed 200 OK in 43ms (Views: 24.4ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 22:04:53 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Dom", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"dom@don.com"}}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('dom@don.com')) LIMIT 1[0m
Rendered shared/_error_messages.html.erb (1.8ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/new.html.erb within layouts/application (18.2ms)
Completed 200 OK in 44ms (Views: 24.0ms | ActiveRecord: 0.2ms)


Started POST "/users" for 127.0.0.1 at Wed Jun 29 22:05:11 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "user"=>{"name"=>"Dom", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"dom@don.com"}}
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('dom@don.com')) LIMIT 1
Rendered shared/_error_messages.html.erb (1.9ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/new.html.erb within layouts/application (18.8ms)
Completed 200 OK in 43ms (Views: 24.6ms | ActiveRecord: 0.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)


Started GET "/signin" for 127.0.0.1 at Wed Jun 29 22:31:47 +0100 2011
  Processing by SessionsController#new as HTML
Rendered sessions/new.html.erb within layouts/application (6.0ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (undefined method `label=' for #<ActionView::Helpers::FormBuilder:0x1039cba18>):
    2: 
    3: <%= form_for(:session, :url => sessions_path) do |f| %>
    4:  <div class="field">
    5:   <%= f.label = :email %><br />
    6:   <%= f.text_field = :email %>
    7:  </div>
    8:   <div class="field">
  app/views/sessions/new.html.erb:5:in `_app_views_sessions_new_html_erb__1446016005_2177803360_0'
  app/views/sessions/new.html.erb:3:in `_app_views_sessions_new_html_erb__1446016005_2177803360_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (71.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (78.7ms)


Started GET "/signin" for 127.0.0.1 at Wed Jun 29 22:32:40 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered sessions/new.html.erb within layouts/application (12.0ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)


Started GET "/signup" for 127.0.0.1 at Wed Jun 29 22:35:01 +0100 2011
  Processing by UsersController#new as HTML
Rendered shared/_error_messages.html.erb (0.5ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/new.html.erb within layouts/application (19.2ms)
Completed 200 OK in 35ms (Views: 25.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at Wed Jun 29 22:36:11 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>""}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered sessions/new.html.erb within layouts/application (74.8ms)
Completed 200 OK in 81ms (Views: 80.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at Wed Jun 29 23:16:13 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"sdkfj@kdsj.com"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered sessions/new.html.erb within layouts/application (12.3ms)
Completed 200 OK in 19ms (Views: 18.1ms | ActiveRecord: 0.0ms)


Started GET "/signin" for 127.0.0.1 at Wed Jun 29 23:16:29 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered sessions/new.html.erb within layouts/application (11.9ms)
Completed 200 OK in 18ms (Views: 17.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at Wed Jun 29 23:16:33 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"dksjf"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (1.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered sessions/new.html.erb within layouts/application (11.7ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at Wed Jun 29 23:16:42 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"dsf.dslkfj"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'dsf.dslkfj' LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.3ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered sessions/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 220ms (Views: 18.0ms | ActiveRecord: 0.2ms)


Started POST "/sessions" for 127.0.0.1 at Fri Jul 01 20:39:23 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"dsf.dslkfj"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'dsf.dslkfj' LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (1.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered sessions/new.html.erb within layouts/application (17.1ms)
Completed 200 OK in 79ms (Views: 50.4ms | ActiveRecord: 0.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m


Started POST "/sessions" for 127.0.0.1 at Fri Jul 01 20:40:04 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'nick@nickwales.co.uk' LIMIT 1[0m
Completed 500 Internal Server Error in 18ms

NoMethodError (undefined method `current_user=' for #<SessionsController:0x103a39f18>):
  app/helpers/sessions_helper.rb:4:in `sign_in'
  app/controllers/sessions_controller.rb:13:in `create'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (17.0ms)


Started POST "/sessions" for 127.0.0.1 at Fri Jul 01 20:56:17 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/helpers/sessions_helper.rb:9: syntax error, unexpected $end, expecting kEND):
  app/controllers/application_controller.rb:1
  app/controllers/sessions_controller.rb:1

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (16.2ms)


Started POST "/sessions" for 127.0.0.1 at Fri Jul 01 20:56:29 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'nick@nickwales.co.uk' LIMIT 1
Redirected to http://localhost:3000/users/1
Completed 302 Found in 16ms


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 20:56:29 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (1.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (12.3ms)
Completed 200 OK in 33ms (Views: 18.7ms | ActiveRecord: 0.4ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 21:50:08 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
ERROR: compiling _app_views_layouts__header_html_erb__1406476649_2179076500_545310 RAISED compile error
/Users/nwales/Sites/ruby/sample_app/app/views/layouts/_header.html.erb:15: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/sample_app/app/views/layouts/_header.html.erb:17: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_layouts__header_html_erb__1406476649_2179076500_545310(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "layouts/_header";_old_output_buffer = @output_buffer;header = local_assigns[:header];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<header>
  ');@output_buffer.append= ( link_to logo, root_path );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  <nav class="round">
    <ul>
      <li>');@output_buffer.append= ( link_to "Home", root_path );@output_buffer.safe_concat('</li>
      <li>');@output_buffer.append= ( link_to "Help", help_path );@output_buffer.safe_concat('</li>
');	   if signed_in? 
@output_buffer.safe_concat('	  <li>');@output_buffer.append= ( link_to "Sign Out", signout_path, :method => :delete );@output_buffer.safe_concat('
');	   else 
@output_buffer.safe_concat('      <li>');@output_buffer.append= ( link_to "Sign in", signin_path );@output_buffer.safe_concat('</li>
    </ul>
  </nav>
</header>
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app/app/views/layouts/_header.html.erb:17:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:333:in `render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:262:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:260:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/Users/nwales/Sites/ruby/sample_app/app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__1780550026_2179169160_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/layouts.rb:80:in `_render_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:62:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__434435962__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered layouts/_header.html.erb (14.2ms)
Rendered users/show.html.erb within layouts/application (20.9ms)
Completed 500 Internal Server Error in 79ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app/app/views/layouts/_header.html.erb:15: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/sample_app/app/views/layouts/_header.html.erb:17: syntax error, unexpected $end, expecting kEND):
    12:   </nav>
    13: </header>
  app/views/layouts/_header.html.erb:17:in `compile'
  app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__1780550026_2179169160_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.7ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 21:50:57 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
Rendered layouts/_header.html.erb (2.2ms)
Rendered users/show.html.erb within layouts/application (8.7ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (undefined method `authenticate_with_salt' for #<Class:0x1039fd9f0>):
    4:     <ul>
    5:       <li><%= link_to "Home", root_path %></li>
    6:       <li><%= link_to "Help", help_path %></li>
    7: 	  <% if signed_in? %>
    8: 	  	<li><%= link_to "Sign Out", signout_path, :method => :delete %>
    9: 	  <% else %>
    10:       	<li><%= link_to "Sign in", signin_path %></li>
  app/helpers/sessions_helper.rb:18:in `user_from_remember_token'
  app/helpers/sessions_helper.rb:12:in `current_user'
  app/helpers/sessions_helper.rb:26:in `signed_in?'
  app/views/layouts/_header.html.erb:7:in `_app_views_layouts__header_html_erb__1406476649_2177598360_545310'
  app/views/layouts/application.html.erb:10:in `_app_views_layouts_application_html_erb__1780550026_2177655860_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (75.2ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 21:51:11 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (2.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (12.4ms)
Completed 200 OK in 34ms (Views: 18.2ms | ActiveRecord: 0.4ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 21:51:16 +0100 2011
  Processing by SessionsController#destroy as HTML
Completed 500 Internal Server Error in 1ms

NameError (undefined local variable or method `sign_out' for #<SessionsController:0x103b68678>):
  app/controllers/sessions_controller.rb:19:in `destroy'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.4ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 21:51:23 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (3.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (16.3ms)
Completed 200 OK in 105ms (Views: 91.1ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 22:02:48 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (12.9ms)
Completed 200 OK in 34ms (Views: 19.2ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 22:02:52 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (12.9ms)
Completed 200 OK in 33ms (Views: 18.7ms | ActiveRecord: 0.2ms)


Started GET "/help" for 127.0.0.1 at Fri Jul 01 22:02:54 +0100 2011
  Processing by PagesController#help as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (20.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/help.html.erb within layouts/application (29.2ms)
Completed 200 OK in 61ms (Views: 60.0ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 22:02:58 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (14.0ms)
Completed 200 OK in 36ms (Views: 20.0ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 22:03:01 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (15.9ms)
Completed 200 OK in 130ms (Views: 22.3ms | ActiveRecord: 0.2ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 22:03:04 +0100 2011
  Processing by SessionsController#destroy as HTML
Completed 500 Internal Server Error in 1ms

NameError (undefined local variable or method `sign_out' for #<SessionsController:0x103cc6ad8>):
  app/controllers/sessions_controller.rb:19:in `destroy'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.4ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 22:03:32 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 33ms (Views: 19.1ms | ActiveRecord: 0.2ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 22:03:35 +0100 2011
  Processing by SessionsController#destroy as HTML
Completed 500 Internal Server Error in 67ms

NameError (undefined local variable or method `sign_out' for #<SessionsController:0x103928318>):
  app/controllers/sessions_controller.rb:19:in `destroy'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.2ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 22:03:38 +0100 2011
  Processing by SessionsController#destroy as HTML
Completed 500 Internal Server Error in 1ms

NameError (undefined local variable or method `sign_out' for #<SessionsController:0x103c3d850>):
  app/controllers/sessions_controller.rb:19:in `destroy'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.8ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 22:14:12 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (13.6ms)
Completed 200 OK in 34ms (Views: 19.4ms | ActiveRecord: 0.2ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 22:14:13 +0100 2011
  Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at Fri Jul 01 22:14:13 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (14.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/home.html.erb within layouts/application (23.8ms)
Completed 200 OK in 30ms (Views: 29.9ms | ActiveRecord: 0.2ms)


Started GET "/signin" for 127.0.0.1 at Fri Jul 01 22:53:42 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (39.4ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered sessions/new.html.erb within layouts/application (49.8ms)
Completed 200 OK in 84ms (Views: 83.1ms | ActiveRecord: 0.2ms)


Started POST "/sessions" for 127.0.0.1 at Fri Jul 01 22:53:49 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'nick@nickwales.co.uk' LIMIT 1
Redirected to http://localhost:3000/users/1
Completed 302 Found in 17ms


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 22:53:49 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (13.5ms)
Completed 200 OK in 34ms (Views: 19.4ms | ActiveRecord: 0.4ms)


Started GET "/users/1/edit" for 127.0.0.1 at Fri Jul 01 22:53:59 +0100 2011
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered shared/_error_messages.html.erb (1.0ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/edit.html.erb within layouts/application (23.9ms)
Completed 200 OK in 54ms (Views: 44.0ms | ActiveRecord: 0.2ms)


Started GET "/users/1/edit" for 127.0.0.1 at Fri Jul 01 22:55:21 +0100 2011
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered shared/_error_messages.html.erb (0.6ms)
Rendered layouts/_stylesheets.html.erb (1.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/edit.html.erb within layouts/application (24.4ms)
Completed 200 OK in 112ms (Views: 30.4ms | ActiveRecord: 0.2ms)


Started GET "/users/1/edit" for 127.0.0.1 at Fri Jul 01 23:05:02 +0100 2011
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered shared/_error_messages.html.erb (0.6ms)
Rendered layouts/_stylesheets.html.erb (1.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (5.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/edit.html.erb within layouts/application (25.9ms)
Completed 200 OK in 47ms (Views: 33.5ms | ActiveRecord: 0.2ms)


Started POST "/users/1" for 127.0.0.1 at Fri Jul 01 23:05:09 +0100 2011
  Processing by UsersController#update as HTML
  Parameters: {"commit"=>"Update", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "id"=>"1", "user"=>{"name"=>"Nick Waless", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1
Rendered shared/_error_messages.html.erb (3.1ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/edit.html.erb within layouts/application (27.3ms)
Completed 200 OK in 128ms (Views: 32.7ms | ActiveRecord: 0.4ms)


Started POST "/users/1" for 127.0.0.1 at Fri Jul 01 23:05:16 +0100 2011
  Processing by UsersController#update as HTML
  Parameters: {"commit"=>"Update", "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓", "id"=>"1", "user"=>{"name"=>"Nick Waless", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) AND ("users".id <> 1) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "users" SET "name" = 'Nick Waless', "updated_at" = '2011-07-01 22:05:16.453407' WHERE "users"."id" = 1
Redirected to http://localhost:3000/users/1
Completed 302 Found in 22ms


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 23:05:16 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (13.5ms)
Completed 200 OK in 37ms (Views: 20.3ms | ActiveRecord: 0.9ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 23:05:52 +0100 2011
  Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at Fri Jul 01 23:05:52 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (14.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/home.html.erb within layouts/application (23.4ms)
Completed 200 OK in 48ms (Views: 47.7ms | ActiveRecord: 0.1ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 23:06:06 +0100 2011
  Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at Fri Jul 01 23:06:06 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (14.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/home.html.erb within layouts/application (22.9ms)
Completed 200 OK in 29ms (Views: 28.8ms | ActiveRecord: 0.1ms)


Started GET "/users/1" for 127.0.0.1 at Fri Jul 01 23:06:13 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (12.8ms)
Completed 200 OK in 33ms (Views: 18.5ms | ActiveRecord: 0.4ms)


Started GET "/signin" for 127.0.0.1 at Fri Jul 01 23:06:19 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (14.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered sessions/new.html.erb within layouts/application (24.4ms)
Completed 200 OK in 30ms (Views: 29.8ms | ActiveRecord: 0.1ms)


Started GET "/signout" for 127.0.0.1 at Fri Jul 01 23:06:30 +0100 2011
  Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at Fri Jul 01 23:06:30 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (83.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/home.html.erb within layouts/application (92.1ms)
Completed 200 OK in 98ms (Views: 97.8ms | ActiveRecord: 0.1ms)


Started GET "/users/1/edit" for 127.0.0.1 at Fri Jul 01 23:06:34 +0100 2011
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered shared/_error_messages.html.erb (0.6ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (2.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/edit.html.erb within layouts/application (22.0ms)
Completed 200 OK in 39ms (Views: 27.5ms | ActiveRecord: 0.5ms)


Started GET "/users/1/edit" for 127.0.0.1 at Sat Jul 02 10:07:05 +0100 2011
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/signin
Completed 302 Found in 308ms


Started GET "/signin" for 127.0.0.1 at Sat Jul 02 10:07:05 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (2.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (15.2ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered sessions/new.html.erb within layouts/application (166.7ms)
Completed 200 OK in 217ms (Views: 216.4ms | ActiveRecord: 0.3ms)


Started GET "/users/1/edit" for 127.0.0.1 at Sat Jul 02 10:07:19 +0100 2011
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/signin
Completed 302 Found in 11ms


Started GET "/signin" for 127.0.0.1 at Sat Jul 02 10:07:19 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (14.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered sessions/new.html.erb within layouts/application (24.1ms)
Completed 200 OK in 30ms (Views: 29.8ms | ActiveRecord: 0.3ms)


Started GET "/index" for 127.0.0.1 at Sat Jul 02 10:36:29 +0100 2011

ActionController::RoutingError (No route matches "/index"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:37:12 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/controllers/users_controller.rb:53: syntax error, unexpected '=', expecting tCOLON2 or '.'
    @user = User.find(params[:id])
           ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.4ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:37:46 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/controllers/users_controller.rb:53: syntax error, unexpected '=', expecting tCOLON2 or '.'
    @user = User.find(params[:id])
           ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.7ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:37:56 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/controllers/users_controller.rb:53: syntax error, unexpected '=', expecting tCOLON2 or '.'
    @user = User.find(params[:id])
           ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.9ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:37:57 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/controllers/users_controller.rb:53: syntax error, unexpected '=', expecting tCOLON2 or '.'
    @user = User.find(params[:id])
           ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:39:26 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/controllers/users_controller.rb:53: syntax error, unexpected '=', expecting tCOLON2 or '.'
    @user = User.find(params[:id])
           ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.0ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:40:57 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/controllers/users_controller.rb:58: syntax error, unexpected $end, expecting kEND):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.6ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:41:17 +0100 2011
  Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 1ms

NameError (undefined local variable or method `authenticate' for #<UsersController:0x1037fdd08>):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.1ms)


Started GET "/signin" for 127.0.0.1 at Sat Jul 02 10:41:34 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (14.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered sessions/new.html.erb within layouts/application (23.8ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.1ms)


Started GET "/signin" for 127.0.0.1 at Sat Jul 02 10:41:37 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (78.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered sessions/new.html.erb within layouts/application (88.5ms)
Completed 200 OK in 95ms (Views: 94.1ms | ActiveRecord: 0.2ms)


Started POST "/sessions" for 127.0.0.1 at Sat Jul 02 10:41:43 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'nick@nickwales.co.uk' LIMIT 1[0m
Redirected to http://localhost:3000/users/1
Completed 302 Found in 16ms


Started GET "/users/1" for 127.0.0.1 at Sat Jul 02 10:41:44 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 11ms

ActionView::Template::Error (undefined method `email' for nil:NilClass):
    2:   <tr>
    3:     <td class="main">
    4:       <h1>
    5:         <%= gravatar_for @user %>
    6:         <%= @user.name %>
    7:       </h1>
    8:     </td>
  app/helpers/users_helper.rb:4:in `gravatar_for'
  app/views/users/show.html.erb:5:in `_app_views_users_show_html_erb__2105374500_2178632820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.3ms)


Started GET "/users/1" for 127.0.0.1 at Sat Jul 02 10:42:09 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/sample_app/app/controllers/users_controller.rb:59: syntax error, unexpected $end, expecting kEND):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/users/1" for 127.0.0.1 at Sat Jul 02 10:42:25 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (14.1ms)
Completed 200 OK in 99ms (Views: 19.7ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Sat Jul 02 10:42:28 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (13.3ms)
Completed 200 OK in 33ms (Views: 18.9ms | ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:42:30 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Rendered users/index.html.erb within layouts/application (11.8ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (undefined local variable or method `users' for #<#<Class:0x1039cbbf8>:0x1039c9bf0>):
    1: <h1>All Users</h1>
    2: 
    3: <ul class="users">
    4: 	<% users.each do |user| %>
    5: 		<li>
    6: 			<%= gravatar_for user %>
    7: 			<%= user.name %>
  app/views/users/index.html.erb:4:in `_app_views_users_index_html_erb__2074266327_2177776680_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:43:13 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (3.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 33ms (Views: 17.2ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:43:25 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (66.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/index.html.erb within layouts/application (76.0ms)
Completed 200 OK in 98ms (Views: 82.2ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:43:37 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (3.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (12.5ms)
Completed 200 OK in 34ms (Views: 18.1ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:43:41 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 35ms (Views: 18.8ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:43:43 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 34ms (Views: 18.3ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:44:06 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (7.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 42ms (Views: 26.3ms | ActiveRecord: 0.5ms)


Started GET "/users/2" for 127.0.0.1 at Sat Jul 02 10:44:09 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (20.1ms)
Completed 200 OK in 49ms (Views: 26.9ms | ActiveRecord: 0.5ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (1.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (2.4ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255)) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (1.6ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (2.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (2.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626201325')
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626163859')
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626195723')[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('f0d5d33a85ce82e3ca22eac882105ee273740669b538b4af22ed51aa92b75701', '94c9c9807a2e3f9c862cb625c518fa866c0cf9c351a01f8f21bc364df1dde609', 'example@railstutorial.org', '2011-07-02 09:48:49.603404', 'Example User', '2011-07-02 09:48:49.603404')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-1@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-1@railstutorial.org', '2011-07-02 09:48:49.641178', 'Randal Williamson', '2011-07-02 09:48:49.641178')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-2@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-2@railstutorial.org', '2011-07-02 09:48:49.646195', 'Hayden Paucek', '2011-07-02 09:48:49.646195')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-3@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-3@railstutorial.org', '2011-07-02 09:48:49.652858', 'Russell Schmeler', '2011-07-02 09:48:49.652858')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-4@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-4@railstutorial.org', '2011-07-02 09:48:49.658282', 'Corrine Paucek', '2011-07-02 09:48:49.658282')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-5@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-5@railstutorial.org', '2011-07-02 09:48:49.663732', 'Gennaro Champlin', '2011-07-02 09:48:49.663732')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-6@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-6@railstutorial.org', '2011-07-02 09:48:49.669457', 'Remington Grimes', '2011-07-02 09:48:49.669457')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-7@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-7@railstutorial.org', '2011-07-02 09:48:49.675563', 'Clement Wunsch', '2011-07-02 09:48:49.675563')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-8@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-8@railstutorial.org', '2011-07-02 09:48:49.681296', 'Quentin Mertz', '2011-07-02 09:48:49.681296')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-9@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-9@railstutorial.org', '2011-07-02 09:48:49.686902', 'Miss Julius Crooks', '2011-07-02 09:48:49.686902')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-10@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-10@railstutorial.org', '2011-07-02 09:48:49.692554', 'Rowena Schuster', '2011-07-02 09:48:49.692554')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-11@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-11@railstutorial.org', '2011-07-02 09:48:49.698148', 'Fermin Koepp', '2011-07-02 09:48:49.698148')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-12@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-12@railstutorial.org', '2011-07-02 09:48:49.704019', 'Miss Leo Eichmann', '2011-07-02 09:48:49.704019')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-13@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-13@railstutorial.org', '2011-07-02 09:48:49.709618', 'Henderson Grant', '2011-07-02 09:48:49.709618')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-14@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-14@railstutorial.org', '2011-07-02 09:48:49.715461', 'Raegan Kerluke', '2011-07-02 09:48:49.715461')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-15@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-15@railstutorial.org', '2011-07-02 09:48:49.721199', 'Ottis Towne', '2011-07-02 09:48:49.721199')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-16@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-16@railstutorial.org', '2011-07-02 09:48:49.727179', 'Jewel Collier', '2011-07-02 09:48:49.727179')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-17@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-17@railstutorial.org', '2011-07-02 09:48:49.732729', 'Emilio Senger', '2011-07-02 09:48:49.732729')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-18@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-18@railstutorial.org', '2011-07-02 09:48:49.738647', 'Ms. Vicente Champlin', '2011-07-02 09:48:49.738647')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-19@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-19@railstutorial.org', '2011-07-02 09:48:49.744267', 'Jason Witting', '2011-07-02 09:48:49.744267')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-20@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-20@railstutorial.org', '2011-07-02 09:48:49.750172', 'Fritz Bode', '2011-07-02 09:48:49.750172')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-21@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-21@railstutorial.org', '2011-07-02 09:48:49.755899', 'Kyra Treutel', '2011-07-02 09:48:49.755899')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-22@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-22@railstutorial.org', '2011-07-02 09:48:49.818939', 'Javier Bernhard', '2011-07-02 09:48:49.818939')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-23@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-23@railstutorial.org', '2011-07-02 09:48:49.824989', 'Dr. Dimitri Ruecker', '2011-07-02 09:48:49.824989')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-24@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-24@railstutorial.org', '2011-07-02 09:48:49.830779', 'Gordon Weissnat', '2011-07-02 09:48:49.830779')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-25@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-25@railstutorial.org', '2011-07-02 09:48:49.836638', 'Deion Dare MD', '2011-07-02 09:48:49.836638')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-26@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-26@railstutorial.org', '2011-07-02 09:48:49.842354', 'Benny Williamson', '2011-07-02 09:48:49.842354')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-27@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-27@railstutorial.org', '2011-07-02 09:48:49.848088', 'Percy Daugherty', '2011-07-02 09:48:49.848088')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-28@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-28@railstutorial.org', '2011-07-02 09:48:49.853755', 'Granville Schmitt Jr.', '2011-07-02 09:48:49.853755')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-29@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-29@railstutorial.org', '2011-07-02 09:48:49.859237', 'Everette Pfeffer', '2011-07-02 09:48:49.859237')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-30@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-30@railstutorial.org', '2011-07-02 09:48:49.864943', 'Zion Rodriguez', '2011-07-02 09:48:49.864943')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-31@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-31@railstutorial.org', '2011-07-02 09:48:49.870917', 'Leila Rempel', '2011-07-02 09:48:49.870917')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-32@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-32@railstutorial.org', '2011-07-02 09:48:49.876384', 'Rowan Lindgren PhD', '2011-07-02 09:48:49.876384')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-33@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-33@railstutorial.org', '2011-07-02 09:48:49.882359', 'Mireille McCullough I', '2011-07-02 09:48:49.882359')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-34@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-34@railstutorial.org', '2011-07-02 09:48:49.888209', 'Jesse Daugherty', '2011-07-02 09:48:49.888209')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-35@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-35@railstutorial.org', '2011-07-02 09:48:49.894070', 'Friedrich Kirlin', '2011-07-02 09:48:49.894070')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-36@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-36@railstutorial.org', '2011-07-02 09:48:49.899636', 'Brody Haag', '2011-07-02 09:48:49.899636')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-37@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-37@railstutorial.org', '2011-07-02 09:48:49.905616', 'Ross Legros', '2011-07-02 09:48:49.905616')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-38@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-38@railstutorial.org', '2011-07-02 09:48:49.911213', 'Mr. Seth DuBuque', '2011-07-02 09:48:49.911213')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-39@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-39@railstutorial.org', '2011-07-02 09:48:49.917375', 'Ms. Maybell Roob', '2011-07-02 09:48:49.917375')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-40@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-40@railstutorial.org', '2011-07-02 09:48:49.923227', 'Guiseppe Erdman', '2011-07-02 09:48:49.923227')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-41@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-41@railstutorial.org', '2011-07-02 09:48:49.929195', 'Annamae Dooley', '2011-07-02 09:48:49.929195')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-42@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-42@railstutorial.org', '2011-07-02 09:48:49.934838', 'Graham Dach', '2011-07-02 09:48:49.934838')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-43@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-43@railstutorial.org', '2011-07-02 09:48:49.940442', 'Danika Christiansen', '2011-07-02 09:48:49.940442')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-44@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-44@railstutorial.org', '2011-07-02 09:48:49.946069', 'Nikki Littel', '2011-07-02 09:48:49.946069')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-45@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-45@railstutorial.org', '2011-07-02 09:48:49.951599', 'Leonor Hackett III', '2011-07-02 09:48:49.951599')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-46@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-46@railstutorial.org', '2011-07-02 09:48:49.957668', 'Juston Goyette PhD', '2011-07-02 09:48:49.957668')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-47@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-47@railstutorial.org', '2011-07-02 09:48:49.963183', 'Arielle Hamill', '2011-07-02 09:48:49.963183')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-48@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-48@railstutorial.org', '2011-07-02 09:48:49.968909', 'Brianne Mayert', '2011-07-02 09:48:49.968909')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-49@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-49@railstutorial.org', '2011-07-02 09:48:49.974591', 'Eleanora Connelly', '2011-07-02 09:48:49.974591')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-50@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-50@railstutorial.org', '2011-07-02 09:48:49.980410', 'Bettie Schaden', '2011-07-02 09:48:49.980410')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-51@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-51@railstutorial.org', '2011-07-02 09:48:49.986116', 'Nicolette O''Connell', '2011-07-02 09:48:49.986116')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-52@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-52@railstutorial.org', '2011-07-02 09:48:49.992824', 'Eve Wisozk', '2011-07-02 09:48:49.992824')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-53@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('94d721d2a5ad5e19a89dcf99b3ee3d8ed2107b6bd485898265c7bcaf0f5eba6e', '68f490e2ec748c95e91f4ccfa401689b169ee58d8fa9cc4d9da5cff06cda9ea8', 'example-53@railstutorial.org', '2011-07-02 09:48:49.998441', 'Syble Hessel', '2011-07-02 09:48:49.998441')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-54@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-54@railstutorial.org', '2011-07-02 09:48:50.004640', 'Erin McCullough', '2011-07-02 09:48:50.004640')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-55@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-55@railstutorial.org', '2011-07-02 09:48:50.010232', 'Khalid Durgan', '2011-07-02 09:48:50.010232')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-56@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-56@railstutorial.org', '2011-07-02 09:48:50.016411', 'Rae McDermott', '2011-07-02 09:48:50.016411')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-57@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-57@railstutorial.org', '2011-07-02 09:48:50.022806', 'Mr. Vaughn Ziemann', '2011-07-02 09:48:50.022806')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-58@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-58@railstutorial.org', '2011-07-02 09:48:50.029609', 'Colten Ledner', '2011-07-02 09:48:50.029609')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-59@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-59@railstutorial.org', '2011-07-02 09:48:50.035725', 'Estella Gislason', '2011-07-02 09:48:50.035725')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-60@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-60@railstutorial.org', '2011-07-02 09:48:50.041560', 'Erich Champlin', '2011-07-02 09:48:50.041560')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-61@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-61@railstutorial.org', '2011-07-02 09:48:50.047264', 'Lucius Lubowitz', '2011-07-02 09:48:50.047264')
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-62@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-62@railstutorial.org', '2011-07-02 09:48:50.053014', 'Rey Jakubowski I', '2011-07-02 09:48:50.053014')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-63@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-63@railstutorial.org', '2011-07-02 09:48:50.058756', 'Ivah Prohaska MD', '2011-07-02 09:48:50.058756')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-64@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-64@railstutorial.org', '2011-07-02 09:48:50.064166', 'Chaim Simonis', '2011-07-02 09:48:50.064166')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-65@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-65@railstutorial.org', '2011-07-02 09:48:50.070188', 'Mrs. Alyce Stracke', '2011-07-02 09:48:50.070188')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-66@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-66@railstutorial.org', '2011-07-02 09:48:50.075937', 'Chaz Friesen', '2011-07-02 09:48:50.075937')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-67@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-67@railstutorial.org', '2011-07-02 09:48:50.081759', 'Malvina Kreiger', '2011-07-02 09:48:50.081759')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-68@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-68@railstutorial.org', '2011-07-02 09:48:50.087330', 'Maymie Mueller', '2011-07-02 09:48:50.087330')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-69@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-69@railstutorial.org', '2011-07-02 09:48:50.093112', 'Chad Rau III', '2011-07-02 09:48:50.093112')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-70@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-70@railstutorial.org', '2011-07-02 09:48:50.098693', 'Maybelle Schaden', '2011-07-02 09:48:50.098693')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-71@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-71@railstutorial.org', '2011-07-02 09:48:50.104459', 'Maymie Fay', '2011-07-02 09:48:50.104459')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-72@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-72@railstutorial.org', '2011-07-02 09:48:50.110052', 'Emilie Thiel', '2011-07-02 09:48:50.110052')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-73@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-73@railstutorial.org', '2011-07-02 09:48:50.115786', 'Anna Ritchie', '2011-07-02 09:48:50.115786')
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-74@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-74@railstutorial.org', '2011-07-02 09:48:50.121401', 'Alva Gerhold', '2011-07-02 09:48:50.121401')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-75@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-75@railstutorial.org', '2011-07-02 09:48:50.127197', 'Jameson Kling', '2011-07-02 09:48:50.127197')
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-76@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-76@railstutorial.org', '2011-07-02 09:48:50.132984', 'Deon Champlin', '2011-07-02 09:48:50.132984')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-77@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-77@railstutorial.org', '2011-07-02 09:48:50.139141', 'Ms. Wendy Sipes', '2011-07-02 09:48:50.139141')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-78@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-78@railstutorial.org', '2011-07-02 09:48:50.145313', 'Johanna Sporer', '2011-07-02 09:48:50.145313')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-79@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-79@railstutorial.org', '2011-07-02 09:48:50.151836', 'Haley Greenholt', '2011-07-02 09:48:50.151836')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-80@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-80@railstutorial.org', '2011-07-02 09:48:50.158473', 'Bridgette Crist', '2011-07-02 09:48:50.158473')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-81@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-81@railstutorial.org', '2011-07-02 09:48:50.164362', 'Crystal Stiedemann', '2011-07-02 09:48:50.164362')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-82@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-82@railstutorial.org', '2011-07-02 09:48:50.170712', 'Emmitt Vandervort', '2011-07-02 09:48:50.170712')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-83@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-83@railstutorial.org', '2011-07-02 09:48:50.176713', 'Mrs. Ashly Balistreri', '2011-07-02 09:48:50.176713')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-84@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-84@railstutorial.org', '2011-07-02 09:48:50.183427', 'Everett Johnson', '2011-07-02 09:48:50.183427')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-85@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-85@railstutorial.org', '2011-07-02 09:48:50.189348', 'Rolando Muller', '2011-07-02 09:48:50.189348')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-86@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-86@railstutorial.org', '2011-07-02 09:48:50.196126', 'Vivian Schmitt', '2011-07-02 09:48:50.196126')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-87@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-87@railstutorial.org', '2011-07-02 09:48:50.202145', 'Taya Shields', '2011-07-02 09:48:50.202145')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-88@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-88@railstutorial.org', '2011-07-02 09:48:50.208475', 'Wyatt Schmitt', '2011-07-02 09:48:50.208475')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-89@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-89@railstutorial.org', '2011-07-02 09:48:50.214674', 'Karen Maggio DVM', '2011-07-02 09:48:50.214674')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-90@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-90@railstutorial.org', '2011-07-02 09:48:50.221499', 'Adriana O''Hara', '2011-07-02 09:48:50.221499')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-91@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-91@railstutorial.org', '2011-07-02 09:48:50.227710', 'Eleanora Barrows', '2011-07-02 09:48:50.227710')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-92@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-92@railstutorial.org', '2011-07-02 09:48:50.233889', 'Torrey Hettinger', '2011-07-02 09:48:50.233889')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-93@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-93@railstutorial.org', '2011-07-02 09:48:50.240600', 'Korbin Nicolas IV', '2011-07-02 09:48:50.240600')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-94@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-94@railstutorial.org', '2011-07-02 09:48:50.310535', 'Keyshawn Kuhic', '2011-07-02 09:48:50.310535')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-95@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-95@railstutorial.org', '2011-07-02 09:48:50.316550', 'Alvera Kiehn', '2011-07-02 09:48:50.316550')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-96@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-96@railstutorial.org', '2011-07-02 09:48:50.322252', 'Darius Erdman', '2011-07-02 09:48:50.322252')
  [1m[36mSQL (0.4ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-97@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-97@railstutorial.org', '2011-07-02 09:48:50.328432', 'Kiel Schmitt', '2011-07-02 09:48:50.328432')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-98@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-98@railstutorial.org', '2011-07-02 09:48:50.334123', 'Hailee Nikolaus', '2011-07-02 09:48:50.334123')
  [1m[36mSQL (0.3ms)[0m  [1mSELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-99@railstutorial.org')) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "users" ("salt", "encrypted_password", "email", "created_at", "name", "updated_at") VALUES ('7e6727d0ce694d614c80a7c423f555ab36a1d66519c4b43c01c341db14f8af8c', 'cf9d4d67e76dc853642351ecff9fc19dbb336a3dd2a2543468f138f270d81e9f', 'example-99@railstutorial.org', '2011-07-02 09:48:50.340288', 'Jed Goyette', '2011-07-02 09:48:50.340288')


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:48:54 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/signin
Completed 302 Found in 15ms


Started GET "/signin" for 127.0.0.1 at Sat Jul 02 10:48:54 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (17.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered sessions/new.html.erb within layouts/application (28.2ms)
Completed 200 OK in 35ms (Views: 34.5ms | ActiveRecord: 0.4ms)


Started POST "/sessions" for 127.0.0.1 at Sat Jul 02 10:49:00 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'nick@nickwales.co.uk' LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (6.5ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered sessions/new.html.erb within layouts/application (17.3ms)
Completed 200 OK in 35ms (Views: 23.0ms | ActiveRecord: 0.6ms)


Started POST "/sessions" for 127.0.0.1 at Sat Jul 02 10:49:42 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"example@railstutorial.org"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'example@railstutorial.org' LIMIT 1
Redirected to http://localhost:3000/users
Completed 302 Found in 16ms


Started GET "/users" for 127.0.0.1 at Sat Jul 02 10:49:42 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (3.2ms)[0m  SELECT "users".* FROM "users"
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (122.8ms)
Completed 200 OK in 151ms (Views: 129.3ms | ActiveRecord: 3.6ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users"
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "users"


Started GET "/users" for 127.0.0.1 at Sat Jul 02 11:16:46 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
Completed 500 Internal Server Error in 16ms

NoMethodError (undefined method `paginate' for #<Class:0x103af57b8>):
  app/controllers/users_controller.rb:7:in `index'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 11:28:23 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Rendered layouts/_stylesheets.html.erb (2.8ms)
Rendered layouts/_header.html.erb (5.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/index.html.erb within layouts/application (42.6ms)
Completed 200 OK in 147ms (Views: 49.2ms | ActiveRecord: 2.7ms)


Started GET "/users" for 127.0.0.1 at Sat Jul 02 11:28:35 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/index.html.erb within layouts/application (30.4ms)
Completed 200 OK in 55ms (Views: 36.2ms | ActiveRecord: 1.5ms)


Started GET "/users?page=2" for 127.0.0.1 at Sat Jul 02 11:28:38 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 30[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (29.1ms)
Completed 200 OK in 53ms (Views: 34.6ms | ActiveRecord: 1.4ms)


Started GET "/users?page=3" for 127.0.0.1 at Sat Jul 02 11:28:43 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 60
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/index.html.erb within layouts/application (93.5ms)
Completed 200 OK in 117ms (Views: 99.2ms | ActiveRecord: 1.5ms)


Started GET "/users?page=4" for 127.0.0.1 at Sat Jul 02 11:28:44 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 90[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 42ms (Views: 24.2ms | ActiveRecord: 0.8ms)


Started GET "/users?page=4" for 127.0.0.1 at Sat Jul 02 11:47:16 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 90[0m
Rendered users/index.html.erb within layouts/application (108.9ms)
Completed 500 Internal Server Error in 133ms

ActionView::Template::Error (undefined local variable or method `users' for #<#<Class:0x10303c7b8>:0x103039d60>):
    3: <%= will_paginate %>
    4: 
    5: <ul class="users">
    6: 		<%= render users %>
    7: </ul>
    8: 
    9: <%= will_paginate %>
  app/views/users/index.html.erb:6:in `_app_views_users_index_html_erb__2074266327_2172758920_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.8ms)


Started GET "/users?page=4" for 127.0.0.1 at Sat Jul 02 11:47:33 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"4"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 90[0m
Rendered users/_user.html.erb (5.1ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/index.html.erb within layouts/application (22.1ms)
Completed 200 OK in 47ms (Views: 28.3ms | ActiveRecord: 0.9ms)


Started GET "/users?page=3" for 127.0.0.1 at Sat Jul 02 11:47:35 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 60[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (21.5ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/index.html.erb within layouts/application (40.5ms)
Completed 200 OK in 139ms (Views: 46.3ms | ActiveRecord: 1.6ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (13.2ms)[0m  [1mALTER TABLE "users" ADD "admin" boolean[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110702224704')
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (1.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (2.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255), "admin" boolean) 
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (1.8ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (1.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35mSQL (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110702224704')[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626115909')
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626163859')[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626195723')
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626201325')[0m
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.5ms)[0m  [1mUPDATE "users" SET "admin" = 't', "encrypted_password" = '072540c82fe22d3b2b507b1a1ca557e6332c055f14a2488627b3200702cad5d0', "updated_at" = '2011-07-02 22:50:26.654937' WHERE "users"."id" = 1[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (3.5ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255), "admin" boolean) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (1.8ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (1.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110702224704')
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626163859')
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626195723')[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626201325')
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("encrypted_password", "email", "updated_at", "salt", "created_at", "admin", "name") VALUES ('d98337ee062e24e6481ac4e5165451879ffc9d76297d0b5bdf266b8f8a956138', 'example@railstutorial.org', '2011-07-02 22:51:37.090387', '2667ff1bc0c2b166bde281a1724b44eabe8f15fc6403ea047203efbb407cc116', '2011-07-02 22:51:37.090387', NULL, 'Example User')[0m


Started GET "/users?page=4" for 127.0.0.1 at Sat Jul 02 23:55:53 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/signin
Completed 302 Found in 15ms


Started GET "/signin" for 127.0.0.1 at Sat Jul 02 23:55:53 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (2.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (86.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered sessions/new.html.erb within layouts/application (147.6ms)
Completed 200 OK in 155ms (Views: 154.2ms | ActiveRecord: 0.4ms)


Started GET "/signin" for 127.0.0.1 at Sat Jul 02 23:59:42 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (18.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered sessions/new.html.erb within layouts/application (29.3ms)
Completed 200 OK in 35ms (Views: 34.7ms | ActiveRecord: 0.2ms)


Started POST "/sessions" for 127.0.0.1 at Sat Jul 02 23:59:57 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"example@railstutorial.org"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'example@railstutorial.org' LIMIT 1
Redirected to http://localhost:3000/users?page=4
Completed 302 Found in 87ms


Started GET "/users?page=4" for 127.0.0.1 at Sat Jul 02 23:59:57 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 90
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered collection (0.0ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/index.html.erb within layouts/application (12.9ms)
Completed 200 OK in 37ms (Views: 19.6ms | ActiveRecord: 0.8ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:00:14 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
Rendered users/_user.html.erb (1.4ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (2.8ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (13.6ms)
Completed 200 OK in 35ms (Views: 19.1ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 03 00:00:19 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.8ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (12.9ms)
Completed 200 OK in 99ms (Views: 18.8ms | ActiveRecord: 0.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 03 00:00:51 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (72.1ms)
Completed 200 OK in 97ms (Views: 78.7ms | ActiveRecord: 0.9ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:01:15 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
Rendered users/_user.html.erb (1.3ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 37ms (Views: 20.1ms | ActiveRecord: 0.5ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:01:18 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
Rendered users/_user.html.erb (1.5ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/index.html.erb within layouts/application (14.6ms)
Completed 200 OK in 37ms (Views: 20.5ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:02:42 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
Rendered users/_user.html.erb (1.4ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (3.2ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 37ms (Views: 20.4ms | ActiveRecord: 0.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (3.6ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255), "admin" boolean) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (1.7ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (1.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (2.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110702224704')
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626163859')
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626195723')[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626201325')
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("encrypted_password", "email", "updated_at", "salt", "created_at", "admin", "name") VALUES ('7a74b80c5f3cb96e490ff7b58aeadc7b2a538daea85cae7ee96ae92f400872f4', 'example@railstutorial.org', '2011-07-02 23:02:58.994081', '928dd3f01ed077a90e6503e50f06ee917dacfe2b3505c94841c6415fb3035893', '2011-07-02 23:02:58.994081', NULL, 'Example User')[0m


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:03:03 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Redirected to http://localhost:3000/signin
Completed 302 Found in 16ms


Started GET "/signin" for 127.0.0.1 at Sun Jul 03 00:03:03 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (82.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered sessions/new.html.erb within layouts/application (95.8ms)
Completed 200 OK in 103ms (Views: 102.0ms | ActiveRecord: 0.4ms)


Started POST "/sessions" for 127.0.0.1 at Sun Jul 03 00:03:11 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"example@railstutorial.org"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'example@railstutorial.org' LIMIT 1
Redirected to http://localhost:3000/users
Completed 302 Found in 21ms


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:03:11 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
Rendered users/_user.html.erb (1.4ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (14.0ms)
Completed 200 OK in 36ms (Views: 20.0ms | ActiveRecord: 0.7ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:03:13 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
Rendered users/_user.html.erb (1.4ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 102ms (Views: 19.2ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:04:10 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
Rendered users/_user.html.erb (1.4ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (14.7ms)
Completed 200 OK in 36ms (Views: 20.3ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:04:13 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
Rendered users/_user.html.erb (1.4ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (3.2ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (14.7ms)
Completed 200 OK in 36ms (Views: 20.3ms | ActiveRecord: 0.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (3.3ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime, "encrypted_password" varchar(255), "salt" varchar(255), "admin" boolean) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (1.8ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (1.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (1.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110702224704')
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626115909')[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626163859')
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20110626195723')[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20110626201325')
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.449535', '2011-07-02 23:04:59.449535', 'example@railstutorial.org', NULL, '2d28b0bf893abc538b088f3323b8b334322747df152ec85660f4cff9b5a65d74', 'Example User', '9ca6a25b330427b835075acba2a70a486238cb22d24c017701e5490e1701eab7')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-1@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.458331', '2011-07-02 23:04:59.458331', 'example-1@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Aglae Ledner', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-2@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.464300', '2011-07-02 23:04:59.464300', 'example-2@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Elmira Kertzmann', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-3@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.470044', '2011-07-02 23:04:59.470044', 'example-3@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Stanton Gusikowski I', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-4@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.475687', '2011-07-02 23:04:59.475687', 'example-4@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ima Donnelly', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-5@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.481986', '2011-07-02 23:04:59.481986', 'example-5@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Melany Hammes', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-6@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.487921', '2011-07-02 23:04:59.487921', 'example-6@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Craig Parisian', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-7@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.493512', '2011-07-02 23:04:59.493512', 'example-7@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Beau Goldner', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-8@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.498935', '2011-07-02 23:04:59.498935', 'example-8@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Damian Bednar', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-9@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.504843', '2011-07-02 23:04:59.504843', 'example-9@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Dr. Abner Rice', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-10@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.510577', '2011-07-02 23:04:59.510577', 'example-10@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Serenity Herman', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-11@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.516458', '2011-07-02 23:04:59.516458', 'example-11@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Sarai Kutch', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-12@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.522688', '2011-07-02 23:04:59.522688', 'example-12@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Watson Cassin', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-13@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.528597', '2011-07-02 23:04:59.528597', 'example-13@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ford Schulist', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-14@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.534803', '2011-07-02 23:04:59.534803', 'example-14@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Mrs. Rosanna Reilly', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-15@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.540869', '2011-07-02 23:04:59.540869', 'example-15@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Leone Cummings', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-16@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.546948', '2011-07-02 23:04:59.546948', 'example-16@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Quinten Lindgren', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-17@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.553474', '2011-07-02 23:04:59.553474', 'example-17@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Jenifer Heathcote', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-18@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.559598', '2011-07-02 23:04:59.559598', 'example-18@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Shayna Klein', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-19@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.565331', '2011-07-02 23:04:59.565331', 'example-19@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Bobby Abernathy', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-20@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.571493', '2011-07-02 23:04:59.571493', 'example-20@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Stanford Kuvalis', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-21@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.578075', '2011-07-02 23:04:59.578075', 'example-21@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Elise Borer', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-22@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.584169', '2011-07-02 23:04:59.584169', 'example-22@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Heaven Kerluke', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-23@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.589981', '2011-07-02 23:04:59.589981', 'example-23@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ryley Mraz', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-24@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.596767', '2011-07-02 23:04:59.596767', 'example-24@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Fermin Luettgen', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-25@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.602599', '2011-07-02 23:04:59.602599', 'example-25@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Lenora Mante Jr.', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-26@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.608955', '2011-07-02 23:04:59.608955', 'example-26@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Nayeli Rohan', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-27@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.614839', '2011-07-02 23:04:59.614839', 'example-27@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Oral Dietrich', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-28@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.620817', '2011-07-02 23:04:59.620817', 'example-28@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Edgar Parker', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-29@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.627403', '2011-07-02 23:04:59.627403', 'example-29@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Kelsie Donnelly', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-30@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.633298', '2011-07-02 23:04:59.633298', 'example-30@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Alexis Cassin', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-31@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.639230', '2011-07-02 23:04:59.639230', 'example-31@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Dr. Jedediah Doyle', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-32@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.645319', '2011-07-02 23:04:59.645319', 'example-32@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Velma Pollich', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-33@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.651725', '2011-07-02 23:04:59.651725', 'example-33@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Mr. Samir Gislason', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-34@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.657624', '2011-07-02 23:04:59.657624', 'example-34@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Joannie Altenwerth', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-35@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.663926', '2011-07-02 23:04:59.663926', 'example-35@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Destinee Weimann', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-36@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.669976', '2011-07-02 23:04:59.669976', 'example-36@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Elza Breitenberg', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-37@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.675979', '2011-07-02 23:04:59.675979', 'example-37@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Nya Cassin', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-38@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.682023', '2011-07-02 23:04:59.682023', 'example-38@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ephraim Rolfson', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-39@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.688026', '2011-07-02 23:04:59.688026', 'example-39@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Dr. Bianka Senger', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-40@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.694293', '2011-07-02 23:04:59.694293', 'example-40@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Hilma Ritchie', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-41@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.700082', '2011-07-02 23:04:59.700082', 'example-41@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Mauricio Hills II', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-42@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.706138', '2011-07-02 23:04:59.706138', 'example-42@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Stanton Trantow', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-43@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.711962', '2011-07-02 23:04:59.711962', 'example-43@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Johanna Volkman', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-44@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.718071', '2011-07-02 23:04:59.718071', 'example-44@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Webster McCullough Jr.', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-45@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.723837', '2011-07-02 23:04:59.723837', 'example-45@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ms. Zackary Towne', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-46@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.730080', '2011-07-02 23:04:59.730080', 'example-46@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Esmeralda Rau', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-47@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.736150', '2011-07-02 23:04:59.736150', 'example-47@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Dwight Beier', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-48@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.742783', '2011-07-02 23:04:59.742783', 'example-48@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Colby Wyman', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-49@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.749060', '2011-07-02 23:04:59.749060', 'example-49@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Boris Mills', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-50@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.755102', '2011-07-02 23:04:59.755102', 'example-50@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Priscilla Lubowitz', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-51@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.826391', '2011-07-02 23:04:59.826391', 'example-51@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Alessandro Tromp', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-52@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.832696', '2011-07-02 23:04:59.832696', 'example-52@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Leland Gulgowski', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-53@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.838844', '2011-07-02 23:04:59.838844', 'example-53@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Veda Stehr V', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-54@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.844795', '2011-07-02 23:04:59.844795', 'example-54@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Presley Larson II', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-55@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.851026', '2011-07-02 23:04:59.851026', 'example-55@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Maia Kuhlman', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-56@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.857214', '2011-07-02 23:04:59.857214', 'example-56@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ubaldo Gaylord', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-57@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.863662', '2011-07-02 23:04:59.863662', 'example-57@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Laverna Lakin', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-58@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.869734', '2011-07-02 23:04:59.869734', 'example-58@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Rosina Lebsack', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-59@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.876177', '2011-07-02 23:04:59.876177', 'example-59@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ashleigh Schulist', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-60@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.882436', '2011-07-02 23:04:59.882436', 'example-60@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ms. Hiram Hoppe', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-61@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.888377', '2011-07-02 23:04:59.888377', 'example-61@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Alta Crooks', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.2ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-62@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.894249', '2011-07-02 23:04:59.894249', 'example-62@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Pierce Wisozk', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-63@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.900133', '2011-07-02 23:04:59.900133', 'example-63@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Eli Bosco', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-64@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.906180', '2011-07-02 23:04:59.906180', 'example-64@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Claudie DuBuque Sr.', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-65@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.912047', '2011-07-02 23:04:59.912047', 'example-65@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Jerrod Kessler', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-66@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.917936', '2011-07-02 23:04:59.917936', 'example-66@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Abbie Hyatt', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-67@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.923729', '2011-07-02 23:04:59.923729', 'example-67@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Curt O''Connell', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-68@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.929792', '2011-07-02 23:04:59.929792', 'example-68@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Miss Bryana Gleichner', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-69@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.935586', '2011-07-02 23:04:59.935586', 'example-69@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Benjamin Cole', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-70@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.8ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.941892', '2011-07-02 23:04:59.941892', 'example-70@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Noble Morar', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-71@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.948434', '2011-07-02 23:04:59.948434', 'example-71@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Myrtice Pagac', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-72@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.954135', '2011-07-02 23:04:59.954135', 'example-72@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Reece Graham', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-73@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.960158', '2011-07-02 23:04:59.960158', 'example-73@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Nigel Kohler', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-74@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.965838', '2011-07-02 23:04:59.965838', 'example-74@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Treva Streich', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-75@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.972225', '2011-07-02 23:04:59.972225', 'example-75@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Jordi Cummings', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-76@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.978180', '2011-07-02 23:04:59.978180', 'example-76@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Yasmine Conroy DDS', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-77@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.984170', '2011-07-02 23:04:59.984170', 'example-77@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Roxanne Daniel', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-78@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.990087', '2011-07-02 23:04:59.990087', 'example-78@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Ernie Zboncak', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-79@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:04:59.996324', '2011-07-02 23:04:59.996324', 'example-79@railstutorial.org', NULL, 'a155dc21d38ceb82bbe5802a7e469fce718acaf9ef8315ea17dd666472df78b3', 'Krystina Hudson', 'bf5fd6a2c24c769e47d5271e6d07626c3696d501c1079fff50e1e2296e2030a6')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-80@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.003172', '2011-07-02 23:05:00.003172', 'example-80@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Dr. Douglas Feeney', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-81@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.009567', '2011-07-02 23:05:00.009567', 'example-81@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Garland Hand', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-82@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.016007', '2011-07-02 23:05:00.016007', 'example-82@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Maritza Kulas', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-83@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.022547', '2011-07-02 23:05:00.022547', 'example-83@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Makenzie Trantow', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-84@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.029071', '2011-07-02 23:05:00.029071', 'example-84@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Nona Schoen', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-85@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.034896', '2011-07-02 23:05:00.034896', 'example-85@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Caleb Schiller', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-86@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.041339', '2011-07-02 23:05:00.041339', 'example-86@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Zelda Pacocha', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-87@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.047261', '2011-07-02 23:05:00.047261', 'example-87@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Golda Jerde', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.4ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-88@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.053966', '2011-07-02 23:05:00.053966', 'example-88@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Ben Boyle', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-89@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.060778', '2011-07-02 23:05:00.060778', 'example-89@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Petra Kozey', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-90@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.066864', '2011-07-02 23:05:00.066864', 'example-90@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Tommie Wintheiser', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-91@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.073028', '2011-07-02 23:05:00.073028', 'example-91@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Miss Rosetta Hickle', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-92@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.078892', '2011-07-02 23:05:00.078892', 'example-92@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Scarlett Streich', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-93@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.085028', '2011-07-02 23:05:00.085028', 'example-93@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Tanya Purdy', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-94@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.090915', '2011-07-02 23:05:00.090915', 'example-94@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Rubye Abernathy', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-95@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.096905', '2011-07-02 23:05:00.096905', 'example-95@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Brando Koelpin', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-96@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.102454', '2011-07-02 23:05:00.102454', 'example-96@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Carey Jast', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-97@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.108513', '2011-07-02 23:05:00.108513', 'example-97@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Eden Huels Jr.', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-98@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.114285', '2011-07-02 23:05:00.114285', 'example-98@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Elisha Bradtke', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m
  [1m[35mSQL (0.3ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('example-99@railstutorial.org')) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at", "email", "admin", "salt", "name", "encrypted_password") VALUES ('2011-07-02 23:05:00.120505', '2011-07-02 23:05:00.120505', 'example-99@railstutorial.org', NULL, 'caa31bdc2c5f5665210d0d8879ce433924aad1347149e7fd6965ad6954b2c6c9', 'Nyah Ankunding', 'a357a9eceb0e344a3381fea643874e47bc41a3232806ef8c0e6573444a56e532')[0m


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:05:05 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/signin
Completed 302 Found in 17ms


Started GET "/signin" for 127.0.0.1 at Sun Jul 03 00:05:05 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (109.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered sessions/new.html.erb within layouts/application (123.7ms)
Completed 200 OK in 130ms (Views: 129.8ms | ActiveRecord: 0.5ms)


Started POST "/sessions" for 127.0.0.1 at Sun Jul 03 00:05:14 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"example@railstutorial.org"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."email" = 'example@railstutorial.org' LIMIT 1[0m
Redirected to http://localhost:3000/users
Completed 302 Found in 16ms


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:05:14 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (81.6ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/index.html.erb within layouts/application (98.9ms)
Completed 200 OK in 124ms (Views: 105.1ms | ActiveRecord: 1.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" LIMIT 1


Started GET "/users" for 127.0.0.1 at Sun Jul 03 00:05:37 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (16.1ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (32.7ms)
Completed 200 OK in 58ms (Views: 38.4ms | ActiveRecord: 1.5ms)


Started GET "/users?page=2" for 127.0.0.1 at Sun Jul 03 00:05:41 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 30[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (17.1ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (34.0ms)
Completed 200 OK in 60ms (Views: 39.8ms | ActiveRecord: 1.8ms)


Started GET "/users?page=1" for 127.0.0.1 at Sun Jul 03 00:05:43 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.5ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (16.9ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/index.html.erb within layouts/application (33.9ms)
Completed 200 OK in 120ms (Views: 39.5ms | ActiveRecord: 1.9ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 03 00:05:45 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (14.4ms)
Completed 200 OK in 37ms (Views: 20.3ms | ActiveRecord: 0.2ms)


Started GET "/users/6" for 127.0.0.1 at Sun Jul 03 00:05:49 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 6 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (75.0ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (85.8ms)
Completed 200 OK in 106ms (Views: 91.1ms | ActiveRecord: 0.5ms)


Started GET "/users?page=1" for 127.0.0.1 at Sun Jul 03 00:06:06 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (16.6ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (33.2ms)
Completed 200 OK in 58ms (Views: 38.9ms | ActiveRecord: 1.6ms)


Started GET "/users?page=1" for 127.0.0.1 at Sun Jul 03 21:26:46 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (15.4ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
Rendered layouts/_header.html.erb (2.7ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (31.6ms)
Completed 200 OK in 56ms (Views: 37.3ms | ActiveRecord: 1.5ms)


Started GET "/users/2" for 127.0.0.1 at Sun Jul 03 21:30:01 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (14.6ms)
Completed 200 OK in 36ms (Views: 20.0ms | ActiveRecord: 0.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app/config/environment.rb:5)


Started GET "/users?page=1" for 127.0.0.1 at Sun Jul 03 21:59:59 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (16.5ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (34.8ms)
Completed 200 OK in 122ms (Views: 41.6ms | ActiveRecord: 2.0ms)


Started GET "/users?page=2" for 127.0.0.1 at Sun Jul 03 22:00:03 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 30
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (80.1ms)
Rendered layouts/_stylesheets.html.erb (1.8ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (98.0ms)
Completed 200 OK in 124ms (Views: 103.8ms | ActiveRecord: 1.7ms)


Started GET "/users?page=3" for 127.0.0.1 at Sun Jul 03 22:00:06 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 60[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (16.9ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (34.6ms)
Completed 200 OK in 61ms (Views: 40.2ms | ActiveRecord: 1.9ms)


Started GET "/users?page=2" for 127.0.0.1 at Sun Jul 03 22:00:07 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 30
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (16.8ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (33.9ms)
Completed 200 OK in 129ms (Views: 39.5ms | ActiveRecord: 1.6ms)


Started GET "/users?page=1" for 127.0.0.1 at Sun Jul 03 22:00:09 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (15.9ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.8ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (32.0ms)
Completed 200 OK in 58ms (Views: 37.9ms | ActiveRecord: 1.7ms)


Started GET "/users?page=1" for 127.0.0.1 at Sun Jul 03 22:01:13 +0100 2011
  Processing by UsersController#index as HTML
  Parameters: {"page"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (15.9ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/index.html.erb within layouts/application (32.1ms)
Completed 200 OK in 58ms (Views: 37.8ms | ActiveRecord: 1.6ms)


Started POST "/signout" for 127.0.0.1 at Sun Jul 03 22:01:23 +0100 2011
  Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo="}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms


Started GET "/" for 127.0.0.1 at Sun Jul 03 22:01:23 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (47.5ms)
Rendered pages/home.html.erb within layouts/application (54.1ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (undefined method `admin?' for nil:NilClass):
    12: 	  <% else %>
    13:       	<li><%= link_to "Sign in", signin_path %></li>
    14: 	  <% end %>
    15: 	<% if current_user.admin? %>
    16: 		<li>blah</li>
    17: 	<% end %>
    18:     </ul>
  app/views/layouts/_header.html.erb:15:in `_app_views_layouts__header_html_erb__1406476649_2174288440_545310'
  app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb__1780550026_2174483080_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/" for 127.0.0.1 at Sun Jul 03 22:18:20 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (79.6ms)
Rendered pages/home.html.erb within layouts/application (86.2ms)
Completed 500 Internal Server Error in 92ms

ActionView::Template::Error (undefined method `admin?' for nil:NilClass):
    12: 	  <% else %>
    13:       	<li><%= link_to "Sign in", signin_path %></li>
    14: 	  <% end %>
    15: 	<% if current_user.admin? %>
    16: 		<li>blah</li>
    17: 	<% end %>
    18:     </ul>
  app/views/layouts/_header.html.erb:15:in `_app_views_layouts__header_html_erb__1406476649_2172545080_545310'
  app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb__1780550026_2172662440_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/" for 127.0.0.1 at Sun Jul 03 22:22:00 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (15.4ms)
Rendered pages/home.html.erb within layouts/application (21.7ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (undefined method `admin?' for nil:NilClass):
    12: 	  <% else %>
    13:       	<li><%= link_to "Sign in", signin_path %></li>
    14: 	  <% end %>
    15: 	<% if current_user.admin? %>
    16: 		<li>blah</li>
    17: 	<% end %>
    18:     </ul>
  app/views/layouts/_header.html.erb:15:in `_app_views_layouts__header_html_erb__1406476649_2173717640_545310'
  app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb__1780550026_2173808940_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.5ms)


Started GET "/" for 127.0.0.1 at Sun Jul 03 22:22:35 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (86.0ms)
Rendered pages/home.html.erb within layouts/application (92.5ms)
Completed 500 Internal Server Error in 98ms

ActionView::Template::Error (undefined method `admin?' for nil:NilClass):
    12: 	  <% else %>
    13:       	<li><%= link_to "Sign in", signin_path %></li>
    14: 	  <% end %>
    15:   <% if current_user.admin? %>
    16: 		<li>blah</li>
    17: 	<% end %>
    18:     </ul>
  app/views/layouts/_header.html.erb:15:in `_app_views_layouts__header_html_erb__1406476649_2172131960_545310'
  app/views/layouts/application.html.erb:11:in `_app_views_layouts_application_html_erb__1780550026_2172201020_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/" for 127.0.0.1 at Sun Jul 03 22:22:42 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1
Rendered layouts/_header.html.erb (14.0ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/home.html.erb within layouts/application (38.1ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.5ms)


Started GET "/signin" for 127.0.0.1 at Sun Jul 03 22:22:44 +0100 2011
  Processing by SessionsController#new as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT 1[0m
Rendered layouts/_header.html.erb (14.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered sessions/new.html.erb within layouts/application (53.9ms)
Completed 200 OK in 60ms (Views: 59.6ms | ActiveRecord: 0.3ms)


Started POST "/sessions" for 127.0.0.1 at Sun Jul 03 22:22:56 +0100 2011
  Processing by SessionsController#create as HTML
  Parameters: {"commit"=>"Sign in", "session"=>{"password"=>"[FILTERED]", "email"=>"example@railstutorial.org"}, "authenticity_token"=>"HWbLzLXbFfHpkpvjL0gccwTORTZ9QhkU1ux5FnUdeAo=", "utf8"=>"✓"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."email" = 'example@railstutorial.org' LIMIT 1
Redirected to http://localhost:3000/users/1
Completed 302 Found in 22ms


Started GET "/users/1" for 127.0.0.1 at Sun Jul 03 22:22:56 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (18.4ms)
Completed 200 OK in 129ms (Views: 45.2ms | ActiveRecord: 0.4ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 22:22:59 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.4ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (16.3ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (32.9ms)
Completed 200 OK in 59ms (Views: 38.8ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at Sun Jul 03 22:23:01 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (90.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/home.html.erb within layouts/application (99.7ms)
Completed 200 OK in 106ms (Views: 105.3ms | ActiveRecord: 0.2ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 03 22:23:04 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.7ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (14.2ms)
Completed 200 OK in 35ms (Views: 20.4ms | ActiveRecord: 0.3ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 03 22:23:42 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (3.8ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 34ms (Views: 19.5ms | ActiveRecord: 0.2ms)


Started GET "/users" for 127.0.0.1 at Sun Jul 03 22:23:43 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (28.5ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.8ms)
Rendered layouts/_footer.html.erb (64.4ms)
Rendered users/index.html.erb within layouts/application (108.5ms)
Completed 200 OK in 133ms (Views: 114.1ms | ActiveRecord: 1.6ms)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (3.7ms)[0m  [1mSELECT "users".* FROM "users"[0m


Started POST "/users/3" for 127.0.0.1 at Sun Jul 03 22:26:10 +0100 2011

AbstractController::ActionNotFound (The action 'destroy' could not be found for UsersController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.6ms)
  [1m[35mUser Load (5.2ms)[0m  SELECT "users".* FROM "users"


Started GET "/" for 127.0.0.1 at Sat Jul 09 11:24:05 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (12.3ms)
  [1m[35mUser Load (19.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (789.1ms)
Rendered layouts/_footer.html.erb (1.7ms)
Rendered pages/home.html.erb within layouts/application (1039.6ms)
Completed 200 OK in 1167ms (Views: 1145.0ms | ActiveRecord: 19.7ms)
  [1m[36mUser Load (368.7ms)[0m  [1mSELECT "users".* FROM "users"[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at Sun Jul 24 18:28:02 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (2.2ms)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_header.html.erb (130.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/home.html.erb within layouts/application (142.5ms)
Completed 200 OK in 150ms (Views: 148.8ms | ActiveRecord: 0.5ms)


Started GET "/signup" for 127.0.0.1 at Sun Jul 24 18:28:07 +0100 2011
  Processing by UsersController#new as HTML
Rendered shared/_error_messages.html.erb (0.6ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (6.2ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered users/new.html.erb within layouts/application (56.8ms)
Completed 200 OK in 74ms (Views: 63.6ms | ActiveRecord: 0.3ms)


Started POST "/users" for 127.0.0.1 at Sun Jul 24 18:28:23 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"iMUH6QTT2NKvFCNLP79Gms0LNdstnlYCt0pD/H2WKTM=", "utf8"=>"✓", "user"=>{"name"=>"Nick", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[35mSQL (0.6ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1
Rendered shared/_error_messages.html.erb (1.8ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/new.html.erb within layouts/application (22.9ms)
Completed 200 OK in 81ms (Views: 28.7ms | ActiveRecord: 0.9ms)


Started POST "/users" for 127.0.0.1 at Sun Jul 24 18:28:32 +0100 2011
  Processing by UsersController#create as HTML
  Parameters: {"commit"=>"Sign up", "authenticity_token"=>"iMUH6QTT2NKvFCNLP79Gms0LNdstnlYCt0pD/H2WKTM=", "utf8"=>"✓", "user"=>{"name"=>"Nick", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"nick@nickwales.co.uk"}}
  [1m[35mSQL (0.5ms)[0m  SELECT 1 FROM "users" WHERE (LOWER("users"."email") = LOWER('nick@nickwales.co.uk')) LIMIT 1
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "users" ("encrypted_password", "salt", "name", "created_at", "email", "admin", "updated_at") VALUES ('bb4dcf1cfcfdf0f72789d545da4f834898013b140500519d53457eb79f350a33', '3219f25290c83194b564135a70576d1ffd3cba77acbb528a75fe607028b07a55', 'Nick', '2011-07-24 17:28:32.340887', 'nick@nickwales.co.uk', NULL, '2011-07-24 17:28:32.340887')[0m
Redirected to http://localhost:3000/users/101
Completed 302 Found in 89ms


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:28:32 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (15.5ms)
Completed 200 OK in 41ms (Views: 21.6ms | ActiveRecord: 1.3ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:28:39 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (15.2ms)
Completed 200 OK in 37ms (Views: 21.0ms | ActiveRecord: 0.5ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:28:41 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (14.0ms)
Completed 200 OK in 35ms (Views: 20.1ms | ActiveRecord: 0.2ms)


Started GET "/users/101/edit" for 127.0.0.1 at Sun Jul 24 18:28:44 +0100 2011
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered shared/_error_messages.html.erb (0.6ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (2.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/edit.html.erb within layouts/application (20.2ms)
Completed 200 OK in 42ms (Views: 26.4ms | ActiveRecord: 0.2ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:30:49 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (87.5ms)
Completed 200 OK in 110ms (Views: 94.0ms | ActiveRecord: 0.2ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:30:50 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.4ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered users/show.html.erb within layouts/application (26.2ms)
Completed 200 OK in 58ms (Views: 34.5ms | ActiveRecord: 0.4ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:30:54 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (1.5ms)
Rendered users/show.html.erb within layouts/application (15.8ms)
Completed 200 OK in 37ms (Views: 22.0ms | ActiveRecord: 0.2ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:31:13 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (14.2ms)
Completed 200 OK in 36ms (Views: 20.1ms | ActiveRecord: 0.3ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:31:14 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (1.5ms)
Rendered users/show.html.erb within layouts/application (15.7ms)
Completed 200 OK in 37ms (Views: 21.3ms | ActiveRecord: 0.2ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:32:28 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (3.6ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (13.7ms)
Completed 200 OK in 34ms (Views: 19.4ms | ActiveRecord: 0.2ms)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 18:32:37 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (17.9ms)
Completed 200 OK in 39ms (Views: 23.6ms | ActiveRecord: 0.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
  [1m[35mSQL (0.2ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mCREATE TABLE "results" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "match_id" integer, "user_id" integer, "score" integer, "result" varchar(255), "active" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110724190028')
  [1m[36mSQL (1.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("results")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_users_on_email')
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.5ms)[0m  INSERT INTO "results" ("created_at", "result", "user_id", "active", "updated_at", "score", "match_id") VALUES ('2011-07-24 19:22:46.490169', 'win', 1, 1, '2011-07-24 19:22:46.490169', 3, 1)
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)


Started GET "/users/101" for 127.0.0.1 at Sun Jul 24 20:28:26 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (15.1ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/show.html.erb within layouts/application (26.4ms)
Completed 200 OK in 121ms (Views: 98.3ms | ActiveRecord: 0.9ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:28:28 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.9ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (17.1ms)
Completed 200 OK in 41ms (Views: 22.9ms | ActiveRecord: 0.5ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:31:52 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered users/show.html.erb within layouts/application (41.1ms)
Completed 500 Internal Server Error in 63ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    7: 
    8: 		<% unless @user.results.empty? %>
    9: 		        <table class="microposts" summary="User results">
    10: 		          <%= render @results %>
    11: 		        </table>
    12: 		        <%= will_paginate @results %>
    13: 		      <% end %>
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2174668040_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (36.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:33:14 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
Rendered users/show.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 103ms

ActionView::Template::Error (undefined local variable or method `user' for #<#<Class:0x103200810>:0x1034f83d8>):
    5:         <%= gravatar_for @user %>
    6:         <%= @user.name %>
    7: 
    8: 		<% unless user.results.empty? %>
    9: 		        <table class="microposts" summary="User results">
    10: 		          <%= render @results %>
    11: 		        </table>
  app/views/users/show.html.erb:8:in `_app_views_users_show_html_erb__388480827_2175251500_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:35:02 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered users/show.html.erb within layouts/application (17.6ms)
Completed 500 Internal Server Error in 43ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    7: 
    8: 		<% unless @user.results.empty? %>
    9: 		        <table class="microposts" summary="User results">
    10: 		          <%= render @results %>
    11: 		        </table>
    12: 		        <%= will_paginate @results %>
    13: 		      <% end %>
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173413580_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:40:11 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered users/show.html.erb within layouts/application (9.4ms)
Completed 500 Internal Server Error in 41ms

ActionView::Template::Error (Missing partial results/result with {:handlers=>[:erb, :builder, :rjs, :rhtml, :rxml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/Users/nwales/Sites/ruby/sample_app2/app/views"):
    7: 
    8: 		<% unless @user.results.empty? %>
    9: 		        <table class="microposts" summary="User results">
    10: 		          <%= render @results %>
    11: 		        </table>
    12: 		        <%= will_paginate @results %>
    13: 		      <% end %>
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2174235500_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.2ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:40:32 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered results/_result.html.erb (44.0ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.2ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (132.1ms)
Completed 200 OK in 164ms (Views: 137.7ms | ActiveRecord: 1.1ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:42:19 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered results/_result.html.erb (4.9ms)
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (27.9ms)
Completed 200 OK in 60ms (Views: 33.0ms | ActiveRecord: 1.0ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:45:17 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered results/_result.html.erb (4.8ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (23.2ms)
Completed 200 OK in 54ms (Views: 29.3ms | ActiveRecord: 1.0ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 20:45:33 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered results/_result.html.erb (4.8ms)
Rendered layouts/_stylesheets.html.erb (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (25.0ms)
Completed 200 OK in 59ms (Views: 30.0ms | ActiveRecord: 1.1ms)
  [1m[35mAREL (0.6ms)[0m  INSERT INTO "results" ("created_at", "result", "user_id", "id", "active", "updated_at", "score", "match_id") VALUES ('2011-07-24 19:49:10.142421', 'lost', 2, 2, 1, '2011-07-24 19:49:10.142421', 1, 2)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results"
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (15.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (35.6ms)[0m  [1mCREATE TABLE "matches" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "playerdivision_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110724201028')
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("matches")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("results")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.5ms)[0m  INSERT INTO "matches" ("updated_at", "playerdivision_id", "created_at") VALUES ('2011-07-24 20:24:14.137563', 1, '2011-07-24 20:24:14.137563')
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" LIMIT 1
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (14.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results"[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches"
  [1m[36mMatch Load (0.4ms)[0m  [1mSELECT "matches".* FROM "matches" LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" LIMIT 1
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 21:28:53 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSQL (3.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered results/_result.html.erb (48.2ms)
Rendered layouts/_stylesheets.html.erb (2.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (6.7ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (87.8ms)
Completed 200 OK in 230ms (Views: 96.6ms | ActiveRecord: 4.8ms)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.6ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
  [1m[36mSQL (3.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" LIMIT 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" ORDER BY results.id DESC LIMIT 1
  [1m[36mAREL (17.6ms)[0m  [1mUPDATE "results" SET "match_id" = 1, "updated_at" = '2011-07-24 21:06:42.850916' WHERE "results"."id" = 2[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:07:32 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered results/_result.html.erb (5.4ms)
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.0ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/show.html.erb within layouts/application (41.9ms)
Completed 200 OK in 220ms (Views: 64.0ms | ActiveRecord: 1.4ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:38:30 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
Rendered results/_result.html.erb (113.3ms)
Rendered users/show.html.erb within layouts/application (118.5ms)
Completed 500 Internal Server Error in 296ms

ActionView::Template::Error (undefined method `match_id' for #<ActiveRecord::Relation:0x1033f7ba0>):
    3: 	<% m = result.match_id 
    4: 	r = Result.where("match_id = 1") %>
    5: 	
    6: 	<%= r.match_id %>
    7:     <span class="content"><%= result.result %> vs <%= %></span>
    8:     <span class="timestamp">
    9:       Posted <%= time_ago_in_words(result.created_at) %> ago.
  app/views/results/_result.html.erb:6:in `_app_views_results__result_html_erb__95593030_2174923740_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2175032620_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (37.0ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:38:49 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
ERROR: compiling _app_views_results__result_html_erb__95593030_2172552520_4075980 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:6: syntax error, unexpected ')'
	');@output_buffer.append= ( r. );@output_buffer.safe_concat('
	                                ^
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:13: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:15: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_results__result_html_erb__95593030_2172552520_4075980(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "results/_result";_old_output_buffer = @output_buffer;result_counter = local_assigns[:result_counter];result = local_assigns[:result];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<tr>
  <td class="results">
');	 m = result.match_id 
	r = Result.where("match_id = 1") 
@output_buffer.safe_concat('	
	');@output_buffer.append= ( r. );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <span class="content">');@output_buffer.append= ( result.result );@output_buffer.safe_concat(' vs ');@output_buffer.append= ( );@output_buffer.safe_concat('</span>
    <span class="timestamp">
      Posted ');@output_buffer.append= ( time_ago_in_words(result.created_at) );@output_buffer.safe_concat(' ago.
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:15:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:300:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:280:in `render_collection'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:255:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:253:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/Users/nwales/Sites/ruby/sample_app2/app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2172600540_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__434435962__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered results/_result.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (6.6ms)
Completed 500 Internal Server Error in 48ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:6: syntax error, unexpected ')'
	');@output_buffer.append= ( r. );@output_buffer.safe_concat('
	                                ^
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:13: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:15: syntax error, unexpected kEND, expecting ')'):
    3: 	<% m = result.match_id 
    4: 	r = Result.where("match_id = 1") %>
    5: 	
    6: 	<%= r. %>
    7:     <span class="content"><%= result.result %> vs <%= %></span>
    8:     <span class="timestamp">
    9:       Posted <%= time_ago_in_words(result.created_at) %> ago.
  app/views/results/_result.html.erb:15:in `compile'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2172600540_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (13.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.3ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:38:56 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (5.3ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (20.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (26.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (46.7ms)
Completed 200 OK in 82ms (Views: 31.9ms | ActiveRecord: 21.9ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:39:54 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (6.4ms)
Rendered users/show.html.erb within layouts/application (10.5ms)
Completed 500 Internal Server Error in 42ms

ActionView::Template::Error (undefined method `result' for #<ActiveRecord::Relation:0x1032e1b58>):
    3: 	<% m = result.match_id 
    4: 	r = Result.where("match_id = 1") %>
    5: 	
    6: 	<%= r.result %>
    7:     <span class="content"><%= result.result %> vs <%= %></span>
    8:     <span class="timestamp">
    9:       Posted <%= time_ago_in_words(result.created_at) %> ago.
  app/views/results/_result.html.erb:6:in `_app_views_results__result_html_erb__95593030_2174252220_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2174295520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:49:54 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
ERROR: compiling _app_views_results__result_html_erb__95593030_2172298360_4075980 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:14: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_results__result_html_erb__95593030_2172298360_4075980(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "results/_result";_old_output_buffer = @output_buffer;result_counter = local_assigns[:result_counter];result = local_assigns[:result];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<tr>
  <td class="results">
');	 m = result.match_id 
	r = Result.where("match_id = 1") 
	for result in @r 
@output_buffer.safe_concat('	
	');@output_buffer.append= ( result.result );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <span class="content">');@output_buffer.append= ( result.result );@output_buffer.safe_concat(' vs ');@output_buffer.append= ( );@output_buffer.safe_concat('</span>
    <span class="timestamp">
      Posted ');@output_buffer.append= ( time_ago_in_words(result.created_at) );@output_buffer.safe_concat(' ago.
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:300:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:280:in `render_collection'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:255:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:253:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/Users/nwales/Sites/ruby/sample_app2/app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2172336280_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__434435962__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered results/_result.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (5.2ms)
Completed 500 Internal Server Error in 40ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:14: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16: syntax error, unexpected $end, expecting kEND):
    11:     </span>
    12:   </td>
    13: </tr>
  app/views/results/_result.html.erb:16:in `compile'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2172336280_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.3ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:50:13 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
ERROR: compiling _app_views_results__result_html_erb__95593030_2173259000_4075980 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:14: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_results__result_html_erb__95593030_2173259000_4075980(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "results/_result";_old_output_buffer = @output_buffer;result_counter = local_assigns[:result_counter];result = local_assigns[:result];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<tr>
  <td class="results">
');	 m = result.match_id 
	r = Result.where("match_id = 1") 
	for result in @r 
@output_buffer.safe_concat('	
	');@output_buffer.append= ( result.result );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <span class="content">');@output_buffer.append= ( result.result );@output_buffer.safe_concat('</span>
    <span class="timestamp">
      Posted ');@output_buffer.append= ( time_ago_in_words(result.created_at) );@output_buffer.safe_concat(' ago.
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:300:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:280:in `render_collection'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:255:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:253:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/Users/nwales/Sites/ruby/sample_app2/app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173319160_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__434435962__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered results/_result.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (4.9ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:14: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16: syntax error, unexpected $end, expecting kEND):
    11:     </span>
    12:   </td>
    13: </tr>
  app/views/results/_result.html.erb:16:in `compile'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173319160_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.8ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:53:25 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (4.8ms)
Rendered users/show.html.erb within layouts/application (8.9ms)
Completed 500 Internal Server Error in 111ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    2:   <td class="results">
    3: 	<% m = result.match_id 
    4: 	r = Result.where("match_id = 1") 
    5: 	for result in @r %>
    6: 	
    7: 	<%= result.result %><br>
    8: 	<% end %>
  app/views/results/_result.html.erb:5:in `_app_views_results__result_html_erb__95593030_2174413140_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2174450460_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 22:56:37 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
Rendered results/_result.html.erb (4.7ms)
Rendered users/show.html.erb within layouts/application (8.6ms)
Completed 500 Internal Server Error in 41ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    2:   <td class="results">
    3: 	<% m = result.match_id 
    4: 	r = Result.where("match_id = 1") 
    5: 	for result in @r %>
    6: 	
    7: 	<%= result.result %><br>
    8: 	<% end %>
  app/views/results/_result.html.erb:5:in `_app_views_results__result_html_erb__95593030_2172295440_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2172345560_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (75.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (86.9ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:01:01 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (6.3ms)
Rendered users/show.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 45ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    3: 	<% m = result.match_id 
    4: 	r = Result.where("match_id = 1") 
    5: 	
    6: 	for article in @r %>
    7: 
    8: 	
    9: 	<span class="content"><li><%= article.result %></li></span>
  app/views/results/_result.html.erb:6:in `_app_views_results__result_html_erb__95593030_2173725740_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173761900_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.3ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:03:50 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
ERROR: compiling _app_views_results__result_html_erb__95593030_2174654900_4075980 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_results__result_html_erb__95593030_2174654900_4075980(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "results/_result";_old_output_buffer = @output_buffer;result_counter = local_assigns[:result_counter];result = local_assigns[:result];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<tr>
  <td class="results">
');	 m = result.match_id 
	r = Result.where("match_id = 1") 
@output_buffer.safe_concat('	
');@output_buffer.append= ( 	r[0].result

	);@output_buffer.safe_concat('
');@output_buffer.safe_concat('
');	 end 
@output_buffer.safe_concat('    <span class="timestamp">
      Posted ');@output_buffer.append= ( time_ago_in_words(result.created_at) );@output_buffer.safe_concat(' ago.
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:300:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:280:in `render_collection'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:255:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:253:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/Users/nwales/Sites/ruby/sample_app2/app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2174759540_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__434435962__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered results/_result.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (5.7ms)
Completed 500 Internal Server Error in 107ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:16: syntax error, unexpected kENSURE, expecting $end):
    13:     </span>
    14:   </td>
    15: </tr>
  app/views/results/_result.html.erb:16:in `compile'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2174759540_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (19.9ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:03:57 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (5.9ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered users/show.html.erb within layouts/application (24.8ms)
Completed 200 OK in 57ms (Views: 29.8ms | ActiveRecord: 1.5ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:04:18 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
Rendered results/_result.html.erb (6.1ms)
Rendered layouts/_stylesheets.html.erb (2.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (39.8ms)
Completed 200 OK in 78ms (Views: 46.4ms | ActiveRecord: 1.3ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:05:10 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (4.8ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (23.5ms)
Completed 200 OK in 56ms (Views: 28.7ms | ActiveRecord: 1.1ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:05:48 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (4.4ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (27.2ms)
Completed 200 OK in 63ms (Views: 32.6ms | ActiveRecord: 1.0ms)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" WHERE (match_id = 1)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:06:34 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (14.3ms)
Rendered users/show.html.erb within layouts/application (18.4ms)
Completed 500 Internal Server Error in 49ms

ActionView::Template::Error (undefined local variable or method `r' for #<#<Class:0x10325f0b8>:0x10325cf98>):
    4: 	results = Result.where("match_id = 1") 
    5: 	
    6: 	for result in @results %>
    7: 	<%= r.count %>
    8: 	
    9: 	<span class="content"><li><%= result.result %></li></span>
    10: 	<% end %>
  app/views/results/_result.html.erb:7:in `_app_views_results__result_html_erb__95593030_2173836280_4075980'
  app/views/results/_result.html.erb:6:in `each'
  app/views/results/_result.html.erb:6:in `_app_views_results__result_html_erb__95593030_2173836280_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173884380_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:06:47 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE (match_id = 1)[0m
Rendered results/_result.html.erb (6.3ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (6.4ms)
Rendered layouts/_footer.html.erb (2.3ms)
Rendered users/show.html.erb within layouts/application (34.5ms)
Completed 200 OK in 148ms (Views: 40.3ms | ActiveRecord: 1.5ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:07:56 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (1.1ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (5.9ms)
Rendered layouts/_stylesheets.html.erb (2.5ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (34.0ms)
Completed 200 OK in 157ms (Views: 37.9ms | ActiveRecord: 2.2ms)
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:09:17 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (4.4ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (89.5ms)
Completed 200 OK in 121ms (Views: 94.5ms | ActiveRecord: 0.9ms)
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:13:18 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
ERROR: compiling _app_views_results__result_html_erb__95593030_2173189260_4075980 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:15: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_results__result_html_erb__95593030_2173189260_4075980(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "results/_result";_old_output_buffer = @output_buffer;result_counter = local_assigns[:result_counter];result = local_assigns[:result];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<tr>
  <td class="results">
');	 
	results = Result.where("match_id = 1") 
@output_buffer.safe_concat('
	');@output_buffer.append= ( results.each {|result| puts result.result} );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
	<span class="content"><li></li></span>
');	 end 
@output_buffer.safe_concat('    <span class="timestamp">
 
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:15:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:300:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:280:in `render_collection'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:255:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:253:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/Users/nwales/Sites/ruby/sample_app2/app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173248140_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__434435962__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered results/_result.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (4.9ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:15: syntax error, unexpected kENSURE, expecting $end):
    12:     </span>
    13:   </td>
    14: </tr>
  app/views/results/_result.html.erb:15:in `compile'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173248140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (76.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (82.6ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:13:24 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
Rendered results/_result.html.erb (6.0ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/show.html.erb within layouts/application (26.4ms)
Completed 200 OK in 59ms (Views: 31.3ms | ActiveRecord: 1.6ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:14:09 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (5.5ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered users/show.html.erb within layouts/application (25.2ms)
Completed 200 OK in 57ms (Views: 30.6ms | ActiveRecord: 1.3ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:14:21 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
Rendered results/_result.html.erb (6.0ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (25.3ms)
Completed 200 OK in 57ms (Views: 30.3ms | ActiveRecord: 1.2ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:22:29 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
Rendered results/_result.html.erb (4.7ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (14.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (18.8ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered users/show.html.erb within layouts/application (38.7ms)
Completed 200 OK in 163ms (Views: 32.6ms | ActiveRecord: 15.4ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:22:47 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (5.8ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (27.5ms)
Completed 200 OK in 133ms (Views: 32.4ms | ActiveRecord: 1.4ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:23:02 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
Rendered results/_result.html.erb (5.8ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered users/show.html.erb within layouts/application (98.9ms)
Completed 200 OK in 133ms (Views: 105.3ms | ActiveRecord: 1.4ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:25:45 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (6.4ms)
Rendered users/show.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 54ms

ActionView::Template::Error (undefined method `player_id' for #<Result:0x1030a3be8>):
    2:   <td class="results">
    3: 	<% results = Result.where("match_id = 1") 
    4: 	for blah in results %>
    5: 	<span class="content"><%= blah.player_id blah.result %></li></span>
    6: 	<% end %>
    7:     <span class="timestamp">
    8:  
  app/views/results/_result.html.erb:5:in `_app_views_results__result_html_erb__95593030_2173006480_4075980'
  app/views/results/_result.html.erb:4:in `_app_views_results__result_html_erb__95593030_2173006480_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173054480_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (76.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (88.8ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:26:02 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (5.9ms)
Rendered users/show.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (wrong number of arguments (1 for 0)):
    2:   <td class="results">
    3: 	<% results = Result.where("match_id = 1") 
    4: 	for blah in results %>
    5: 	<span class="content"><%= blah.user_id blah.result %></li></span>
    6: 	<% end %>
    7:     <span class="timestamp">
    8:  
  app/views/results/_result.html.erb:5:in `user_id'
  app/views/results/_result.html.erb:5:in `_app_views_results__result_html_erb__95593030_2173644440_4075980'
  app/views/results/_result.html.erb:4:in `_app_views_results__result_html_erb__95593030_2173644440_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2173690400_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.8ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:26:19 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (6.7ms)
Rendered layouts/_stylesheets.html.erb (1.6ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (29.4ms)
Completed 200 OK in 136ms (Views: 33.8ms | ActiveRecord: 2.8ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:26:40 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
ERROR: compiling _app_views_results__result_html_erb__95593030_2174910800_4075980 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:5: syntax error, unexpected ')', expecting '='
... ( blah.user_id, blah.result );@output_buffer.safe_concat('<...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:6: syntax error, unexpected kEND, expecting ')'
');	 end 
   	    ^
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:12: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:14: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_results__result_html_erb__95593030_2174910800_4075980(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "results/_result";_old_output_buffer = @output_buffer;result_counter = local_assigns[:result_counter];result = local_assigns[:result];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<tr>
  <td class="results">
');	 results = Result.where("match_id = 1") 
	for blah in results 
@output_buffer.safe_concat('	<span class="content">');@output_buffer.append= ( blah.user_id, blah.result );@output_buffer.safe_concat('</li></span>
');	 end 
@output_buffer.safe_concat('    <span class="timestamp">
 
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:14:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:300:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `each'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:297:in `collection_with_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:280:in `render_collection'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:255:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:253:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/partials.rb:378:in `_render_partial'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:31:in `render'
/Users/nwales/Sites/ruby/sample_app2/app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2175020900_0'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:135:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__434435962__process_action__453433196__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered results/_result.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (8.0ms)
Completed 500 Internal Server Error in 121ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:5: syntax error, unexpected ')', expecting '='
... ( blah.user_id, blah.result );@output_buffer.safe_concat('<...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:6: syntax error, unexpected kEND, expecting ')'
');	 end 
   	    ^
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:12: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/results/_result.html.erb:14: syntax error, unexpected kEND, expecting ')'):
    2:   <td class="results">
    3: 	<% results = Result.where("match_id = 1") 
    4: 	for blah in results %>
    5: 	<span class="content"><%= blah.user_id, blah.result %></li></span>
    6: 	<% end %>
    7:     <span class="timestamp">
    8:  
  app/views/results/_result.html.erb:14:in `compile'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2175020900_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (11.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (18.8ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:26:46 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (5.8ms)
Rendered users/show.html.erb within layouts/application (11.1ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (can't convert String into Integer):
    2:   <td class="results">
    3: 	<% results = Result.where("match_id = 1") 
    4: 	for blah in results %>
    5: 	<span class="content"><%= blah.user_id & blah.result %></li></span>
    6: 	<% end %>
    7:     <span class="timestamp">
    8:  
  app/views/results/_result.html.erb:5:in `&'
  app/views/results/_result.html.erb:5:in `_app_views_results__result_html_erb__95593030_2172673120_4075980'
  app/views/results/_result.html.erb:4:in `_app_views_results__result_html_erb__95593030_2172673120_4075980'
  app/views/users/show.html.erb:10:in `_app_views_users_show_html_erb__388480827_2172714060_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.9ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:26:58 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1)
Rendered results/_result.html.erb (5.1ms)
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (24.6ms)
Completed 200 OK in 217ms (Views: 30.4ms | ActiveRecord: 1.8ms)


Started GET "/users/1" for 127.0.0.1 at Sun Jul 24 23:27:33 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 1) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 1)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
Rendered results/_result.html.erb (6.0ms)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/show.html.erb within layouts/application (28.3ms)
Completed 200 OK in 154ms (Views: 34.5ms | ActiveRecord: 1.6ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 19:40:29 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (2.0ms)
  [1m[36mUser Load (14.8ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (108.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (130.5ms)
Completed 200 OK in 137ms (Views: 121.7ms | ActiveRecord: 14.8ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 19:45:00 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (4.9ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (107.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (122.4ms)
Completed 200 OK in 133ms (Views: 131.7ms | ActiveRecord: 0.6ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 19:45:13 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (90.2ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (100.6ms)
Completed 200 OK in 107ms (Views: 106.5ms | ActiveRecord: 0.3ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 19:46:23 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (16.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (126.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (135.9ms)
Completed 200 OK in 142ms (Views: 125.3ms | ActiveRecord: 16.0ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 19:47:02 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (26.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (38.6ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.3ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 19:47:09 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (32.9ms)
Completed 200 OK in 39ms (Views: 38.3ms | ActiveRecord: 0.2ms)
  [1m[36mAREL (46.4ms)[0m  [1mINSERT INTO "results" ("match_id", "created_at", "score", "result", "updated_at", "active", "user_id") VALUES (2, '2011-07-25 19:13:36.647886', 3, 'win', '2011-07-25 19:13:36.647886', NULL, 1)[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO "results" ("match_id", "created_at", "score", "result", "updated_at", "active", "user_id") VALUES (2, '2011-07-25 19:14:17.906994', 1, 'lost', '2011-07-25 19:14:17.906994', NULL, 2)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mResult Load (7.1ms)[0m  [1mSELECT "results".* FROM "results"[0m


Started GET "/league" for 127.0.0.1 at Mon Jul 25 20:14:38 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (88.0ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (99.1ms)
Completed 200 OK in 121ms (Views: 120.6ms | ActiveRecord: 0.2ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 20:38:46 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.8ms)
Rendered layouts/_footer.html.erb (2.5ms)
Rendered pages/league.html.erb within layouts/application (35.5ms)
Completed 200 OK in 45ms (Views: 43.2ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 20:40:21 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (25.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (35.5ms)
Completed 200 OK in 111ms (Views: 109.7ms | ActiveRecord: 0.3ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 20:40:58 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (98.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (109.0ms)
Completed 200 OK in 116ms (Views: 115.4ms | ActiveRecord: 0.2ms)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" WHERE (user_id = 1)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(user_id = 1) FROM "results"
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results"[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(user_id = 1) FROM "results"
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results"[0m
  [1m[35mSQL (0.4ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results"
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results"[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE (user_id = 1)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" WHERE (user_id = 1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:03:01 +0100 2011
  Processing by PagesController#league as HTML
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    10: 
    11: Player One scored <%= p1_points %> points, Player Two scored <%= p2_points %> points.
    12: 
    13: <%= render @league %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb___71172104_2173766680_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:04:57 +0100 2011
  Processing by PagesController#league as HTML
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    10: 
    11: Player One scored <%= p1_points %> points, Player Two scored <%= p2_points %> points.
    12: 
    13: <%= render @league %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb___71172104_2174985880_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:04:59 +0100 2011
  Processing by PagesController#league as HTML
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (undefined method `model_name' for NilClass:Class):
    10: 
    11: Player One scored <%= p1_points %> points, Player Two scored <%= p2_points %> points.
    12: 
    13: <%= render @league %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb___71172104_2173703300_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:08:31 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2172456880_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:18: syntax error, unexpected '<', expecting kEND
	<span class="content"><%= point...
	 ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:18: syntax error, unexpected '<'
	<span class="content"><%= points ;@output_buffer.safe...
	                       ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected '<'
    </span>
     ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:23: unknown regexp options - td
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:24: syntax error, unexpected '<'
</tr>');@output_buffer.to_s
 ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:24: unterminated string meets end of file
Function body:           def _app_views_pages_league_html_erb___71172104_2172456880_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('
Player One scored ');@output_buffer.append= ( p1_points );@output_buffer.safe_concat(' points, Player Two scored ');@output_buffer.append= ( p2_points );@output_buffer.safe_concat(' points.

<tr>
  <td class="results">
');@output_buffer.safe_concat('	'); 
	points = Result.where("user_id = 1").sum("score")
	
	<span class="content"><%= points ;@output_buffer.safe_concat('</li></span>
');	 end 
@output_buffer.safe_concat('    <span class="timestamp">
 
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:24:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:18: syntax error, unexpected '<', expecting kEND
	<span class="content"><%= point...
	 ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:18: syntax error, unexpected '<'
	<span class="content"><%= points ;@output_buffer.safe...
	                       ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected '<'
    </span>
     ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:23: unknown regexp options - td
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:24: syntax error, unexpected '<'
</tr>');@output_buffer.to_s
 ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:24: unterminated string meets end of file):
    15: 	<% 
    16: 	points = Result.where("user_id = 1").sum("score")
    17: 	
    18: 	<span class="content"><%= points %></li></span>
    19: 	<% end %>
    20:     <span class="timestamp">
    21:  
  app/views/pages/league.html.erb:24:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.1ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:09:44 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174928300_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:25: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb___71172104_2174928300_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('
Player One scored ');@output_buffer.append= ( p1_points );@output_buffer.safe_concat(' points, Player Two scored ');@output_buffer.append= ( p2_points );@output_buffer.safe_concat(' points.

<tr>
  <td class="results">
');	 
	points = Result.where("user_id = 1").sum("score")
	
@output_buffer.safe_concat('	<span class="content"> ');@output_buffer.append= ( points );@output_buffer.safe_concat('</li></span>
');	 end 
@output_buffer.safe_concat('    <span class="timestamp">
 
    </span>
  </td>
</tr>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:25:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:25: syntax error, unexpected kENSURE, expecting $end):
    22:     </span>
    23:   </td>
    24: </tr>
  app/views/pages/league.html.erb:25:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:10:48 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173693660_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:21: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb___71172104_2173693660_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('
Player One scored ');@output_buffer.append= ( p1_points );@output_buffer.safe_concat(' points, Player Two scored ');@output_buffer.append= ( p2_points );@output_buffer.safe_concat(' points.


');	 
	points = Result.where("user_id = 1").sum("score")
	
@output_buffer.safe_concat('	<span class="content"> ');@output_buffer.append= ( points );@output_buffer.safe_concat('</li></span>
');	 end 
@output_buffer.safe_concat(' 
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:21:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:21: syntax error, unexpected kENSURE, expecting $end):
    18: 	<% end %>
    19:  
  app/views/pages/league.html.erb:21:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:11:04 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (92.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (112.8ms)
Completed 200 OK in 119ms (Views: 118.2ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:33:45 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.6ms)
Rendered layouts/_footer.html.erb (1.8ms)
Rendered pages/league.html.erb within layouts/application (115.0ms)
Completed 200 OK in 122ms (Views: 120.8ms | ActiveRecord: 0.5ms)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:49:29 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173594240_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected tLBRACE
	h.{|a,b| a[1]<=>b[1]}
	   ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '|', expecting '='
	h.{|a,b| a[1]<=>b[1]}
	        ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '}', expecting kEND
Function body:           def _app_views_pages_league_html_erb___71172104_2173594240_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('
Player One scored ');@output_buffer.append= ( p1_points );@output_buffer.safe_concat(' points, Player Two scored ');@output_buffer.append= ( p2_points );@output_buffer.safe_concat(' points.


'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h["1"] = points
	
	h.{|a,b| a[1]<=>b[1]}

	

@output_buffer.safe_concat('	<span class="content"> ');@output_buffer.append= ( puts h );@output_buffer.safe_concat('</li></span>
 
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:29:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected tLBRACE
	h.{|a,b| a[1]<=>b[1]}
	   ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '|', expecting '='
	h.{|a,b| a[1]<=>b[1]}
	        ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '}', expecting kEND):
    17: 	points = Result.where("user_id = 1").sum("score")
    18: 	h["1"] = points
    19: 	
    20: 	h.{|a,b| a[1]<=>b[1]}
    21: 
    22: 	
    23: %>
  app/views/pages/league.html.erb:29:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (81.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (88.1ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:49:40 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174496260_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected tLBRACE
	h.{|a,b| a[1]<=>b[1]}
	   ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '|', expecting '='
	h.{|a,b| a[1]<=>b[1]}
	        ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '}', expecting kEND
Function body:           def _app_views_pages_league_html_erb___71172104_2174496260_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h["1"] = points
	
	h.{|a,b| a[1]<=>b[1]}

	

@output_buffer.safe_concat('	<span class="content"> ');@output_buffer.append= ( puts h );@output_buffer.safe_concat('</li></span>
 
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:29:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected tLBRACE
	h.{|a,b| a[1]<=>b[1]}
	   ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '|', expecting '='
	h.{|a,b| a[1]<=>b[1]}
	        ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:20: syntax error, unexpected '}', expecting kEND):
    17: 	points = Result.where("user_id = 1").sum("score")
    18: 	h["1"] = points
    19: 	
    20: 	h.{|a,b| a[1]<=>b[1]}
    21: 
    22: 	
    23: %>
  app/views/pages/league.html.erb:29:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:50:12 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173432820_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected tLBRACE
	h.{|a,b| a[1]<=>b[1]}
	   ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected '|', expecting '='
	h.{|a,b| a[1]<=>b[1]}
	        ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected '}', expecting kEND
Function body:           def _app_views_pages_league_html_erb___71172104_2173432820_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h["1"] = points
	h["2"] = 1
	
	
	h.{|a,b| a[1]<=>b[1]}

	

@output_buffer.safe_concat('	<span class="content"> ');@output_buffer.append= ( puts h );@output_buffer.safe_concat('</li></span>
 
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:31:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected tLBRACE
	h.{|a,b| a[1]<=>b[1]}
	   ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected '|', expecting '='
	h.{|a,b| a[1]<=>b[1]}
	        ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected '}', expecting kEND):
    19: 	h["2"] = 1
    20: 	
    21: 	
    22: 	h.{|a,b| a[1]<=>b[1]}
    23: 
    24: 	
    25: %>
  app/views/pages/league.html.erb:31:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 21:51:07 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (26.7ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/league.html.erb within layouts/application (120.3ms)
Completed 200 OK in 127ms (Views: 125.7ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 22:25:15 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (25.8ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (117.5ms)
Completed 200 OK in 124ms (Views: 123.0ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 22:56:16 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (55.0ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (174.9ms)
Completed 200 OK in 182ms (Views: 180.8ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 22:57:26 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2175167840_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected ')', expecting '}'
...append= ( h.each {|k,v| puts );@output_buffer.safe_concat(' ...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected '}', expecting ')'
...utput_buffer.append= ("#{v}" } );@output_buffer.safe_concat(...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2175167840_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h["1"] = points
	h["2"] = 1
	h["3"] = 16
	
	h.sort {|a,b| a[1]<=>b[1]}


	

@output_buffer.safe_concat('	<span class="content"> ');@output_buffer.append= ( h.each {|k,v| puts );@output_buffer.safe_concat(' <li> ');@output_buffer.append= ("#{v}" } );@output_buffer.safe_concat('</li></span>
 
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected ')', expecting '}'
...append= ( h.each {|k,v| puts );@output_buffer.safe_concat(' ...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected '}', expecting ')'
...utput_buffer.append= ("#{v}" } );@output_buffer.safe_concat(...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32: syntax error, unexpected kEND, expecting ')'):
    24: 
    25: 	
    26: %>
    27: 	<span class="content"> <%= h.each {|k,v| puts %> <li> <%="#{v}" } %></li></span>
    28:  
  app/views/pages/league.html.erb:32:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 22:57:37 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173794360_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected ')', expecting '}'
...append= ( h.each {|k,v| puts );@output_buffer.append= ("#{v}...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected '}', expecting ')'
...utput_buffer.append= ("#{v}" } );@output_buffer.safe_concat(...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2173794360_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h["1"] = points
	h["2"] = 1
	h["3"] = 16
	
	h.sort {|a,b| a[1]<=>b[1]}


	

@output_buffer.safe_concat('	<span class="content"> ');@output_buffer.append= ( h.each {|k,v| puts );@output_buffer.append= ("#{v}" } );@output_buffer.safe_concat('</li></span>
 
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected ')', expecting '}'
...append= ( h.each {|k,v| puts );@output_buffer.append= ("#{v}...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:27: syntax error, unexpected '}', expecting ')'
...utput_buffer.append= ("#{v}" } );@output_buffer.safe_concat(...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32: syntax error, unexpected kEND, expecting ')'):
    24: 
    25: 	
    26: %>
    27: 	<span class="content"> <%= h.each {|k,v| puts %><%="#{v}" } %></li></span>
    28:  
  app/views/pages/league.html.erb:32:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.2ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 22:57:42 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (102.0ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/league.html.erb within layouts/application (125.8ms)
Completed 200 OK in 132ms (Views: 131.3ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 22:59:38 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (103.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (127.8ms)
Completed 200 OK in 134ms (Views: 132.6ms | ActiveRecord: 0.9ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:01:38 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (42.1ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/league.html.erb within layouts/application (145.2ms)
Completed 200 OK in 154ms (Views: 153.3ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:02:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (44.9ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/league.html.erb within layouts/application (142.5ms)
Completed 200 OK in 149ms (Views: 147.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:04:17 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (50.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (141.0ms)
Completed 200 OK in 147ms (Views: 146.5ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:05:17 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (4.8ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.1ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered pages/league.html.erb within layouts/application (117.3ms)
Completed 200 OK in 124ms (Views: 122.7ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:06:57 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (27.5ms)
Rendered layouts/_footer.html.erb (3.0ms)
Rendered pages/league.html.erb within layouts/application (51.5ms)
Completed 200 OK in 59ms (Views: 57.9ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:07:24 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (26.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (48.5ms)
Completed 200 OK in 55ms (Views: 54.4ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:20:55 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[35mUser Load (16.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (66.4ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (89.6ms)
Completed 200 OK in 96ms (Views: 79.0ms | ActiveRecord: 16.7ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:21:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (2.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (26.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (54.6ms)
Completed 200 OK in 62ms (Views: 60.6ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:21:12 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (26.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (48.2ms)
Completed 200 OK in 55ms (Views: 53.9ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:21:14 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (34.5ms)
Rendered layouts/_footer.html.erb (1.5ms)
Rendered pages/league.html.erb within layouts/application (65.9ms)
Completed 200 OK in 72ms (Views: 70.8ms | ActiveRecord: 0.6ms)


Started GET "/league" for 127.0.0.1 at Mon Jul 25 23:23:30 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.9ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (51.2ms)
Completed 200 OK in 57ms (Views: 56.5ms | ActiveRecord: 0.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:13:33 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.8ms)
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (17.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (71.3ms)
Rendered layouts/_footer.html.erb (2.3ms)
Rendered pages/league.html.erb within layouts/application (227.4ms)
Completed 200 OK in 235ms (Views: 216.5ms | ActiveRecord: 17.9ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:17:28 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (106.1ms)
Completed 200 OK in 112ms (Views: 111.4ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:19:46 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (24.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (45.8ms)
Completed 200 OK in 114ms (Views: 113.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:20:24 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (43.7ms)
Completed 200 OK in 50ms (Views: 48.8ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:20:30 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (20.9ms)
Rendered layouts/_footer.html.erb (1.7ms)
Rendered pages/league.html.erb within layouts/application (42.0ms)
Completed 200 OK in 48ms (Views: 47.5ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:20:41 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (24.7ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (44.4ms)
Completed 200 OK in 51ms (Views: 49.9ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:20:42 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.9ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (42.0ms)
Completed 200 OK in 48ms (Views: 47.3ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:20:47 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (44.0ms)
Completed 200 OK in 51ms (Views: 49.7ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:20:55 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (43.9ms)
Completed 200 OK in 50ms (Views: 49.3ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:22:38 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (40.4ms)
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:23:03 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174769420_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:36: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:38: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2174769420_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h["1"] = 2
	h["2"] = 1
	h["3"] = 16
	
	h_sorted = h.sort {|a,b| a[1]<=>b[1]}


	

@output_buffer.safe_concat('	<span class="content"> 
	');@output_buffer.append= (  h



		end
			
);@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:38:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (38.5ms)
Completed 500 Internal Server Error in 45ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:32: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:36: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:38: syntax error, unexpected kEND, expecting ')'):
    29: 
    30: 
    31: 
    32: 		end
    33: 			
    34: %>
  app/views/pages/league.html.erb:38:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (29.0ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 13:23:14 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (82.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (100.8ms)
Completed 200 OK in 107ms (Views: 106.0ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Tue Jul 26 20:05:20 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (92.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (112.2ms)
Completed 200 OK in 119ms (Views: 117.5ms | ActiveRecord: 0.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 10:07:59 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (147.1ms)
Rendered layouts/_footer.html.erb (1.7ms)
Rendered pages/league.html.erb within layouts/application (195.9ms)
Completed 200 OK in 214ms (Views: 213.0ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 15:37:51 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (11.2ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (comparison of Array with Array failed):
    19: 	
    20: 	
    21: 
    22: 	h_sorted = h.sort {|a,b| a[1]<=>b[1]}
    23: 
    24: 
    25: 	
  app/views/pages/league.html.erb:22:in `sort'
  app/views/pages/league.html.erb:22:in `_app_views_pages_league_html_erb___71172104_2173932980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 15:38:08 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174958360_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected tIDENTIFIER, expecting kEND
//	h_sorted = h.sort {|a,b| a[1]<=>b[1]}
  	        ^
Function body:           def _app_views_pages_league_html_erb___71172104_2174958360_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h = {'red' => 2, 'blue' => '1', 'green' => '14'}
	
	

//	h_sorted = h.sort {|a,b| a[1]<=>b[1]}


	

@output_buffer.safe_concat('	<span class="content"> 
	');@output_buffer.append= (  h.each_key {|key| puts key }




			
);@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:38:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:22: syntax error, unexpected tIDENTIFIER, expecting kEND
//	h_sorted = h.sort {|a,b| a[1]<=>b[1]}
  	        ^):
    19: 	
    20: 	
    21: 
    22: //	h_sorted = h.sort {|a,b| a[1]<=>b[1]}
    23: 
    24: 
    25: 	
  app/views/pages/league.html.erb:38:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 15:38:34 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (42.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (64.0ms)
Completed 200 OK in 72ms (Views: 70.9ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 15:38:48 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (43.6ms)
Completed 200 OK in 49ms (Views: 48.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:33:02 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (10.7ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
    25: 	
    26: 
    27: 	<span class="content"> 
    28: 	<% h[1]["Name"]
    29: 	
    30: 
    31: 
  app/views/pages/league.html.erb:28:in `_app_views_pages_league_html_erb___71172104_2174374480_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:33:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (75.5ms)
Completed 500 Internal Server Error in 81ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
    25: 	
    26: 
    27: 	<span class="content"> 
    28: 	<% h[1]["Name"]
    29: 	
    30: 
    31: 
  app/views/pages/league.html.erb:28:in `_app_views_pages_league_html_erb___71172104_2173061920_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:33:21 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (43.0ms)
Completed 200 OK in 51ms (Views: 49.6ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:33:31 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (42.9ms)
Completed 200 OK in 49ms (Views: 48.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:34:07 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174372300_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected '\n', expecting '='
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2174372300_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h = {1 => {'Name' => 'Nick', 'Racket' => 'Head', 'Division' => '1'},
		2 => {'Name' => 'James', 'Racket' => 'Dunlop', 'Division' => '1'}
	}
	
	
@output_buffer.safe_concat('
	h_sorted = h.sort {|a,b| a[1]<=>b[1]}


	

	<span class="content"> 
	');@output_buffer.append= ( h[1]["Name"], h[1]["Racket"]
	




			
);@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected '\n', expecting '='
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected kEND, expecting ')'):
    27: 	
    28: 
    29: 	<span class="content"> 
    30: 	<%= h[1]["Name"], h[1]["Racket"]
    31: 	
    32: 
    33: 
  app/views/pages/league.html.erb:41:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:36:09 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173239120_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected tIDENTIFIER, expecting ')'
	');@output_buffer.append= ( h[1]["Name"] h[1]["Racket"]
	                                          ^
Function body:           def _app_views_pages_league_html_erb___71172104_2173239120_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 
	h = Hash.new

	points = Result.where("user_id = 1").sum("score")
	h = {1 => {'Name' => 'Nick', 'Racket' => 'Head', 'Division' => '1'},
		2 => {'Name' => 'James', 'Racket' => 'Dunlop', 'Division' => '1'}
	}
	
	
@output_buffer.safe_concat('
	h_sorted = h.sort {|a,b| a[1]<=>b[1]}


	

	<span class="content"> 
	');@output_buffer.append= ( h[1]["Name"] h[1]["Racket"]
	




			
);@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:30: syntax error, unexpected tIDENTIFIER, expecting ')'
	');@output_buffer.append= ( h[1]["Name"] h[1]["Racket"]
	                                          ^):
    27: 	
    28: 
    29: 	<span class="content"> 
    30: 	<%= h[1]["Name"] h[1]["Racket"]
    31: 	
    32: 
    33: 
  app/views/pages/league.html.erb:41:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:36:30 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (46.3ms)
Completed 200 OK in 53ms (Views: 51.5ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 16:36:37 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (44.8ms)
Completed 200 OK in 54ms (Views: 50.5ms | ActiveRecord: 0.4ms)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:06:51 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (25.8ms)
Rendered layouts/_footer.html.erb (2.5ms)
Rendered pages/league.html.erb within layouts/application (49.7ms)
Completed 200 OK in 57ms (Views: 55.9ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:19:27 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (31.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (58.3ms)
Completed 200 OK in 66ms (Views: 65.0ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:20:20 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (12.5ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (undefined method `<=>' for #<Hash:0x10341cf90>):
    23: 			3 => {'Name' => 'Rob', 'Racket' => 'Technifibre', 'Division' => '1', 'Ranking' => '5'}
    24: 	}	
    25: 
    26: 	h_sorted = h.sort {|a,b| a[1]<=>b[1]}
    27: %>	
    28: 
    29: 	
  app/views/pages/league.html.erb:26:in `_app_views_pages_league_html_erb___71172104_2175071980_0'
  app/views/pages/league.html.erb:26:in `sort'
  app/views/pages/league.html.erb:26:in `_app_views_pages_league_html_erb___71172104_2175071980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:20:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.3ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (12.1ms)
Completed 500 Internal Server Error in 21ms

ActionView::Template::Error (undefined method `<=>' for #<Hash:0x103151d10>):
    23: 			3 => {'Name' => 'Rob', 'Racket' => 'Technifibre', 'Division' => '1', 'Ranking' => '5'}
    24: 	}	
    25: 
    26: 	h_sorted = h.sort{|a,b| a[1]<=>b[1]}
    27: %>	
    28: 
    29: 	
  app/views/pages/league.html.erb:26:in `_app_views_pages_league_html_erb___71172104_2173612980_0'
  app/views/pages/league.html.erb:26:in `sort'
  app/views/pages/league.html.erb:26:in `_app_views_pages_league_html_erb___71172104_2173612980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:38:30 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (11.8ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (wrong number of arguments (0 for 1)):
    34: 	
    35: 
    36: 	<span class="content"> 
    37: 	<%= h[1]["Name"] %> <%= h[1]["Racket"] %>
  app/views/pages/league.html.erb:37:in `h'
  app/views/pages/league.html.erb:37:in `_app_views_pages_league_html_erb___71172104_2175089380_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:38:49 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (88.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (110.1ms)
Completed 200 OK in 116ms (Views: 115.4ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:39:40 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (92.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (112.5ms)
Completed 200 OK in 119ms (Views: 117.6ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:39:54 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (92.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (113.7ms)
Completed 200 OK in 120ms (Views: 118.8ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:42:33 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.3ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (90.5ms)
Rendered layouts/_footer.html.erb (1.6ms)
Rendered pages/league.html.erb within layouts/application (111.9ms)
Completed 200 OK in 121ms (Views: 119.6ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:42:46 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.5ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (90.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (110.7ms)
Completed 200 OK in 119ms (Views: 117.8ms | ActiveRecord: 0.8ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:49:13 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (87.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (106.9ms)
Completed 200 OK in 113ms (Views: 112.2ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 17:49:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (97.7ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (119.6ms)
Completed 200 OK in 128ms (Views: 126.7ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:20:04 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (96.9ms)
Rendered layouts/_footer.html.erb (1.8ms)
Rendered pages/league.html.erb within layouts/application (123.6ms)
Completed 200 OK in 130ms (Views: 128.9ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:20:16 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (105.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (129.7ms)
Completed 200 OK in 139ms (Views: 137.4ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:20:42 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173940700_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:29: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:42: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:44: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2173940700_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


	points = Result.where("user_id = 1").sum("score")

div1 = Array.new
div1 << { :Name => 'Nick', :Racket => 'Head', :Division => '1', :Ranking => 2}
div1 << { :Name => 'James', :Racket => 'Dunlop', :Division => '1', :Ranking => 14}
div1 << { :Name => 'Rob', :Racket => 'Technifibre', :Division => '1', :Ranking => 5}

@output_buffer.append_if_string= 
div1.sort_by { |position| position[:Ranking] }.each do |position|

@output_buffer.append= (
   puts "#{position[:Name]}, #{position[:Ranking]} \n"
end	


);@output_buffer.safe_concat('	
');@output_buffer.safe_concat('
	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:44:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:29: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:42: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:44: syntax error, unexpected kEND, expecting ')'):
    26: %>
    27: <%=
    28:    puts "#{position[:Name]}, #{position[:Ranking]} \n"
    29: end	
    30: 
    31: 
    32: %>	
  app/views/pages/league.html.erb:44:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.1ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:22:39 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2172842600_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:29: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:42: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:44: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2172842600_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


	points = Result.where("user_id = 1").sum("score")

div1 = Array.new
div1 << { :Name => 'Nick', :Racket => 'Head', :Division => '1', :Ranking => 2}
div1 << { :Name => 'James', :Racket => 'Dunlop', :Division => '1', :Ranking => 14}
div1 << { :Name => 'Rob', :Racket => 'Technifibre', :Division => '1', :Ranking => 5}

@output_buffer.append_if_string= 
div1.sort_by { |position| position[:Ranking] }.each do |position|

@output_buffer.append= (
    "#{position[:Name]}, #{position[:Ranking]} \n"
end	


);@output_buffer.safe_concat('	
');@output_buffer.safe_concat('
	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:44:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:29: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:42: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:44: syntax error, unexpected kEND, expecting ')'):
    26: %>
    27: <%=
    28:     "#{position[:Name]}, #{position[:Ranking]} \n"
    29: end	
    30: 
    31: 
    32: %>	
  app/views/pages/league.html.erb:44:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (79.0ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:24:06 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174613100_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:26: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2174613100_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


	points = Result.where("user_id = 1").sum("score")

div1 = Array.new
div1 << { :Name => 'Nick', :Racket => 'Head', :Division => '1', :Ranking => 2}
div1 << { :Name => 'James', :Racket => 'Dunlop', :Division => '1', :Ranking => 14}
div1 << { :Name => 'Rob', :Racket => 'Technifibre', :Division => '1', :Ranking => 5}

@output_buffer.append_if_string=  div1.sort_by { |position| position[:Ranking] }.each do |position| 
@output_buffer.append= (     "position[:Name], position[:Ranking] \n"
end	


);@output_buffer.safe_concat('	
');@output_buffer.safe_concat('
	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:26: syntax error, unexpected kEND, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected kEND, expecting ')'):
    23: %>
    24: <% div1.sort_by { |position| position[:Ranking] }.each do |position| %>
    25: <%=     "position[:Name], position[:Ranking] \n"
    26: end	
    27: 
    28: 
    29: %>	
  app/views/pages/league.html.erb:41:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:37:05 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (143.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (163.2ms)
Completed 200 OK in 169ms (Views: 168.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:37:14 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174038220_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:25: syntax error, unexpected ')', expecting '='
...n[:Name], position[:Ranking] );@output_buffer.safe_concat('
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:26: syntax error, unexpected kEND, expecting ')'
'); end	
       ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected kEND, expecting ')'
Function body:           def _app_views_pages_league_html_erb___71172104_2174038220_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


	points = Result.where("user_id = 1").sum("score")

div1 = Array.new
div1 << { :Name => 'Nick', :Racket => 'Head', :Division => '1', :Ranking => 2}
div1 << { :Name => 'James', :Racket => 'Dunlop', :Division => '1', :Ranking => 14}
div1 << { :Name => 'Rob', :Racket => 'Technifibre', :Division => '1', :Ranking => 5}

@output_buffer.append_if_string=  div1.sort_by { |position| position[:Ranking] }.each do |position| 
@output_buffer.append= (     position[:Name], position[:Ranking] );@output_buffer.safe_concat('
'); end	
@output_buffer.safe_concat('

%>	

	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:25: syntax error, unexpected ')', expecting '='
...n[:Name], position[:Ranking] );@output_buffer.safe_concat('
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:26: syntax error, unexpected kEND, expecting ')'
'); end	
       ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting ')'
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected kEND, expecting ')'):
    22: div1 << { :Name => 'Rob', :Racket => 'Technifibre', :Division => '1', :Ranking => 5}
    23: %>
    24: <% div1.sort_by { |position| position[:Ranking] }.each do |position| %>
    25: <%=     position[:Name], position[:Ranking] %>
    26: <% end	%>
    27: 
    28: 
  app/views/pages/league.html.erb:41:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.3ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:37:23 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (106.9ms)
Completed 200 OK in 113ms (Views: 112.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:37:42 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (107.2ms)
Completed 200 OK in 113ms (Views: 112.3ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:38:24 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (107.4ms)
Completed 200 OK in 114ms (Views: 112.8ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:38:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (100.7ms)
Completed 200 OK in 108ms (Views: 106.8ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at Wed Jul 27 19:42:37 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (102.5ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/home.html.erb within layouts/application (116.6ms)
Completed 200 OK in 275ms (Views: 273.7ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:42:42 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.2ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (41.3ms)
Completed 200 OK in 47ms (Views: 46.4ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:44:52 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (41.0ms)
Completed 200 OK in 47ms (Views: 46.0ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:47:08 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (41.3ms)
Completed 200 OK in 47ms (Views: 46.3ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:47:16 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (20.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (40.7ms)
Completed 200 OK in 47ms (Views: 46.0ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:47:21 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (41.6ms)
Completed 200 OK in 48ms (Views: 47.1ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:47:45 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (42.3ms)
Completed 200 OK in 49ms (Views: 47.4ms | ActiveRecord: 0.8ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:49:44 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (44.2ms)
Completed 200 OK in 50ms (Views: 49.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 19:56:50 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (40.7ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:06:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (16.7ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `div_' for #<#<Class:0x10347f5a0>:0x103478408>):
    34: 		<td>Racket</td>
    35: 		<td>Ranking</td>
    36: 	</tr>
    37: <% div_{i}.sort_by { |position| position[:Ranking] }.each do |position| %>
    38: 	<tr>
    39: 		<td><%= position[:Name] %></td>
    40: 		<td><%= position[:Racket] %></td>
  app/views/pages/league.html.erb:37:in `_app_views_pages_league_html_erb___71172104_2174976460_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2174976460_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:06:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (16.1ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (undefined local variable or method `div_i' for #<#<Class:0x103162520>:0x10315cda0>):
    34: 		<td>Racket</td>
    35: 		<td>Ranking</td>
    36: 	</tr>
    37: <% div_i.sort_by { |position| position[:Ranking] }.each do |position| %>
    38: 	<tr>
    39: 		<td><%= position[:Name] %></td>
    40: 		<td><%= position[:Racket] %></td>
  app/views/pages/league.html.erb:37:in `_app_views_pages_league_html_erb___71172104_2173360160_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173360160_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.0ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:13:38 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (40.5ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:16:23 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (40.3ms)
Completed 200 OK in 46ms (Views: 45.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:17:31 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (10.7ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.<=>):
    36: 		<td>Lost</td>
    37: 		<td>Points</td>
    38: 	</tr>
    39: <% div_1.sort_by { |position| position[:Ranking] }.each do |position| %>
    40: 	<tr>
    41: 		<td><%= position[:Name] %></td>
    42: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:39:in `sort_by'
  app/views/pages/league.html.erb:39:in `_app_views_pages_league_html_erb___71172104_2174651940_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2174651940_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:17:41 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (81.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (100.5ms)
Completed 200 OK in 106ms (Views: 105.5ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:18:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (10.8ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (undefined method `-@' for :Points:Symbol):
    36: 		<td>Lost</td>
    37: 		<td>Points</td>
    38: 	</tr>
    39: <% div_1.sort_by { |position| position[-:Points	] }.each do |position| %>
    40: 	<tr>
    41: 		<td><%= position[:Name] %></td>
    42: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:39:in `_app_views_pages_league_html_erb___71172104_2173776660_0'
  app/views/pages/league.html.erb:39:in `each'
  app/views/pages/league.html.erb:39:in `sort_by'
  app/views/pages/league.html.erb:39:in `_app_views_pages_league_html_erb___71172104_2173776660_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173776660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (74.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:18:58 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (undefined method `reverse' for 4:Fixnum):
    36: 		<td>Lost</td>
    37: 		<td>Points</td>
    38: 	</tr>
    39: <% div_1.sort_by { |position| position[:Points].reverse }.each do |position| %>
    40: 	<tr>
    41: 		<td><%= position[:Name] %></td>
    42: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:39:in `_app_views_pages_league_html_erb___71172104_2174531240_0'
  app/views/pages/league.html.erb:39:in `each'
  app/views/pages/league.html.erb:39:in `sort_by'
  app/views/pages/league.html.erb:39:in `_app_views_pages_league_html_erb___71172104_2174531240_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2174531240_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.7ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:19:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (83.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (103.5ms)
Completed 200 OK in 109ms (Views: 108.5ms | ActiveRecord: 0.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:19:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (84.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (104.7ms)
Completed 200 OK in 111ms (Views: 109.8ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:21:41 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (85.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (104.4ms)
Completed 200 OK in 110ms (Views: 109.6ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:22:07 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (83.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (103.0ms)
Completed 200 OK in 109ms (Views: 108.1ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:28:13 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173810540_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:19: syntax error, unexpected '=', expecting kEND
1 = Array.new
   ^
Function body:           def _app_views_pages_league_html_erb___71172104_2173810540_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


points = Result.where("user_id = 1").sum("score")

1 = Array.new
1 << { :Name => 'Rob', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
1 << { :Name => 'Nick', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
1 << { :Name => 'James', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

div_2 = Array.new
div_2 << { :Name => 'Gavin', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_2 << { :Name => 'Dom', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_2 << { :Name => 'Simon', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

for i in (1..2) 
@output_buffer.safe_concat('

<table width=200>
	<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
');@output_buffer.append_if_string=  div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| 
@output_buffer.safe_concat('	<tr>
		<td>');@output_buffer.append= ( position[:Name] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Played] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Won] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Lost] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Points] );@output_buffer.safe_concat('</td>
	</tr>
'); end	
end 
@output_buffer.safe_concat('
</table>



	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:66:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:19: syntax error, unexpected '=', expecting kEND
1 = Array.new
   ^):
    16: 
    17: points = Result.where("user_id = 1").sum("score")
    18: 
    19: 1 = Array.new
    20: 1 << { :Name => 'Rob', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
    21: 1 << { :Name => 'Nick', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
    22: 1 << { :Name => 'James', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}
  app/views/pages/league.html.erb:66:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:28:29 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (41.6ms)
Completed 200 OK in 48ms (Views: 46.7ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:29:29 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2175180140_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:64: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb___71172104_2175180140_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


points = Result.where("user_id = 1").sum("score")

div_1 = Array.new
div_1 << { :Name => 'Rob', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_1 << { :Name => 'Nick', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_1 << { :Name => 'James', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

div_2 = Array.new
div_2 << { :Name => 'Gavin', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_2 << { :Name => 'Dom', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_2 << { :Name => 'Simon', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

for i in (1..2) 
@output_buffer.safe_concat('

<table width=200>
	<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
');@output_buffer.append_if_string=  div_#{i}.sort_by { |position| position[:Points] }.reverse!.each do |position| 
@output_buffer.safe_concat('	<tr>
		<td>');@output_buffer.append= ( position[:Name] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Played] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Won] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Lost] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Points] );@output_buffer.safe_concat('</td>
	</tr>
'); end	
end 
@output_buffer.safe_concat('
</table>



	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:64:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:64: syntax error, unexpected kENSURE, expecting $end):
    61: 	<span class="content"> 
  app/views/pages/league.html.erb:64:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.3ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:30:50 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (16.2ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (undefined method `div_' for #<#<Class:0x103251b48>:0x10324efb0>):
    38: 		<td>Lost</td>
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% div_{i}.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    42: 	<tr>
    43: 		<td><%= position[:Name] %></td>
    44: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:41:in `_app_views_pages_league_html_erb___71172104_2173854360_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173854360_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:31:11 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2172553080_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected $undefined, expecting kEND
...uffer.append_if_string=  div_${i}.sort_by { |position| posit...
                              ^
Function body:           def _app_views_pages_league_html_erb___71172104_2172553080_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


points = Result.where("user_id = 1").sum("score")

div_1 = Array.new
div_1 << { :Name => 'Rob', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_1 << { :Name => 'Nick', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_1 << { :Name => 'James', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

div_2 = Array.new
div_2 << { :Name => 'Gavin', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_2 << { :Name => 'Dom', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_2 << { :Name => 'Simon', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

for i in (1..2) 
@output_buffer.safe_concat('

<table width=200>
	<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
');@output_buffer.append_if_string=  div_${i}.sort_by { |position| position[:Points] }.reverse!.each do |position| 
@output_buffer.safe_concat('	<tr>
		<td>');@output_buffer.append= ( position[:Name] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Played] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Won] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Lost] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Points] );@output_buffer.safe_concat('</td>
	</tr>
'); end	
end 
@output_buffer.safe_concat('
</table>



	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:66:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:41: syntax error, unexpected $undefined, expecting kEND
...uffer.append_if_string=  div_${i}.sort_by { |position| posit...
                              ^):
    38: 		<td>Lost</td>
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% div_${i}.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    42: 	<tr>
    43: 		<td><%= position[:Name] %></td>
    44: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:66:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:31:23 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (15.9ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (undefined local variable or method `div_' for #<#<Class:0x10335fa80>:0x10335daf0>):
    38: 		<td>Lost</td>
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% div_.i.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    42: 	<tr>
    43: 		<td><%= position[:Name] %></td>
    44: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:41:in `_app_views_pages_league_html_erb___71172104_2174409220_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2174409220_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.0ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:31:27 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (74.8ms)
Completed 500 Internal Server Error in 81ms

ActionView::Template::Error (undefined local variable or method `div_i' for #<#<Class:0x1030b0780>:0x1030adaa8>):
    38: 		<td>Lost</td>
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% div_i.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    42: 	<tr>
    43: 		<td><%= position[:Name] %></td>
    44: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:41:in `_app_views_pages_league_html_erb___71172104_2172999940_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2172999940_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:32:51 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (16.3ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (undefined local variable or method `div_' for #<#<Class:0x103244a60>:0x103242440>):
    38: 		<td>Lost</td>
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% div_+i.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    42: 	<tr>
    43: 		<td><%= position[:Name] %></td>
    44: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:41:in `_app_views_pages_league_html_erb___71172104_2173830160_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173830160_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:37:19 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (17.0ms)
Completed 500 Internal Server Error in 23ms

ActionView::Template::Error (undefined method `div_' for #<#<Class:0x1034ee518>:0x1034ec8a8>):
    38: 		<td>Lost</td>
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% div_(i).sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    42: 	<tr>
    43: 		<td><%= position[:Name] %></td>
    44: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:41:in `_app_views_pages_league_html_erb___71172104_2175224740_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2175224740_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:46:17 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (10.8ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (can't convert Fixnum into String):
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% 
    42: divName = "div_" + i
    43: 
    44: divName.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    45: 	<tr>
  app/views/pages/league.html.erb:42:in `+'
  app/views/pages/league.html.erb:42:in `_app_views_pages_league_html_erb___71172104_2173655980_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173655980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.7ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:47:06 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2174959480_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:43: syntax error, unexpected '<', expecting kEND
<%= divName 
 ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:47: syntax error, unexpected '(', expecting kEND
...td>');@output_buffer.append= ( position[:Name] );@output_buf...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:47: syntax error, unexpected ')', expecting kEND
...er.append= ( position[:Name] );@output_buffer.safe_concat('<...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:68: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb___71172104_2174959480_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


points = Result.where("user_id = 1").sum("score")

div_1 = Array.new
div_1 << { :Name => 'Rob', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_1 << { :Name => 'Nick', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_1 << { :Name => 'James', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

div_2 = Array.new
div_2 << { :Name => 'Gavin', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_2 << { :Name => 'Dom', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_2 << { :Name => 'Simon', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

for i in (1..2) 
@output_buffer.safe_concat('

<table width=200>
	<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); 
divName = "div_" + i
<%= divName 
@output_buffer.safe_concat('
div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
	<tr>
		<td>');@output_buffer.append= ( position[:Name] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Played] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Won] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Lost] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Points] );@output_buffer.safe_concat('</td>
	</tr>
'); end	
end 
@output_buffer.safe_concat('
</table>



	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:68:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:43: syntax error, unexpected '<', expecting kEND
<%= divName 
 ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:47: syntax error, unexpected '(', expecting kEND
...td>');@output_buffer.append= ( position[:Name] );@output_buf...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:47: syntax error, unexpected ')', expecting kEND
...er.append= ( position[:Name] );@output_buffer.safe_concat('<...
                              ^
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:68: syntax error, unexpected kENSURE, expecting $end):
    40: 	</tr>
    41: <% 
    42: divName = "div_" + i
    43: <%= divName %>
    44: 
    45: div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    46: 	<tr>
  app/views/pages/league.html.erb:68:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:47:23 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2173683720_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:67: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb___71172104_2173683720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


points = Result.where("user_id = 1").sum("score")

div_1 = Array.new
div_1 << { :Name => 'Rob', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_1 << { :Name => 'Nick', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_1 << { :Name => 'James', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

div_2 = Array.new
div_2 << { :Name => 'Gavin', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_2 << { :Name => 'Dom', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_2 << { :Name => 'Simon', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

for i in (1..2) 
@output_buffer.safe_concat('

<table width=200>
	<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); divName = "div_" + i 
@output_buffer.append= ( divName );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
	<tr>
		<td>');@output_buffer.append= ( position[:Name] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Played] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Won] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Lost] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Points] );@output_buffer.safe_concat('</td>
	</tr>
'); end	
end 
@output_buffer.safe_concat('
</table>



	


	

	<span class="content"> 

');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:67:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:67: syntax error, unexpected kENSURE, expecting $end):
    64: 	<span class="content"> 
  app/views/pages/league.html.erb:67:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.7ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:47:37 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb___71172104_2172612840_0 RAISED compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:56: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb___71172104_2172612840_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new; 
	p1_score = 3 
	p2_score = 2

if p1_score == 3 && p2_score ==2
	p1_points = 6
	p2_points = 3
end

@output_buffer.safe_concat('



'); 


points = Result.where("user_id = 1").sum("score")

div_1 = Array.new
div_1 << { :Name => 'Rob', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_1 << { :Name => 'Nick', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_1 << { :Name => 'James', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

div_2 = Array.new
div_2 << { :Name => 'Gavin', :Played => '2', :Won => '1', :Lost => 1, :Points => 4}
div_2 << { :Name => 'Dom', :Played => '2', :Won => '2', :Lost => 0, :Points => 8}
div_2 << { :Name => 'Simon', :Played => '2', :Won => '0', :Lost => 2, :Points => 1}

for i in (1..2) 
@output_buffer.safe_concat('

<table width=200>
	<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); divName = "div_" + i 
@output_buffer.append= ( divName );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
	<tr>
		<td>');@output_buffer.append= ( position[:Name] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Played] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Won] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Lost] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( position[:Points] );@output_buffer.safe_concat('</td>
	</tr>
'); end	
end 
@output_buffer.safe_concat('
</table>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:56:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/sample_app2/app/views/pages/league.html.erb:56: syntax error, unexpected kENSURE, expecting $end):
    53: end %>
    54: 
    55: </table>
  app/views/pages/league.html.erb:56:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:47:50 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (11.4ms)
Completed 500 Internal Server Error in 19ms

ActionView::Template::Error (can't convert Fixnum into String):
    38: 		<td>Lost</td>
    39: 		<td>Points</td>
    40: 	</tr>
    41: <% divName = "div_" + i %>
    42: <%= divName %>
    43: 
    44: <% div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
  app/views/pages/league.html.erb:41:in `+'
  app/views/pages/league.html.erb:41:in `_app_views_pages_league_html_erb___71172104_2175131360_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2175131360_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:52:13 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (10.9ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (can't convert Fixnum into String):
    40: 	</tr>
    41: <% 
    42: i.to_s
    43: divName = "div_" + i %>
    44: <%= divName %>
    45: 
    46: <% div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
  app/views/pages/league.html.erb:43:in `+'
  app/views/pages/league.html.erb:43:in `_app_views_pages_league_html_erb___71172104_2173662760_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173662760_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:52:54 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (11.3ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (can't convert Fixnum into String):
    40: 	</tr>
    41: <% 
    42: @i.to_s
    43: divName = "div_" + i %>
    44: <%= divName %>
    45: 
    46: <% div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
  app/views/pages/league.html.erb:43:in `+'
  app/views/pages/league.html.erb:43:in `_app_views_pages_league_html_erb___71172104_2175177420_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2175177420_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:53:06 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (11.3ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (can't convert nil into String):
    40: 	</tr>
    41: <% 
    42: @i.to_s
    43: divName = "div_" + @i %>
    44: <%= divName %>
    45: 
    46: <% div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
  app/views/pages/league.html.erb:43:in `+'
  app/views/pages/league.html.erb:43:in `_app_views_pages_league_html_erb___71172104_2173686500_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173686500_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.0ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:53:24 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (can't convert nil into String):
    40: 	</tr>
    41: <% 
    42: 
    43: divName = "div_" + @i %>
    44: <%= divName %>
    45: 
    46: <% div_1.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
  app/views/pages/league.html.erb:43:in `+'
  app/views/pages/league.html.erb:43:in `_app_views_pages_league_html_erb___71172104_2175234040_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2175234040_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:55:20 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (82.0ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (101.4ms)
Completed 200 OK in 108ms (Views: 106.7ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:58:58 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (85.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (105.9ms)
Completed 200 OK in 112ms (Views: 111.1ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 20:59:59 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (84.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (104.6ms)
Completed 200 OK in 111ms (Views: 110.2ms | ActiveRecord: 0.4ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 21:00:16 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (11.7ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.sort_by):
    43: divName = "div_" + i %>
    44: <%= divName %>
    45: 
    46: <% @divName.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    47: 	<tr>
    48: 		<td><%= position[:Name] %></td>
    49: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:46:in `_app_views_pages_league_html_erb___71172104_2174249180_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2174249180_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 21:01:13 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered pages/league.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 83ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.sort_by):
    43: divName = "div_" + i %>
    44: <%= divName %>
    45: 
    46: <% @divName.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    47: 	<tr>
    48: 		<td><%= position[:Name] %></td>
    49: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:46:in `_app_views_pages_league_html_erb___71172104_2174802120_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2174802120_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 21:01:15 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered pages/league.html.erb within layouts/application (11.4ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.sort_by):
    43: divName = "div_" + i %>
    44: <%= divName %>
    45: 
    46: <% @divName.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    47: 	<tr>
    48: 		<td><%= position[:Name] %></td>
    49: 		<td><%= position[:Played] %></td>
  app/views/pages/league.html.erb:46:in `_app_views_pages_league_html_erb___71172104_2173761100_0'
  app/views/pages/league.html.erb:29:in `each'
  app/views/pages/league.html.erb:29:in `_app_views_pages_league_html_erb___71172104_2173761100_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/league" for 127.0.0.1 at Wed Jul 27 21:01:17 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (104.5ms)
Completed 200 OK in 110ms (Views: 109.5ms | ActiveRecord: 0.5ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TABLE "playerdivs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "division_id" integer, "player_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110727201059')
Migrating to CreateDivisions (20110727201213)
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "divisions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "season_id" integer, "number" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110727201213')
Migrating to CreateSeasons (20110727201217)
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TABLE "seasons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start_date" date, "end_date" date, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110727201217')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("divisions")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("matches")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("playerdivs")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("results")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("seasons")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_users_on_email')
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "seasons" ("updated_at", "start_date", "end_date", "created_at") VALUES ('2011-07-27 20:43:59.566781', '2011-07-27', '2011-08-27', '2011-07-27 20:43:59.566781')[0m
  [1m[35mSQL (0.7ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO "divisions" ("updated_at", "season_id", "number", "created_at") VALUES ('2011-07-27 20:44:51.897026', 1, 4, '2011-07-27 20:44:51.897026')
  [1m[36mDivision Load (0.5ms)[0m  [1mSELECT "divisions".* FROM "divisions" LIMIT 1[0m
  [1m[35mSeason Load (0.6ms)[0m  SELECT "seasons".* FROM "seasons" LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (1.3ms)[0m  [1mINSERT INTO "playerdivs" ("player_id", "updated_at", "division_id", "created_at") VALUES (1, '2011-07-27 21:02:48.515509', 1, '2011-07-27 21:02:48.515509')[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (17.9ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mResult Load (0.6ms)[0m  [1mSELECT "results".* FROM "results"[0m
  [1m[35mMatch Load (0.5ms)[0m  SELECT "matches".* FROM "matches"
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mCREATE TEMPORARY TABLE "altered_matches" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "playerdiv_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("matches")
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "matches"[0m
  [1m[35mSQL (0.1ms)[0m  CREATE TABLE "matches" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "playerdiv_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_matches")[0m
  [1m[35mSQL (0.3ms)[0m  DROP TABLE "altered_matches"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110727213455')[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("divisions")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("matches")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("playerdivs")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("results")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("seasons")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mMatch Load (0.7ms)[0m  [1mSELECT "matches".* FROM "matches"[0m
  [1m[35mMatch Load (0.4ms)[0m  SELECT "matches".* FROM "matches" WHERE (playerdiv_id = 1)
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1)[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1) AND (result = win)
SQLite3::SQLException: no such column: win: SELECT "results".* FROM "results" WHERE (match_id = 1) AND (result = win)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1) AND (result = win)[0m
SQLite3::SQLException: no such column: win: SELECT "results".* FROM "results" WHERE (match_id = 1) AND (result = win)
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1 AND result = win)
SQLite3::SQLException: no such column: win: SELECT "results".* FROM "results" WHERE (match_id = 1 AND result = win)
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1 AND result = win)[0m
SQLite3::SQLException: no such column: win: SELECT "results".* FROM "results" WHERE (match_id = 1 AND result = win)
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results" WHERE (match_id = 1 AND result = 'win')
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1 AND result = 'lost')[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
Migrating to AddPointsToResults (20110727220742)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110727220742')[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("divisions")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("matches")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("playerdivs")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("results")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("seasons")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/sample_app2/config/environment.rb:5)
  [1m[36mResult Load (0.7ms)[0m  [1mSELECT "results".* FROM "results" WHERE (match_id = 1 AND result = 'lost')[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'


Started GET "/league" for 127.0.0.1 at Fri Jul 29 08:40:43 +0100 2011

Errno::ENOENT (No such file or directory - /Users/nwales/Sites/ruby/sample_app2/config/locales/en.yml):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (27.0ms)


Started GET "/favicon.ico" for 127.0.0.1 at Fri Jul 29 08:40:43 +0100 2011

Errno::ENOENT (No such file or directory - /Users/nwales/Sites/ruby/sample_app2/config/locales/en.yml):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (150.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (156.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 08:04:53 +0100 2011

Errno::ENOENT (No such file or directory - /Users/nwales/Sites/ruby/sample_app2/config/locales/en.yml):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (24.7ms)


Started GET "/favicon.ico" for 127.0.0.1 at Sat Jul 30 08:04:53 +0100 2011

Errno::ENOENT (No such file or directory - /Users/nwales/Sites/ruby/sample_app2/config/locales/en.yml):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.3ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 08:05:06 +0100 2011

Errno::ENOENT (No such file or directory - /Users/nwales/Sites/ruby/sample_app2/config/locales/en.yml):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/favicon.ico" for 127.0.0.1 at Sat Jul 30 08:05:06 +0100 2011

Errno::ENOENT (No such file or directory - /Users/nwales/Sites/ruby/sample_app2/config/locales/en.yml):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.3ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 08:05:42 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."score") AS sum_id FROM "results" WHERE (user_id = 1)[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (56.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (160.1ms)
Completed 200 OK in 172ms (Views: 170.5ms | ActiveRecord: 0.9ms)
  [1m[36mSeason Load (19.7ms)[0m  [1mSELECT "seasons".* FROM "seasons"[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs"
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions"[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mAREL (35.4ms)[0m  UPDATE "divisions" SET "number" = 1, "updated_at" = '2011-07-30 10:28:32.792899' WHERE "divisions"."id" = 1
  [1m[36mDivision Load (0.6ms)[0m  [1mSELECT "divisions".* FROM "divisions" LIMIT 1[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO "playerdivs" ("division_id", "updated_at", "player_id", "created_at") VALUES (1, '2011-07-30 10:40:41.007932', 2, '2011-07-30 10:40:41.007932')
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.6ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
Migrating to AddPointsToResults (20110727220742)
Migrating to RenamePlayerIdToUserIdInPlayerdiv (20110730104431)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
Migrating to AddPointsToResults (20110727220742)
Migrating to RenamePlayerIdToUserIdInPlayerdiv (20110730104431)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (17.9ms)[0m  [1mCREATE TEMPORARY TABLE "altered_playerdivs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "division_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("playerdivs")
  [1m[36mSQL (3.2ms)[0m  [1mDROP TABLE "playerdivs"[0m
  [1m[35mSQL (0.2ms)[0m  CREATE TABLE "playerdivs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "division_id" integer, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("altered_playerdivs")[0m
  [1m[35mSQL (0.4ms)[0m  DROP TABLE "altered_playerdivs"
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110730104431')[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("divisions")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("matches")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("playerdivs")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("results")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("seasons")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("users")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_info('index_users_on_email')[0m
  [1m[35mSQL (1.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs"
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions"[0m
  [1m[35mMatch Load (0.2ms)[0m  SELECT "matches".* FROM "matches"
  [1m[36mResult Load (0.7ms)[0m  [1mSELECT "results".* FROM "results"[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSeason Load (0.4ms)[0m  [1mSELECT "seasons".* FROM "seasons"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "results" ON "results"."match_id" = "matches"."id"
  [1m[36mMatch Load (0.5ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "results" ON "results"."match_id" = "matches"."id"[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id"
  [1m[36mSQL (1.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "match"."playerdiv_id" = 1[0m
SQLite3::SQLException: no such column: match.playerdiv_id: SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "match"."playerdiv_id" = 1
  [1m[35mSQL (2.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
Migrating to AddPointsToResults (20110727220742)
Migrating to RenamePlayerIdToUserIdInPlayerdiv (20110730104431)
Migrating to AddPointsToResult (20110730114956)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "results" ADD "points" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110730114956')
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m  PRAGMA index_list("divisions")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("matches")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("playerdivs")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("results")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("seasons")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_users_on_email')
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results"
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.6ms)[0m  [1mUPDATE "results" SET "points" = 6, "updated_at" = '2011-07-30 12:00:01.266657' WHERE "results"."id" = 1[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."id" = 2 LIMIT 1[0m
  [1m[35mAREL (1.3ms)[0m  UPDATE "results" SET "points" = 2, "updated_at" = '2011-07-30 12:02:08.555478' WHERE "results"."id" = 2
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."id" = 4 LIMIT 1
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."id" = 4 LIMIT 1[0m
  [1m[35mAREL (0.8ms)[0m  UPDATE "results" SET "points" = 3, "updated_at" = '2011-07-30 12:03:15.779264' WHERE "results"."id" = 4
  [1m[36mResult Load (0.6ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."id" = 3 LIMIT 1[0m
  [1m[35mAREL (0.5ms)[0m  UPDATE "results" SET "points" = 7, "updated_at" = '2011-07-30 12:03:28.714593' WHERE "results"."id" = 3
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results"
  [1m[36mResult Load (0.8ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."user_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" WHERE "results"."user_id" = 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "results"."user_id" = 1
  [1m[36mResult Load (0.6ms)[0m  [1mSELECT "results".* FROM "results"[0m
  [1m[35mSQL (0.4ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mMatch Load (0.4ms)[0m  [1mSELECT "matches".* FROM "matches"[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "results"."user_id" = 2
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."user_id" = 2[0m
  [1m[35mSQL (0.3ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" WHERE "results"."user_id" = 2
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "results"."user_id" = 2[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."id" = 2 LIMIT 1
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."id" = 4 LIMIT 1[0m
  [1m[35mMatch Load (0.4ms)[0m  SELECT "matches".* FROM "matches" WHERE "matches"."id" = 1 LIMIT 1
  [1m[36mMatch Load (0.4ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE "matches"."id" = 2 LIMIT 1[0m
  [1m[35mAREL (1.3ms)[0m  INSERT INTO "matches" ("playerdiv_id", "updated_at", "created_at") VALUES (1, '2011-07-30 12:24:50.438394', '2011-07-30 12:24:50.438394')
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "results"."user_id" = 2[0m
  [1m[35mSQL (0.4ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1


Started GET "/" for 127.0.0.1 at Sat Jul 30 13:41:16 +0100 2011
  Processing by PagesController#home as HTML
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/home.html.erb within layouts/application (104.8ms)
Completed 200 OK in 113ms (Views: 112.0ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:41:19 +0100 2011
  Processing by PagesController#league as HTML
Rendered pages/league.html.erb within layouts/application (19.1ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (undefined local variable or method `i' for #<#<Class:0x1032f2d90>:0x1032f1120>):
    2: 
    3: 
    4: <table width=200>
    5: 	<h3>Division <%= i %></h3>
    6: 	<tr>
    7: 		<td>Name</td>
    8: 		<td>Played</td>
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2174188360_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.1ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:41:35 +0100 2011
  Processing by PagesController#league as HTML
Rendered pages/league.html.erb within layouts/application (74.1ms)
Completed 500 Internal Server Error in 80ms

ActionView::Template::Error (undefined local variable or method `divName' for #<#<Class:0x10307a1d0>:0x103078588>):
    17: 	
    18: 	%>
    19: 
    20: <% divName.sort_by { |position| position[:Points] }.reverse!.each do |position| %>
    21: 	<tr>
    22: 		<td><%= player.user_id %></td>
    23: 
  app/views/pages/league.html.erb:20:in `_app_views_pages_league_html_erb__572857095_2172890920_0'
  app/views/pages/league.html.erb:14:in `each'
  app/views/pages/league.html.erb:14:in `_app_views_pages_league_html_erb__572857095_2172890920_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:41:47 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173703800_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb__572857095_2173703800_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); 
for i in (1..2) 
	player = Result.joins(:match).where(:matches => {:playerdiv_id => 1}).where(:results => {:user_id => 1})
	
	
	
@output_buffer.safe_concat('

	<tr>
		<td>');@output_buffer.append= ( player.user_id );@output_buffer.safe_concat('</td>

	</tr>
'); end	
@output_buffer.safe_concat('</table>
'); end 
@output_buffer.safe_concat('
');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting $end):
    27: <% end %>
  app/views/pages/league.html.erb:30:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:42:00 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
Rendered pages/league.html.erb within layouts/application (105.4ms)
Completed 500 Internal Server Error in 112ms

ActionView::Template::Error (undefined method `user_id' for #<ActiveRecord::Relation:0x1034d3060>):
    19: 
    20: 
    21: 	<tr>
    22: 		<td><%= player.user_id %></td>
    23: 
    24: 	</tr>
    25: <% end	%>
  app/views/pages/league.html.erb:22:in `_app_views_pages_league_html_erb__572857095_2172604020_0'
  app/views/pages/league.html.erb:14:in `each'
  app/views/pages/league.html.erb:14:in `_app_views_pages_league_html_erb__572857095_2172604020_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:42:41 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (88.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (117.5ms)
Completed 200 OK in 124ms (Views: 123.0ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:43:15 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (109.6ms)
Completed 200 OK in 116ms (Views: 115.0ms | ActiveRecord: 0.7ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:44:53 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.3ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (118.8ms)
Completed 200 OK in 125ms (Views: 124.3ms | ActiveRecord: 0.7ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:45:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (55.5ms)
Completed 200 OK in 62ms (Views: 60.5ms | ActiveRecord: 0.9ms)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:46:34 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
Rendered pages/league.html.erb within layouts/application (19.0ms)
Completed 500 Internal Server Error in 25ms

ActionView::Template::Error (undefined method `where' for 2:Fixnum):
    22: 	<tr>
    23: 		<td><%= i %></td>
    24: 		<td><%= player.count %></td>
    25: 		<td><%= player.count.where("result" => "win").count %></td>
    26: 		<td><%= player.count.where("result" => "lose").count %></td>
    27: 		<td><%= player.sum("points") %></td>
    28: 
  app/views/pages/league.html.erb:25:in `_app_views_pages_league_html_erb__572857095_2174642740_0'
  app/views/pages/league.html.erb:14:in `each'
  app/views/pages/league.html.erb:14:in `_app_views_pages_league_html_erb__572857095_2174642740_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:46:46 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lose'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lose'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (122.6ms)
Completed 200 OK in 130ms (Views: 127.5ms | ActiveRecord: 1.9ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 13:47:04 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (61.2ms)
Completed 200 OK in 68ms (Views: 65.6ms | ActiveRecord: 1.7ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 15:01:56 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (29.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (129.5ms)
Completed 200 OK in 144ms (Views: 134.8ms | ActiveRecord: 1.6ms)
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id"
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs"[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSeason Load (0.5ms)[0m  SELECT "seasons".* FROM "seasons"
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1[0m
SQLite3::SQLException: no such column: season.id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1
  [1m[35mPlayerdiv Load (0.6ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id"
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1
SQLite3::SQLException: no such column: season.id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1
SQLite3::SQLException: no such column: season.id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSeason Load (0.4ms)[0m  SELECT "seasons".* FROM "seasons"
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1
SQLite3::SQLException: no such column: season.id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" INNER JOIN "seasons" ON "seasons"."id" = "divisions"."season_id" WHERE "season"."id" = 1
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1[0m
SQLite3::SQLException: no such column: division.season_id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1[0m
SQLite3::SQLException: no such column: division.season_id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1[0m
SQLite3::SQLException: no such column: division.season_id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:32:11 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173811160_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb__572857095_2173811160_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); 

	
@divs	
	
	
	
	
@output_buffer.safe_concat('

	<tr>
		<td>');@output_buffer.append= ( i );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.count );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.where("result" => "win").count );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.where("result" => "lost").count );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.sum("points") );@output_buffer.safe_concat('</td>

	</tr>
'); end	
@output_buffer.safe_concat('</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected kENSURE, expecting $end):
0  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (105.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (131.9ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:32:29 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173943820_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb__572857095_2173943820_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); 

	
@divs	
	
	
	
	
@output_buffer.safe_concat('


	</tr>
'); end	
@output_buffer.safe_concat('</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting $end):
0  app/views/pages/league.html.erb:30:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (100.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (106.0ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:32:30 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174418120_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb__572857095_2174418120_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); 

	
@divs	
	
	
	
	
@output_buffer.safe_concat('


	</tr>
'); end	
@output_buffer.safe_concat('</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kENSURE, expecting $end):
0  app/views/pages/league.html.erb:30:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (37.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (42.9ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:32:37 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (26.2ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (49.6ms)
Completed 200 OK in 58ms (Views: 55.2ms | ActiveRecord: 0.7ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:33:12 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2175036340_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb__572857095_2175036340_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
');@output_buffer.append= (

	
@divs.class	
	
	
	
	);@output_buffer.safe_concat('
');@output_buffer.safe_concat('

	<tr>
		<td>');@output_buffer.append= ( i );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.count );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.where("result" => "win").count );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.where("result" => "lost").count );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( player.sum("points") );@output_buffer.safe_concat('</td>

	</tr>
'); end	
@output_buffer.safe_concat('</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 90ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected kENSURE, expecting $end):
0  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (37.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (43.2ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:33:22 +0100 2011
  Processing by PagesController#league as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (80.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (90.1ms)
Completed 200 OK in 98ms (Views: 95.5ms | ActiveRecord: 0.7ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:34:00 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (43.2ms)
Completed 200 OK in 131ms (Views: 48.3ms | ActiveRecord: 0.6ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:34:24 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered pages/league.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `each' for 2:Fixnum):
    13: <%=
    14: 
    15: 	
    16: for i in @divs.count	
    17: 	puts i
    18: end
    19: 	
  app/views/pages/league.html.erb:16:in `_app_views_pages_league_html_erb__572857095_2174769220_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (22.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (28.4ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:34:46 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered pages/league.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 87ms

ActionView::Template::Error (undefined method `each' for 2:Fixnum):
    14: 
    15: j = @divs.count
    16: 	
    17: for i in j
    18: 	puts i
    19: end
    20: 	
  app/views/pages/league.html.erb:17:in `_app_views_pages_league_html_erb__572857095_2175098680_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (23.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (29.6ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:35:45 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2172761820_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:29: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unmatched ): /tr>
');	 end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_pages_league_html_erb__572857095_2172761820_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
');@output_buffer.append= (

j = @divs.count
	puts j
	
for i in 2
	puts i
end
	
	
	);@output_buffer.safe_concat('
');@output_buffer.safe_concat('
		<tr>
			<td>');@output_buffer.append= ( #i );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "lost").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</td>

		</tr>
');	 end	
@output_buffer.safe_concat('
</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:29: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unmatched ): /tr>
');	 end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: syntax error, unexpected $end, expecting ')'):
    24: 
    25: 		<tr>
    26: 			<td><%= #i %></td>
    27: 			<td><%= #player.count %></td>
    28: 			<td><%= #player.where("result" => "win").count %></td>
    29: 			<td><%= #player.where("result" => "lost").count %></td>
    30: 			<td><%= #player.sum("points") %></td>
  app/views/pages/league.html.erb:38:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (38.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (44.4ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:35:52 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173595640_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:29: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_pages_league_html_erb__572857095_2173595640_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
');@output_buffer.append= (

j = @divs.count
	puts j
	
for i in 2
	puts i
end
	
	
	);@output_buffer.safe_concat('
');@output_buffer.safe_concat('
		<tr>
			<td>');@output_buffer.append= ( #i );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "lost").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</td>

		</tr>
');	 #end	
@output_buffer.safe_concat('
</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:29: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: syntax error, unexpected $end, expecting ')'):
    24: 
    25: 		<tr>
    26: 			<td><%= #i %></td>
    27: 			<td><%= #player.count %></td>
    28: 			<td><%= #player.where("result" => "win").count %></td>
    29: 			<td><%= #player.where("result" => "lost").count %></td>
    30: 			<td><%= #player.sum("points") %></td>
  app/views/pages/league.html.erb:38:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (100.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (105.9ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:35:53 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173937380_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:29: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_pages_league_html_erb__572857095_2173937380_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
');@output_buffer.append= (

j = @divs.count
	puts j
	
for i in 2
	puts i
end
	
	
	);@output_buffer.safe_concat('
');@output_buffer.safe_concat('
		<tr>
			<td>');@output_buffer.append= ( #i );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "lost").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</td>

		</tr>
');	 #end	
@output_buffer.safe_concat('
</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.3ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:29: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:38: syntax error, unexpected $end, expecting ')'):
    24: 
    25: 		<tr>
    26: 			<td><%= #i %></td>
    27: 			<td><%= #player.count %></td>
    28: 			<td><%= #player.where("result" => "win").count %></td>
    29: 			<td><%= #player.where("result" => "lost").count %></td>
    30: 			<td><%= #player.sum("points") %></td>
  app/views/pages/league.html.erb:38:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (99.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (105.5ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:36:31 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174352920_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:25: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_pages_league_html_erb__572857095_2174352920_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); j = @divs.count 
@output_buffer.safe_concat('	');@output_buffer.append= ( j );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	
for i in 2
	puts i
end
	
	


		<tr>
			<td>');@output_buffer.append= ( #i );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "lost").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</td>

		</tr>
');	 #end	
@output_buffer.safe_concat('
</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:25: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected $end, expecting ')'):
    22: 
    23: 		<tr>
    24: 			<td><%= #i %></td>
    25: 			<td><%= #player.count %></td>
    26: 			<td><%= #player.where("result" => "win").count %></td>
    27: 			<td><%= #player.where("result" => "lost").count %></td>
    28: 			<td><%= #player.sum("points") %></td>
  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (37.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (43.4ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:36:32 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174930500_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:25: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_pages_league_html_erb__572857095_2174930500_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); j = @divs.count 
@output_buffer.safe_concat('	');@output_buffer.append= ( j );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	
for i in 2
	puts i
end
	
	


		<tr>
			<td>');@output_buffer.append= ( #i );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.where("result" => "lost").count );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</td>

		</tr>
');	 #end	
@output_buffer.safe_concat('
</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:25: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:26: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.where("result" => "win").count );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:28: unmatched ): /td>
			<td>');@output_buffer.append= ( #player.sum("points") );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unknown regexp options - tabl
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: unmatched ): /tr>
');	 #end	
@output_buffer.safe_concat('
</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected $end, expecting ')'):
    22: 
    23: 		<tr>
    24: 			<td><%= #i %></td>
    25: 			<td><%= #player.count %></td>
    26: 			<td><%= #player.where("result" => "win").count %></td>
    27: 			<td><%= #player.where("result" => "lost").count %></td>
    28: 			<td><%= #player.sum("points") %></td>
  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (38.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (44.3ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:36:54 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (85.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (97.3ms)
Completed 200 OK in 106ms (Views: 103.2ms | ActiveRecord: 0.9ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:41:08 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered pages/league.html.erb within layouts/application (12.2ms)
Completed 500 Internal Server Error in 101ms

ActionView::Template::Error (undefined method `each' for 2:Fixnum):
    11: 		<td>Points</td>
    12: 	</tr>
    13: <% j = @divs.count %>
    14: 	<%= j.each { |i| puts i }	%>
    15: 	
    16: 
    17: 	
  app/views/pages/league.html.erb:14:in `_app_views_pages_league_html_erb__572857095_2174620720_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (23.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (30.8ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:43:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (100.1ms)
Completed 200 OK in 116ms (Views: 105.6ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:46:31 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (42.2ms)
Completed 200 OK in 132ms (Views: 47.5ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:46:38 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.8ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (43.3ms)
Completed 200 OK in 65ms (Views: 49.1ms | ActiveRecord: 0.5ms)
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (1.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs"[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE (division_id = 1)


Started GET "/league" for 127.0.0.1 at Sat Jul 30 19:53:19 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (78.2ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (98.1ms)
Completed 200 OK in 120ms (Views: 103.5ms | ActiveRecord: 0.5ms)
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE (division_id = 1)[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE (division_id = 1)
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE (division_id = 1)[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1[0m
SQLite3::SQLException: no such column: division.season_id: SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "division"."season_id" = 1
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.6ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:05:03 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173517880_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:18: syntax error, unexpected '<', expecting kEND
<%= # i ;@output_buffer.safe_concat('  <br>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected tIDENTIFIER, expecting kEND
...put_buffer = _old_virtual_path, _old_output_buffer
                              ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting '='
Function body:           def _app_views_pages_league_html_erb__572857095_2173517880_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
'); #j = @divs.count 
#for i in 1..j 

@league_players.count

<%= # i ;@output_buffer.safe_concat('  <br>
'); # end 
@output_buffer.safe_concat('
	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 22ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:18: syntax error, unexpected '<', expecting kEND
<%= # i ;@output_buffer.safe_concat('  <br>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected tIDENTIFIER, expecting kEND
...put_buffer = _old_virtual_path, _old_output_buffer
                              ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting '='):
    15: 
    16: @league_players.count
    17: 
    18: <%= # i %>  <br>
    19: <% # end %>
    20: 
    21: 	
  app/views/pages/league.html.erb:33:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (104.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (110.2ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:05:21 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173783420_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<', expecting ')'
</table>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: unterminated string meets end of file
Function body:           def _app_views_pages_league_html_erb__572857095_2173783420_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
 #j = @divs.count 
#for i in 1..j 

@league_players.count

');@output_buffer.append= ( # i );@output_buffer.safe_concat('  <br>
'); # end 
@output_buffer.safe_concat('
	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<', expecting ')'
</table>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: unterminated string meets end of file):
    24: 
    25: 
    26: 
    27: </table>
  app/views/pages/league.html.erb:27:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (102.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (108.5ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:05:43 +0100 2011
  Processing by PagesController#league as HTML
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174259300_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<', expecting kEND
</table>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: unterminated string meets end of file
Function body:           def _app_views_pages_league_html_erb__572857095_2174259300_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('


<table width=200>
	<h3>Division 1</h3>
	<tr>
		<td>Name</td>
		<td>Played</td>
		<td>Won</td>
		<td>Lost</td>
		<td>Points</td>
	</tr>
 #j = @divs.count 
#for i in 1..j 

');@output_buffer.append= ( @league_players.count );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
'); # i ;@output_buffer.safe_concat('  <br>
'); # end 
@output_buffer.safe_concat('
	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 9ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: syntax error, unexpected '<', expecting kEND
</table>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:27: unterminated string meets end of file):
    24: 
    25: 
    26: 
    27: </table>
  app/views/pages/league.html.erb:27:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (101.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (107.4ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:05:56 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (26.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (57.3ms)
Completed 200 OK in 67ms (Views: 63.5ms | ActiveRecord: 1.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:12:24 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (47.8ms)
Completed 200 OK in 70ms (Views: 53.6ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:12:31 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (79.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (102.2ms)
Completed 200 OK in 124ms (Views: 107.6ms | ActiveRecord: 0.5ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:12:45 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (109.8ms)
Completed 200 OK in 132ms (Views: 115.3ms | ActiveRecord: 0.5ms)
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs"[0m
  [1m[35mAREL (0.6ms)[0m  INSERT INTO "playerdivs" ("division_id", "user_id", "created_at", "updated_at") VALUES (2, 3, '2011-07-31 08:21:37.470924', '2011-07-31 08:21:37.470924')
  [1m[36mAREL (0.8ms)[0m  [1mINSERT INTO "playerdivs" ("division_id", "user_id", "created_at", "updated_at") VALUES (2, 4, '2011-07-31 08:21:56.576336', '2011-07-31 08:21:56.576336')[0m


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:21:59 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.0ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (44.0ms)
Completed 200 OK in 130ms (Views: 49.4ms | ActiveRecord: 0.5ms)
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions"[0m
  [1m[35mAREL (0.6ms)[0m  INSERT INTO "divisions" ("number", "season_id", "updated_at", "created_at") VALUES (2, 1, '2011-07-31 08:22:38.919911', '2011-07-31 08:22:38.919911')


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:22:41 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.4ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (44.3ms)
Completed 200 OK in 66ms (Views: 49.8ms | ActiveRecord: 0.6ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:24:20 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (78.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (100.5ms)
Completed 200 OK in 123ms (Views: 106.0ms | ActiveRecord: 0.5ms)
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:44:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (101.9ms)
Completed 200 OK in 123ms (Views: 107.3ms | ActiveRecord: 0.6ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:45:07 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" IS NULL[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.9ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (46.0ms)
Completed 200 OK in 139ms (Views: 51.0ms | ActiveRecord: 0.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:45:25 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (45.4ms)
Completed 200 OK in 67ms (Views: 50.5ms | ActiveRecord: 0.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:53:17 +0100 2011
  Processing by PagesController#league as HTML
Completed 500 Internal Server Error in 9ms

NoMethodError (undefined method `DISTINCT' for #<PagesController:0x1033761e0>):
  app/controllers/pages_controller.rb:21:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (29.9ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:53:38 +0100 2011
  Processing by PagesController#league as HTML
Completed 500 Internal Server Error in 9ms

NoMethodError (undefined method `DISTINCT' for #<PagesController:0x1030b8c00>):
  app/controllers/pages_controller.rb:21:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:53:39 +0100 2011
  Processing by PagesController#league as HTML
Completed 500 Internal Server Error in 9ms

NoMethodError (undefined method `DISTINCT' for #<PagesController:0x103393178>):
  app/controllers/pages_controller.rb:21:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:53:44 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (24.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (117.3ms)
Completed 200 OK in 139ms (Views: 122.3ms | ActiveRecord: 0.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:55:10 +0100 2011
  Processing by PagesController#league as HTML
Completed 500 Internal Server Error in 72ms

NoMethodError (undefined method `DISTINCT' for #<PagesController:0x1031625e8>):
  app/controllers/pages_controller.rb:21:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 09:55:34 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered pages/league.html.erb within layouts/application (10.6ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `uniq' for 4:Fixnum):
    10: 		<td>Lost</td>
    11: 		<td>Points</td>
    12: 	</tr>
    13: <%   j = @divs.count.uniq
    14: # for i in 1..j 
    15: 
    16: 	@league_players.each do |p| %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb__572857095_2173610980_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.6ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (86.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (93.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:25:40 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered pages/league.html.erb within layouts/application (12.6ms)
Completed 500 Internal Server Error in 55ms

ActionView::Template::Error (undefined method `uniq' for 4:Fixnum):
    10: 		<td>Lost</td>
    11: 		<td>Points</td>
    12: 	</tr>
    13: <%   j = @divs.count.uniq
    14: # for i in 1..j 
    15: 
    16: 	@league_players.each do |p| %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb__572857095_2174083460_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[36mPlayerdiv Load (0.6ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (92.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (118.0ms)
  [1m[36mDivision Load (0.5ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:30:11 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/league.html.erb within layouts/application (0.6ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (undefined method `count' for 2:Fixnum):
    10: 		<td>Lost</td>
    11: 		<td>Points</td>
    12: 	</tr>
    13: <%   j = @divs.count.uniq
    14: # for i in 1..j 
    15: 
    16: 	@league_players.each do |p| %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb__572857095_2174249620_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (100.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (106.9ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:30:15 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/league.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 10ms

ActionView::Template::Error (undefined method `count' for 2:Fixnum):
    10: 		<td>Lost</td>
    11: 		<td>Points</td>
    12: 	</tr>
    13: <%   j = @divs.count.uniq
    14: # for i in 1..j 
    15: 
    16: 	@league_players.each do |p| %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb__572857095_2174745280_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (38.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (44.9ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:30:26 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/league.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 10ms

ActionView::Template::Error (undefined method `count' for 2:Fixnum):
    10: 		<td>Lost</td>
    11: 		<td>Points</td>
    12: 	</tr>
    13: <%   j = @divs.count
    14: # for i in 1..j 
    15: 
    16: 	@league_players.each do |p| %>
  app/views/pages/league.html.erb:13:in `_app_views_pages_league_html_erb__572857095_2172628900_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (40.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (45.9ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:30:52 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (106.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (134.1ms)
Completed 200 OK in 143ms (Views: 139.4ms | ActiveRecord: 1.2ms)
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."id" = 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:38:26 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Completed 500 Internal Server Error in 10ms

NameError (undefined local variable or method `array' for #<PagesController:0x103241158>):
  app/controllers/pages_controller.rb:23:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.2ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:39:09 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Completed 500 Internal Server Error in 10ms

NameError (undefined local variable or method `array' for #<PagesController:0x1034d3010>):
  app/controllers/pages_controller.rb:23:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:39:10 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Completed 500 Internal Server Error in 9ms

NameError (undefined local variable or method `array' for #<PagesController:0x103235e20>):
  app/controllers/pages_controller.rb:23:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:40:13 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (38.2ms)
Completed 200 OK in 132ms (Views: 43.4ms | ActiveRecord: 1.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:41:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174111520_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:8: syntax error, unexpected '<'
	<table width=200>
	 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:9: syntax error, unexpected '<'
		<h3>Division 1</h3>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:9: syntax error, unexpected tINTEGER, expecting kDO or '{' or '('
		<h3>Division 1</h3>
		              ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:11: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:12: syntax error, unexpected '<'
			<td>Played</td>
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:13: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:14: syntax error, unexpected '<'
			<td>Lost</td>
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:15: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:16: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:20: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:20: unmatched (: /tr>

	@league_players.each do |p| 
@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= (	p.user_id );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:21: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:22: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:22: unmatched ): /td>
			<td>');@output_buffer.append= ( j );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected '<', expecting kEND
</table>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: unterminated string meets end of file
Function body:           def _app_views_pages_league_html_erb__572857095_2174111520_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('



');@output_buffer.append_if_string=    j = @divs
 for i in 1..j 

	<table width=200>
		<h3>Division 1</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

	@league_players.each do |p| 
@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= (	p.user_id );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= (	p.division_id );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( j );@output_buffer.safe_concat('</td>
');	 end 
 end 		
@output_buffer.safe_concat('


	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:8: syntax error, unexpected '<'
	<table width=200>
	 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:9: syntax error, unexpected '<'
		<h3>Division 1</h3>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:9: syntax error, unexpected tINTEGER, expecting kDO or '{' or '('
		<h3>Division 1</h3>
		              ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:11: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:12: syntax error, unexpected '<'
			<td>Played</td>
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:13: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:14: syntax error, unexpected '<'
			<td>Lost</td>
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:15: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:16: syntax error, unexpected '<'
		</tr>
		 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:20: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:20: unmatched (: /tr>

	@league_players.each do |p| 
@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= (	p.user_id );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:21: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:22: unknown regexp options - td
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:22: unmatched ): /td>
			<td>');@output_buffer.append= ( j );@output_buffer.safe_concat('</
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected '<', expecting kEND
</table>
 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: unterminated string meets end of file):
    5: <%   j = @divs
    6:  for i in 1..j 
    7: 
    8: 	<table width=200>
    9: 		<h3>Division 1</h3>
    10: 		<tr>
    11: 			<td>Name</td>
  app/views/pages/league.html.erb:34:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (103.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (109.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:41:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.0ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (36.1ms)
Completed 200 OK in 48ms (Views: 42.3ms | ActiveRecord: 1.5ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:41:57 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.4ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (38.0ms)
Completed 200 OK in 70ms (Views: 43.2ms | ActiveRecord: 1.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:42:12 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (78.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (93.7ms)
Completed 200 OK in 127ms (Views: 99.0ms | ActiveRecord: 1.3ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:47:25 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173274320_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:41: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_pages_league_html_erb__572857095_2173274320_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('



');   j = @divs
 for i in 1..j 
@output_buffer.safe_concat('
	<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');	@league_players.each do |p| 
	if p.division_id = i 
@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= (	p.user_id );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= (	p.division_id );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( j );@output_buffer.safe_concat('</td>
');	 end 
 end 		
@output_buffer.safe_concat('


	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:41:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 32ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:39: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:41: syntax error, unexpected $end, expecting kEND):
0  app/views/pages/league.html.erb:41:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (38.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (108.6ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:48:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (82.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (97.2ms)
Completed 200 OK in 110ms (Views: 102.9ms | ActiveRecord: 1.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:56:15 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (91.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (106.9ms)
Completed 200 OK in 139ms (Views: 112.4ms | ActiveRecord: 1.2ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:56:34 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (39.1ms)
Completed 200 OK in 134ms (Views: 44.3ms | ActiveRecord: 1.0ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 20:56:40 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (21.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (37.1ms)
Completed 200 OK in 70ms (Views: 42.7ms | ActiveRecord: 1.0ms)
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:00:01 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (99.1ms)
Completed 200 OK in 130ms (Views: 104.5ms | ActiveRecord: 1.0ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:00:59 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (88.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (105.9ms)
Completed 200 OK in 137ms (Views: 111.2ms | ActiveRecord: 1.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:02:12 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (39.1ms)
Completed 200 OK in 133ms (Views: 44.4ms | ActiveRecord: 1.0ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:36:53 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/new/sample_app/app/controllers/pages_controller.rb:25: syntax error, unexpected ')'
      @league_players << Playerdiv.where(:division_id => ).count
                                                          ^):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.6ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:37:30 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174195820_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:18: syntax error, unexpected '(', expecting kEND
');	lp = @league_players(j)
   	                     ^
Function body:           def _app_views_pages_league_html_erb__572857095_2174195820_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

');@output_buffer.append= ( league_players("bosh") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
');   j = @divs
 for i in 1..j 
@output_buffer.safe_concat('
	<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>User ID</td>
			<td>Division ID</td>
			<td>j</td>
			<td>i</td>
			<td>Points</td>
		</tr>

');	lp = @league_players(j)
lp.each do |p| 
		if p.division_id = i 
@output_buffer.safe_concat('
			<tr>
				<td>');@output_buffer.append= (	p.user_id );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= (	p.division_id );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( j );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( i );@output_buffer.safe_concat('</td>
');		 end 
	 end 
 end 		
@output_buffer.safe_concat('


	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:45:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:18: syntax error, unexpected '(', expecting kEND
');	lp = @league_players(j)
   	                     ^):
    15: 			<td>Points</td>
    16: 		</tr>
    17: 
    18: <%	lp = @league_players(j)
    19: lp.each do |p| 
    20: 		if p.division_id = i %>
    21: 
  app/views/pages/league.html.erb:45:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (96.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (102.5ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:37:52 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174583300_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:18: syntax error, unexpected '(', expecting kEND
');	lp = @league_players(j)
   	                     ^
Function body:           def _app_views_pages_league_html_erb__572857095_2174583300_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

');@output_buffer.append= ( league_players("bosh") );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
');   j = @divs
 for i in 1..j 
@output_buffer.safe_concat('
	<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>User ID</td>
			<td>Division ID</td>
			<td>j</td>
			<td>i</td>
			<td>Points</td>
		</tr>

');	lp = @league_players(j)
lp.each do |p| 
		if p.division_id = i 
@output_buffer.safe_concat('
			<tr>
				<td>');@output_buffer.append= (	p.user_id );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= (	p.division_id );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( j );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( i );@output_buffer.safe_concat('</td>
');		 end 
	 end 
 end 		
@output_buffer.safe_concat('


	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:45:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.7ms)
Completed 500 Internal Server Error in 11ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:18: syntax error, unexpected '(', expecting kEND
');	lp = @league_players(j)
   	                     ^):
    15: 			<td>Points</td>
    16: 		</tr>
    17: 
    18: <%	lp = @league_players(j)
    19: lp.each do |p| 
    20: 		if p.division_id = i %>
    21: 
  app/views/pages/league.html.erb:45:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (39.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (45.4ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:38:06 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (63.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (16.7ms)
Completed 500 Internal Server Error in 90ms

ActionView::Template::Error (undefined method `league_players' for #<#<Class:0x1034ec5b0>:0x1034ea878>):
    1: 
    2: 
    3: <%= league_players("bosh") %>
    4: 
    5: <%   j = @divs
    6:  for i in 1..j %>
  app/views/pages/league.html.erb:3:in `_app_views_pages_league_html_erb__572857095_2175219060_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:38:34 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered pages/league.html.erb within layouts/application (87.4ms)
Completed 500 Internal Server Error in 117ms

ActionView::Template::Error (undefined method `league_players' for #<#<Class:0x1030a3c60>:0x1030a1898>):
    1: 
    2: 
    3: <% hi = league_players("bosh") %>
    4: <%= hi %>
    5: 
    6: <%   j = @divs
  app/views/pages/league.html.erb:3:in `_app_views_pages_league_html_erb__572857095_2172971920_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:38:50 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
ERROR: compiling _app_views_pages_league_html_erb__572857095_2172981760_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:3: syntax error, unexpected '(', expecting kEND
'); hi = @league_players("bosh") 
                         ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:3: syntax error, unexpected ')', expecting kEND
'); hi = @league_players("bosh") 
                                ^
Function body:           def _app_views_pages_league_html_erb__572857095_2172981760_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

'); hi = @league_players("bosh") 
@output_buffer.append= ( hi );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
');   j = @divs
 for i in 1..j 
@output_buffer.safe_concat('
	<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>User ID</td>
			<td>Division ID</td>
			<td>j</td>
			<td>i</td>
			<td>Points</td>
		</tr>

');	lp = @league_players
lp.each do |p| 
		if p.division_id = i 
@output_buffer.safe_concat('
			<tr>
				<td>');@output_buffer.append= (	p.user_id );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= (	p.division_id );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( j );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( i );@output_buffer.safe_concat('</td>
');		 end 
	 end 
 end 		
@output_buffer.safe_concat('


	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:46:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 32ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:3: syntax error, unexpected '(', expecting kEND
'); hi = @league_players("bosh") 
                         ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:3: syntax error, unexpected ')', expecting kEND
'); hi = @league_players("bosh") 
                                ^):
    1: 
    2: 
    3: <% hi = @league_players("bosh") %>
    4: <%= hi %>
    5: 
    6: <%   j = @divs
  app/views/pages/league.html.erb:46:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (111.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (117.9ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:39:28 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (36.4ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 0.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:44:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (94.4ms)
Completed 500 Internal Server Error in 125ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x1031e5448>:0x1031e3210>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2173634400_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:07 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered pages/league.html.erb within layouts/application (85.4ms)
Completed 500 Internal Server Error in 115ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x103109510>:0x1031055a0>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2173180900_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:08 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (103.0ms)
Completed 500 Internal Server Error in 133ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x103100280>:0x1030fa9e8>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2173158520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:08 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered pages/league.html.erb within layouts/application (27.5ms)
Completed 500 Internal Server Error in 60ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x103140d58>:0x10313bb78>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2173291400_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:09 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (27.5ms)
Completed 500 Internal Server Error in 58ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x1031efe20>:0x1031ed990>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2173655280_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (68.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (80.4ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:09 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered pages/league.html.erb within layouts/application (26.6ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x103269a18>:0x1032665c0>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2173902960_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (69.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (76.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:10 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (27.9ms)
Completed 500 Internal Server Error in 59ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x1032769c0>:0x103272e88>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2173928740_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (66.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (73.3ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:11 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered pages/league.html.erb within layouts/application (27.8ms)
Completed 500 Internal Server Error in 58ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x1032e3200>:0x1032e0780>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2174148520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.0ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:11 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (27.0ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x1032fbe90>:0x1032f8038>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2174198120_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:11 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered pages/league.html.erb within layouts/application (26.6ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x1033480d8>:0x1033463a0>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2174359180_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.6ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 21:45:45 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Completed 500 Internal Server Error in 40ms

NameError (undefined local variable or method `name' for #<PagesController:0x10300e890>):
  app/controllers/pages_controller.rb:28:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:38:21 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.2ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:38:30 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:38:31 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.8ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateUsers (20110626115909)
Migrating to AddEmailUniquenessIndex (20110626163859)
Migrating to AddPasswordToUsers (20110626195723)
Migrating to AddSaltToUsers (20110626201325)
Migrating to AddAdminToUsers (20110702224704)
Migrating to CreateResults (20110724190028)
Migrating to CreateMatches (20110724201028)
Migrating to CreatePlayerdivs (20110727201059)
Migrating to CreateDivisions (20110727201213)
Migrating to CreateSeasons (20110727201217)
Migrating to RenamePlayerdivisionToPlayerdivInMatch (20110727213455)
Migrating to AddPointsToResults (20110727220742)
Migrating to RenamePlayerIdToUserIdInPlayerdiv (20110730104431)
Migrating to AddPointsToResult (20110730114956)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("divisions")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("matches")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("playerdivs")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("results")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("seasons")
  [1m[36mSQL (0.1ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_info('index_users_on_email')


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:38:46 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:40:08 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:40:10 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:43:14 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:43:15 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:43:16 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:43:16 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:44:03 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/league" for 127.0.0.1 at Sun Jul 31 22:44:04 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results" WHERE "results"."user_id" = 1


Started GET "/league" for 127.0.0.1 at Mon Aug 01 21:35:23 +0100 2011

ActionController::RoutingError (uninitialized constant LeaguesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.7ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 21:38:01 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Completed 500 Internal Server Error in 39ms

NameError (undefined local variable or method `name' for #<PagesController:0x1031192a8>):
  app/controllers/pages_controller.rb:28:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (67.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (81.1ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 21:40:13 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Completed 500 Internal Server Error in 28ms

ActionView::MissingTemplate (Missing template pages/league with {:handlers=>[:rxml, :erb, :builder, :rjs, :rhtml], :formats=>[:html], :locale=>[:en, :en]} in view paths "/Users/nwales/Sites/ruby/new/sample_app/app/views"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (1.2ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 21:41:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered pages/league.html.erb within layouts/application (27.9ms)
Completed 500 Internal Server Error in 126ms

ActionView::Template::Error (undefined method `greet' for #<#<Class:0x1033f81b8>:0x1033f3280>):
    1: 
    2: <%= greet "world"  %>
    3: 
    4: <%   j = @divs
    5:  for i in 1..j %>
  app/views/pages/league.html.erb:2:in `_app_views_pages_league_html_erb__572857095_2174707740_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.6ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 21:42:15 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (53.9ms)
Completed 200 OK in 145ms (Views: 59.5ms | ActiveRecord: 0.7ms)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs"
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mPlayerdiv Load (0.6ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'


Started GET "/league" for 127.0.0.1 at Mon Aug 01 22:19:38 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (21.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (37.2ms)
Completed 200 OK in 67ms (Views: 42.7ms | ActiveRecord: 0.7ms)
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."score" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."score" = 3[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."score" = 0
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."score" = 0[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.4ms)[0m  [1mSELECT SUM(value) AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
SQLite3::SQLException: no such column: value: SELECT SUM(value) AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[35mSQL (0.4ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:13:50 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Completed 404 Not Found in 19ms

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/pages_controller.rb:22:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.4ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:14:55 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Completed 500 Internal Server Error in 131ms

NameError (undefined local variable or method `options' for #<PagesController:0x1030c9a50>):
  app/controllers/pages_controller.rb:47:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.2ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:15:12 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173709180_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kEND, expecting $end
 end 		
    ^
Function body:           def _app_views_pages_league_html_erb__572857095_2173709180_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('




	<table width=200>
		<h3>Division 1</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 	@sorted_league.each do |p| 
@output_buffer.safe_concat('	
		if p.division_id = i %>

			<tr>
					<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
					<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
					<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
					<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
					<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
				</tr>
			
');		 end 
	 end 
 end 		
@output_buffer.safe_concat('


	

	



</table>


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 138ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:30: syntax error, unexpected kEND, expecting $end
 end 		
    ^):
    27: 			
    28: 		<% end %>
    29: 	<% end %>
    30: <% end %>		
    31: 
    32: 
    33: 
  app/views/pages/league.html.erb:30:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (26.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (32.2ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:15:41 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (13.6ms)
Completed 200 OK in 72ms (Views: 19.2ms | ActiveRecord: 2.9ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:15:54 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (14.2ms)
Completed 200 OK in 86ms (Views: 20.3ms | ActiveRecord: 2.5ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:18:09 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (14.0ms)
Completed 200 OK in 149ms (Views: 19.8ms | ActiveRecord: 2.7ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:18:56 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (13.8ms)
Completed 200 OK in 153ms (Views: 19.6ms | ActiveRecord: 2.6ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:19:42 +0100 2011
  Processing by PagesController#league as HTML
Completed 500 Internal Server Error in 1ms

NameError (undefined local variable or method `playerdiv' for #<PagesController:0x103103930>):
  app/controllers/pages_controller.rb:21:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (67.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (73.6ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:19:52 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (3.8ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 3
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (14.4ms)
Completed 200 OK in 95ms (Views: 20.1ms | ActiveRecord: 6.4ms)
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:20:56 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (14.1ms)
Completed 200 OK in 149ms (Views: 19.8ms | ActiveRecord: 2.6ms)


Started GET "/league" for 127.0.0.1 at Mon Aug 01 23:21:07 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.0ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered pages/league.html.erb within layouts/application (15.2ms)
Completed 200 OK in 154ms (Views: 21.2ms | ActiveRecord: 2.5ms)
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'


Started GET "/league" for 127.0.0.1 at Tue Aug 02 08:16:32 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (13.7ms)
Completed 200 OK in 154ms (Views: 19.5ms | ActiveRecord: 2.8ms)
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs"[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO "playerdivs" ("division_id", "user_id", "created_at", "updated_at") VALUES (1, 5, '2011-08-02 08:15:09.908618', '2011-08-02 08:15:09.908618')


Started GET "/league" for 127.0.0.1 at Tue Aug 02 09:15:31 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (14.2ms)
Completed 200 OK in 98ms (Views: 20.7ms | ActiveRecord: 4.0ms)
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mMatch Load (0.6ms)[0m  SELECT "matches".* FROM "matches"
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "matches" ("playerdiv_id", "updated_at", "created_at") VALUES (1, '2011-08-02 08:16:20.890622', '2011-08-02 08:16:20.890622')[0m
  [1m[35mMatch Load (0.7ms)[0m  SELECT "matches".* FROM "matches"
  [1m[36mResult Load (0.6ms)[0m  [1mSELECT "results".* FROM "results"[0m
  [1m[35mAREL (0.7ms)[0m  INSERT INTO "results" ("result", "updated_at", "points", "active", "match_id", "created_at", "score", "user_id") VALUES ('win', '2011-08-02 08:18:14.986117', 6, NULL, 3, '2011-08-02 08:18:14.986117', 1, 1)
  [1m[36mAREL (0.8ms)[0m  [1mINSERT INTO "results" ("result", "updated_at", "points", "active", "match_id", "created_at", "score", "user_id") VALUES (NULL, '2011-08-02 08:18:58.946994', 2, NULL, 3, '2011-08-02 08:18:58.946994', 1, 5)[0m


Started GET "/league" for 127.0.0.1 at Tue Aug 02 09:19:01 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (14.4ms)
Completed 200 OK in 156ms (Views: 20.4ms | ActiveRecord: 3.5ms)
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" ORDER BY results.id DESC LIMIT 1
  [1m[36mAREL (0.9ms)[0m  [1mUPDATE "results" SET "result" = 'lost', "updated_at" = '2011-08-02 08:19:38.987624' WHERE "results"."id" = 6[0m


Started GET "/league" for 127.0.0.1 at Tue Aug 02 09:19:39 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (13.9ms)
Completed 200 OK in 165ms (Views: 19.8ms | ActiveRecord: 3.5ms)


Started GET "/league" for 127.0.0.1 at Tue Aug 02 09:23:18 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (13.6ms)
Completed 200 OK in 95ms (Views: 20.4ms | ActiveRecord: 3.5ms)
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.6ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs"[0m
  [1m[35mDivision Load (0.5ms)[0m  SELECT "divisions".* FROM "divisions"


Started GET "/league/gold" for 127.0.0.1 at Tue Aug 02 17:18:13 +0100 2011

ActionController::RoutingError (No route matches "/league/gold"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.9ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 20:59:52 +0100 2011
  Processing by PagesController#league as HTML
Completed 500 Internal Server Error in 2ms

NameError (uninitialized constant PagesController::League):
  app/controllers/pages_controller.rb:19:in `league'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (31.6ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:00:28 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (44.7ms)
Completed 500 Internal Server Error in 173ms

ActionView::Template::Error (undefined local variable or method `condition' for #<#<Class:0x1033ff940>:0x1033fcdd0>):
    1: <%= my_helper %>
  app/helpers/pages_helper.rb:26:in `my_helper'
  app/views/pages/league.html.erb:1:in `_app_views_pages_league_html_erb__572857095_2174732960_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.4ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:01:04 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (28.0ms)
Completed 500 Internal Server Error in 120ms

ActionView::Template::Error (undefined local variable or method `condition' for #<#<Class:0x10340c960>:0x103408298>):
    1: <%= my_helper %>
  app/helpers/pages_helper.rb:4:in `my_helper'
  app/views/pages/league.html.erb:1:in `_app_views_pages_league_html_erb__572857095_2174745780_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:01:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (15.9ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (348.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (383.0ms)
Completed 200 OK in 480ms (Views: 372.9ms | ActiveRecord: 16.3ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:02:02 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (62.5ms)
Completed 200 OK in 165ms (Views: 65.3ms | ActiveRecord: 3.7ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:02:40 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered pages/league.html.erb within layouts/application (122.0ms)
Completed 500 Internal Server Error in 156ms

ActionView::Template::Error (undefined local variable or method `sorted_league' for #<#<Class:0x1031c3820>:0x1031c0fa8>):
    1: <% show_league(1,1) %>
    2: 
    3: <%= sorted_league %>
  app/views/pages/league.html.erb:3:in `_app_views_pages_league_html_erb__572857095_2173562400_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:02:56 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (63.7ms)
Completed 200 OK in 166ms (Views: 66.7ms | ActiveRecord: 6.6ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:03:03 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (60.5ms)
Completed 200 OK in 96ms (Views: 64.5ms | ActiveRecord: 3.3ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:03:54 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (123.9ms)
Completed 200 OK in 158ms (Views: 127.1ms | ActiveRecord: 3.2ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:14:06 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (61.4ms)
Completed 200 OK in 162ms (Views: 64.6ms | ActiveRecord: 3.3ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:15:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.9ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/league.html.erb within layouts/application (122.1ms)
Completed 200 OK in 156ms (Views: 125.1ms | ActiveRecord: 3.5ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:17:12 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 3 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (62.4ms)
Completed 200 OK in 166ms (Views: 65.4ms | ActiveRecord: 3.4ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:17:39 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 4 AND "results"."user_id" = 5
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (62.7ms)
Completed 200 OK in 98ms (Views: 65.6ms | ActiveRecord: 3.4ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:17:48 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (145.6ms)
Completed 200 OK in 180ms (Views: 148.6ms | ActiveRecord: 3.5ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:18:07 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 2 AND "results"."user_id" = 5
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (61.0ms)
Completed 200 OK in 162ms (Views: 64.4ms | ActiveRecord: 3.2ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:18:44 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (115.0ms)
Completed 200 OK in 149ms (Views: 118.4ms | ActiveRecord: 2.9ms)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mMatch Load (0.5ms)[0m  SELECT "matches".* FROM "matches"
  [1m[36mPlayerdiv Load (0.6ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs"[0m
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:31:46 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (2.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (124.1ms)
Completed 200 OK in 158ms (Views: 128.0ms | ActiveRecord: 2.6ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:33:55 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/league.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 102ms

ActionView::Template::Error (undefined method `each' for 2:Fixnum):
    2: 
    3: <% 
    4: 	divisions = get_divisions(1)
    5: 	for i in divisions
    6: 		
    7: 	l = show_league(2,1) 
    8: %>
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2174636600_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (37.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (43.8ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:35:51 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (60.4ms)
Completed 200 OK in 76ms (Views: 64.7ms | ActiveRecord: 2.9ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:36:05 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (73.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (147.5ms)
Completed 200 OK in 184ms (Views: 149.3ms | ActiveRecord: 5.1ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:36:16 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (146.7ms)
Completed 200 OK in 181ms (Views: 147.9ms | ActiveRecord: 5.2ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 21:49:56 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/new/sample_app/app/helpers/pages_helper.rb:30: syntax error, unexpected tINTEGER, expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...rams[:current_page], params[:1])
                              ^):
  app/controllers/application_controller.rb:1
  app/controllers/pages_controller.rb:1

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:08:35 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (118.0ms)
Completed 500 Internal Server Error in 152ms

ActionView::Template::Error (parameter hash expected (got nil)):
    3: <% 
    4: 	divisions = get_divisions(1)
    5: 	for i in 1..divisions
    6: 		l = show_league(i,1) 
    7: %>
    8: 
    9: <table width=200>
  app/helpers/pages_helper.rb:30:in `show_league'
  app/views/pages/league.html.erb:6:in `_app_views_pages_league_html_erb__572857095_2173217680_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173217680_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (27.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (33.5ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:18:53 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered pages/league.html.erb within layouts/application (128.7ms)
Completed 500 Internal Server Error in 148ms

ActionView::Template::Error (The @pages variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    28: 		</table>
    29: <% end%>
    30: <p>Now let's render us some pagination!</p>
    31: <%= will_paginate @page_results %>
  app/views/pages/league.html.erb:31:in `_app_views_pages_league_html_erb__572857095_2172813560_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (31.6ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:21:27 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered pages/league.html.erb within layouts/application (65.1ms)
Completed 500 Internal Server Error in 156ms

ActionView::Template::Error (The @pages variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    28: 		</table>
    29: <% end%>
    30: <p>Now let's render us some pagination!</p>
    31: <%= will_paginate  %>
  app/views/pages/league.html.erb:31:in `_app_views_pages_league_html_erb__572857095_2175206480_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (99.4ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:27:57 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (0.8ms)
Rendered pages/league.html.erb within layouts/application (74.8ms)
Completed 200 OK in 95ms (Views: 76.4ms | ActiveRecord: 4.9ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:36:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (117.5ms)
Completed 500 Internal Server Error in 152ms

ActionView::Template::Error (undefined method `paginate' for nil:NilClass):
    3: <% 
    4: 	divisions = get_divisions(1)
    5: 	for i in 1..divisions
    6: 		l = show_league(i,1) 
    7: %>
    8: 
    9: <table width=200>
  app/helpers/pages_helper.rb:30:in `show_league'
  app/views/pages/league.html.erb:6:in `_app_views_pages_league_html_erb__572857095_2173478140_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173478140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (31.4ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:36:35 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
Rendered pages/league.html.erb within layouts/application (113.2ms)
Completed 500 Internal Server Error in 133ms

ActionView::Template::Error (undefined method `paginate' for nil:NilClass):
    3: <% 
    4: 	divisions = get_divisions(1)
    5: 	for i in 1..divisions
    6: 		l = show_league(i,1) 
    7: %>
    8: 
    9: <table width=200>
  app/helpers/pages_helper.rb:30:in `show_league'
  app/views/pages/league.html.erb:6:in `_app_views_pages_league_html_erb__572857095_2172566400_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2172566400_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (26.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (32.2ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:36:36 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (49.3ms)
Completed 500 Internal Server Error in 136ms

ActionView::Template::Error (undefined method `paginate' for nil:NilClass):
    3: <% 
    4: 	divisions = get_divisions(1)
    5: 	for i in 1..divisions
    6: 		l = show_league(i,1) 
    7: %>
    8: 
    9: <table width=200>
  app/helpers/pages_helper.rb:30:in `show_league'
  app/views/pages/league.html.erb:6:in `_app_views_pages_league_html_erb__572857095_2175115720_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2175115720_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (25.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (98.0ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:37:37 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (75.3ms)
Completed 200 OK in 95ms (Views: 76.6ms | ActiveRecord: 5.1ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:37:55 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (148.6ms)
Completed 200 OK in 184ms (Views: 149.7ms | ActiveRecord: 5.5ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:39:44 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
Rendered pages/league.html.erb within layouts/application (48.7ms)
Completed 500 Internal Server Error in 152ms

ActionView::Template::Error (The @pages variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    6: 		l = show_league(i,1) 
    7: 		@sorted_and_paginated_league = l.paginate(:page => params[:page])
    8: %>
    9: <%= will_paginate %>
    10: <table width=200>
    11: 		<h3>Division <%= i %></h3>
    12: 		<tr>
  app/views/pages/league.html.erb:9:in `_app_views_pages_league_html_erb__572857095_2174710020_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2174710020_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (86.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (92.6ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:40:25 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (137.0ms)
Completed 200 OK in 157ms (Views: 138.4ms | ActiveRecord: 4.9ms)
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions"[0m
  [1m[35mDivision Load (0.5ms)[0m  SELECT "divisions".* FROM "divisions"
  [1m[36mAREL (0.5ms)[0m  [1mINSERT INTO "divisions" ("number", "season_id", "updated_at", "created_at") VALUES (3, 1, '2011-08-03 21:47:14.867288', '2011-08-03 21:47:14.867288')[0m
  [1m[35mDivision Load (0.5ms)[0m  SELECT "divisions".* FROM "divisions"


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:47:27 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (149.2ms)
Completed 200 OK in 184ms (Views: 150.5ms | ActiveRecord: 5.2ms)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "divisions" ("number", "season_id", "updated_at", "created_at") VALUES (4, 1, '2011-08-03 21:47:39.788239', '2011-08-03 21:47:39.788239')[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "divisions" ("number", "season_id", "updated_at", "created_at") VALUES (5, 1, '2011-08-03 21:47:39.797131', '2011-08-03 21:47:39.797131')
  [1m[36mAREL (2.0ms)[0m  [1mINSERT INTO "divisions" ("number", "season_id", "updated_at", "created_at") VALUES (6, 1, '2011-08-03 21:47:40.493854', '2011-08-03 21:47:40.493854')[0m


Started GET "/league" for 127.0.0.1 at Wed Aug 03 22:47:45 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (141.1ms)
Completed 200 OK in 175ms (Views: 141.4ms | ActiveRecord: 6.0ms)


Started GET "/users" for 127.0.0.1 at Wed Aug 03 22:48:08 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (95.7ms)
Rendered layouts/_stylesheets.html.erb (1.2ms)
Rendered layouts/_header.html.erb (3.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (113.2ms)
Completed 200 OK in 141ms (Views: 119.6ms | ActiveRecord: 1.5ms)


Started GET "/users" for 127.0.0.1 at Wed Aug 03 23:02:45 +0100 2011
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Rendered users/_user.html.erb (28.4ms)
Rendered layouts/_stylesheets.html.erb (1.3ms)
Rendered layouts/_header.html.erb (3.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/index.html.erb within layouts/application (45.9ms)
Completed 200 OK in 73ms (Views: 51.8ms | ActiveRecord: 1.5ms)


Started GET "/users" for 127.0.0.1 at Wed Aug 03 23:02:50 +0100 2011
  Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Rendered users/_user.html.erb (28.7ms)
Rendered layouts/_stylesheets.html.erb (1.4ms)
Rendered layouts/_header.html.erb (66.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered users/index.html.erb within layouts/application (109.5ms)
Completed 200 OK in 136ms (Views: 115.5ms | ActiveRecord: 1.5ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 23:02:56 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (142.5ms)
Completed 200 OK in 177ms (Views: 143.5ms | ActiveRecord: 5.6ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 23:03:13 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (150.7ms)
Completed 200 OK in 186ms (Views: 151.6ms | ActiveRecord: 5.6ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 23:04:17 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/league.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (wrong number of arguments (0 for 1)):
    2: 
    3: <% 
    4: 	divisions = get_divisions(1)
    5: 	@sorted_and_paginated_divisions = l.paginate(:page => params[:page], :per_page => 2)
    6: 	for i in 1..divisions
    7: 		l = show_league(i,1) 
    8: 		
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173141480_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (38.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (44.2ms)


Started GET "/league" for 127.0.0.1 at Wed Aug 03 23:04:38 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/league.html.erb within layouts/application (2.2ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (undefined method `paginate' for 6:Fixnum):
    2: 
    3: <% 
    4: 	divisions = get_divisions(1)
    5: 	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
    6: 	for i in 1..divisions
    7: 		l = show_league(i,1) 
    8: 		
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173439380_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (101.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (107.0ms)
  [1m[35mDivision Load (0.7ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" IS NULL[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" IS NULL
  [1m[36mDivision Load (0.6ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m


Started GET "/league" for 127.0.0.1 at Thu Aug 04 08:09:00 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173749640_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:6: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb__572857095_2173749640_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>

'); end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:6: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected kENSURE, expecting $end):
    3: <% 
    4: 	divisions = division_ids
    5: 	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
    6: 	for divisions.each
    7: 		l = show_league(i,1) 
    8: 		
    9: %>
  app/views/pages/league.html.erb:34:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (101.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (107.7ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 08:09:20 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173978640_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2173978640_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>

'); end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    29: 		<% end %>
    30: 		</table>
    31: 
    32: <% end  %>
    33: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (42.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (48.2ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 08:09:58 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
ERROR: compiling _app_views_pages_league_html_erb__572857095_2174624160_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2174624160_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>


'); end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:37:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:33: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    30: 		</table>
    31: 
    32: 
    33: <% end  %>
    34: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:37:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.2ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (41.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (47.9ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 08:10:15 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
ERROR: compiling _app_views_pages_league_html_erb__572857095_2172121720_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:31: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_league_html_erb__572857095_2172121720_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>
'); end 
@output_buffer.safe_concat('
'); end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:31: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: syntax error, unexpected kENSURE, expecting $end):
    28: 			</tr>
    29: 		<% end %>
    30: 		</table>
    31: <% end %>
    32: 
    33: <% end  %>
    34: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:35:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (62.9ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (112.3ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 08:10:22 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
ERROR: compiling _app_views_pages_league_html_erb__572857095_2172875900_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2172875900_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>
');@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    29: 		<% end %>
    30: 		</table>
    31: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:34:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.2ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (106.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (112.5ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 08:19:37 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173016700_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:37: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2173016700_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('

'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>


'); #end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:37:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:35: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:37: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    32: 
    33: <% #end  %>
    34: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:37:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (106.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (113.0ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 20:04:31 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173316700_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2173316700_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('
'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>


'); #end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:34: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    31: 
    32: <% #end  %>
    33: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.2ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (41.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (47.4ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 20:05:34 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
ERROR: compiling _app_views_pages_league_html_erb__572857095_2173927940_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2173927940_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('
'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>


'); end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    29: 		</table>
    30: 
    31: 
    32: <% end  %>
    33: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (42.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (48.7ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 20:06:23 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
ERROR: compiling _app_views_pages_league_html_erb__572857095_2171423940_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2171423940_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('
'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.safe_concat('
<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>


'); end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    29: 		</table>
    30: 
    31: 
    32: <% end  %>
    33: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (45.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (52.2ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 20:06:29 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
ERROR: compiling _app_views_pages_league_html_erb__572857095_2171888740_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'
Function body:           def _app_views_pages_league_html_erb__572857095_2171888740_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/league";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('
'); 
	divisions = division_ids
	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
	for divisions.each do |l|
		l = show_league(i,1) 
		

@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<table width=200>
		<h3>Division ');@output_buffer.append= ( i );@output_buffer.safe_concat('</h3>
		<tr>
			<td>Name</td>
			<td>Played</td>
			<td>Won</td>
			<td>Lost</td>
			<td>Points</td>
		</tr>

');@output_buffer.append_if_string= 			l.each do |p| 
@output_buffer.safe_concat('			<tr>
				<td>');@output_buffer.append= ( p[:Name] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Played] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Won] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Lost] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( p[:Points] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>


'); end  
@output_buffer.append= ( will_paginate @sorted_and_paginated_divisions );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:36:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__82387950__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/league.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/league.html.erb:32: syntax error, unexpected '\n', expecting tCOLON2 or '[' or '.'):
    29: 		</table>
    30: 
    31: 
    32: <% end  %>
    33: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:36:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mPlayerdiv Load (0.6ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (116.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (123.1ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 20:08:27 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.4ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/league.html.erb within layouts/application (24.2ms)
Completed 500 Internal Server Error in 39ms

ActionView::Template::Error (undefined local variable or method `i' for #<#<Class:0x102eff170>:0x102efb778>):
    3: 	divisions = division_ids
    4: 	@sorted_and_paginated_divisions = divisions.paginate(:page => params[:page], :per_page => 2)
    5: 	 divisions.each do |l|
    6: 		l = show_league(i,1) 
    7: 		
    8: %>
    9: <%= will_paginate @sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:6:in `_app_views_pages_league_html_erb__572857095_2172104360_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2172104360_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.0ms)


Started GET "/league" for 127.0.0.1 at Thu Aug 04 20:08:56 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (187.5ms)
Completed 200 OK in 224ms (Views: 189.2ms | ActiveRecord: 7.4ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 20:09:32 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (221.8ms)
Completed 200 OK in 256ms (Views: 222.2ms | ActiveRecord: 6.1ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 20:09:57 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (153.0ms)
Completed 200 OK in 254ms (Views: 153.4ms | ActiveRecord: 6.1ms)
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 21:10:34 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (167.0ms)
Completed 200 OK in 202ms (Views: 169.2ms | ActiveRecord: 6.5ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 21:13:50 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (59.8ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (153.2ms)
Completed 200 OK in 187ms (Views: 93.6ms | ActiveRecord: 66.0ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 21:14:01 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (43.1ms)
Completed 200 OK in 147ms (Views: 48.1ms | ActiveRecord: 1.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:14:06 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (156.5ms)
Completed 200 OK in 192ms (Views: 157.6ms | ActiveRecord: 5.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:45:02 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (147.7ms)
Completed 200 OK in 184ms (Views: 148.3ms | ActiveRecord: 6.0ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:46:03 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (85.0ms)
Completed 200 OK in 199ms (Views: 86.1ms | ActiveRecord: 5.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:46:14 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (143.9ms)
Completed 200 OK in 179ms (Views: 144.6ms | ActiveRecord: 5.8ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:46:30 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (88.9ms)
Completed 200 OK in 199ms (Views: 89.2ms | ActiveRecord: 6.1ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:46:35 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
Rendered pages/league.html.erb within layouts/application (119.1ms)
Completed 500 Internal Server Error in 154ms

ActionView::Template::Error (undefined method `first' for 2173461400:Fixnum):
    8: %>
    9: <%= will_paginate sorted_and_paginated_divisions %>
    10: <table width=200>
    11: 		<h3>Division <%= divisions.id.first %></h3>
    12: 		<tr>
    13: 			<td>Name</td>
    14: 			<td>Played</td>
  app/views/pages/league.html.erb:11:in `_app_views_pages_league_html_erb__572857095_2173535620_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173535620_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (29.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.3ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:46:40 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (160.3ms)
Completed 200 OK in 181ms (Views: 161.1ms | ActiveRecord: 9.4ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 21:47:15 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (42.6ms)
Completed 200 OK in 77ms (Views: 47.4ms | ActiveRecord: 1.4ms)


Started GET "/league?page=3" for 127.0.0.1 at Thu Aug 04 21:47:17 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"3"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 6[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (42.9ms)
Completed 200 OK in 77ms (Views: 47.8ms | ActiveRecord: 1.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:49:34 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (65.5ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (147.1ms)
Completed 200 OK in 247ms (Views: 147.7ms | ActiveRecord: 6.1ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:49:52 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (156.6ms)
Completed 200 OK in 191ms (Views: 157.5ms | ActiveRecord: 5.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:51:17 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.9ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (151.1ms)
Completed 200 OK in 187ms (Views: 152.9ms | ActiveRecord: 5.2ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:52:40 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (151.3ms)
Completed 200 OK in 186ms (Views: 152.1ms | ActiveRecord: 5.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:52:46 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (150.2ms)
Completed 200 OK in 186ms (Views: 150.9ms | ActiveRecord: 5.7ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:53:11 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.7ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.5ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.2ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (154.1ms)
Completed 200 OK in 189ms (Views: 154.3ms | ActiveRecord: 6.2ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:53:17 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (150.8ms)
Completed 200 OK in 186ms (Views: 151.9ms | ActiveRecord: 5.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:53:33 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/league.html.erb within layouts/application (153.0ms)
Completed 200 OK in 188ms (Views: 154.2ms | ActiveRecord: 5.3ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:36 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (143.3ms)
Completed 200 OK in 178ms (Views: 144.2ms | ActiveRecord: 5.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:38 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.5ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (85.0ms)
Completed 200 OK in 188ms (Views: 154.3ms | ActiveRecord: 5.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:39 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (1.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (182.7ms)
Completed 200 OK in 217ms (Views: 181.4ms | ActiveRecord: 7.8ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:40 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (86.5ms)
Completed 200 OK in 187ms (Views: 87.1ms | ActiveRecord: 5.8ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:50 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (140.9ms)
Completed 200 OK in 177ms (Views: 141.4ms | ActiveRecord: 6.0ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:51 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.5ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (85.4ms)
Completed 200 OK in 216ms (Views: 86.8ms | ActiveRecord: 6.0ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:52 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (142.3ms)
Completed 200 OK in 178ms (Views: 143.0ms | ActiveRecord: 5.8ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:52 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.4ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (83.6ms)
Completed 200 OK in 188ms (Views: 84.8ms | ActiveRecord: 5.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:54:53 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (150.2ms)
Completed 200 OK in 185ms (Views: 151.0ms | ActiveRecord: 5.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:57:43 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (83.7ms)
Completed 200 OK in 187ms (Views: 84.9ms | ActiveRecord: 5.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:57:44 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (151.0ms)
Completed 200 OK in 186ms (Views: 151.9ms | ActiveRecord: 5.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:57:45 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (83.0ms)
Completed 200 OK in 186ms (Views: 152.1ms | ActiveRecord: 5.3ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:58:29 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (114.8ms)
Completed 500 Internal Server Error in 149ms

ActionView::Template::Error (Symbol as array index):
    8: %>
    9: 
    10: <table width=200>
    11: 		<h3>Division <%= l[:id] %></h3>
    12: 		<tr>
    13: 			<td>Name</td>
    14: 			<td>Played</td>
  app/views/pages/league.html.erb:11:in `[]'
  app/views/pages/league.html.erb:11:in `_app_views_pages_league_html_erb__572857095_2173882340_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173882340_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (29.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:58:36 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (121.6ms)
Completed 500 Internal Server Error in 142ms

ActionView::Template::Error (Symbol as array index):
    8: %>
    9: 
    10: <table width=200>
    11: 		<h3>Division <%= divisions[:id] %></h3>
    12: 		<tr>
    13: 			<td>Name</td>
    14: 			<td>Played</td>
  app/views/pages/league.html.erb:11:in `[]'
  app/views/pages/league.html.erb:11:in `_app_views_pages_league_html_erb__572857095_2173009040_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173009040_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (29.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.2ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 21:58:50 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (118.7ms)
Completed 500 Internal Server Error in 138ms

ActionView::Template::Error (Symbol as array index):
    8: %>
    9: 
    10: <table width=200>
    11: 		<h3>Division <%= sorted_and_paginated_divisions[:id] %></h3>
    12: 		<tr>
    13: 			<td>Name</td>
    14: 			<td>Played</td>
  app/views/pages/league.html.erb:11:in `[]'
  app/views/pages/league.html.erb:11:in `_app_views_pages_league_html_erb__572857095_2172475900_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2172475900_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (29.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.8ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:04:12 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (86.9ms)
Completed 200 OK in 173ms (Views: 87.3ms | ActiveRecord: 5.9ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:04:40 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
Rendered pages/league.html.erb within layouts/application (137.9ms)
Completed 500 Internal Server Error in 172ms

ActionView::Template::Error (can't convert Array into Integer):
    8: %>
    9: 
    10: <table width=200>
    11: 		<h3>Division <%= sorted_and_paginated_divisions[l] %></h3>
    12: 		<tr>
    13: 			<td>Name</td>
    14: 			<td>Played</td>
  app/views/pages/league.html.erb:11:in `[]'
  app/views/pages/league.html.erb:11:in `_app_views_pages_league_html_erb__572857095_2173412640_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173412640_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL
  [1m[36mDivision Load (0.2ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (26.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (33.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:04:44 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (149.5ms)
Completed 200 OK in 170ms (Views: 150.5ms | ActiveRecord: 9.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:04:48 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (82.9ms)
Completed 200 OK in 200ms (Views: 84.0ms | ActiveRecord: 5.5ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:05:56 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (143.2ms)
Completed 200 OK in 178ms (Views: 144.4ms | ActiveRecord: 5.4ms)
  [1m[36mDivision Load (0.6ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:19:15 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (53.6ms)
Completed 500 Internal Server Error in 156ms

ActionView::Template::Error (Symbol as array index):
    9: %>
    10: 
    11: <table width=200>
    12: 		<h3>Division <%= d[:id] %></h3>
    13: 		<tr>
    14: 			<td>Name</td>
    15: 			<td>Played</td>
  app/views/pages/league.html.erb:12:in `[]'
  app/views/pages/league.html.erb:12:in `_app_views_pages_league_html_erb__572857095_2174902120_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2174902120_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (88.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (94.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:21:32 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (68.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (147.1ms)
Completed 200 OK in 168ms (Views: 148.0ms | ActiveRecord: 5.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:21:40 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (1.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (155.7ms)
Completed 200 OK in 193ms (Views: 156.8ms | ActiveRecord: 6.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:22:46 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (67.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (145.7ms)
Completed 200 OK in 181ms (Views: 146.3ms | ActiveRecord: 5.9ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:22:53 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered pages/league.html.erb within layouts/application (143.7ms)
Completed 200 OK in 179ms (Views: 144.8ms | ActiveRecord: 5.6ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 22:22:56 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.0ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/league.html.erb within layouts/application (38.7ms)
Completed 200 OK in 150ms (Views: 43.9ms | ActiveRecord: 1.3ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:22:58 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (84.4ms)
Completed 200 OK in 184ms (Views: 85.3ms | ActiveRecord: 5.7ms)
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mDivision Load (0.6ms)[0m  SELECT "divisions".* FROM "divisions" INNER JOIN "playerdivs" ON "playerdivs"."division_id" = "divisions"."id"
  [1m[36mDivision Load (0.7ms)[0m  [1mSELECT "divisions".* FROM "divisions" INNER JOIN "playerdivs" ON "playerdivs"."division_id" = "divisions"."id"[0m


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:39:20 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (75.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (153.1ms)
Completed 200 OK in 188ms (Views: 154.0ms | ActiveRecord: 5.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:39:33 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (121.0ms)
Completed 500 Internal Server Error in 156ms

ActionView::Template::Error (can't convert Array into Integer):
    9: %>
    10: 
    11: <table width=200>
    12: 		<h3>Division <%= divisions[l][:id] %></h3>
    13: 		<tr>
    14: 			<td>Name</td>
    15: 			<td>Played</td>
  app/views/pages/league.html.erb:12:in `[]'
  app/views/pages/league.html.erb:12:in `_app_views_pages_league_html_erb__572857095_2173346140_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173346140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[35mPlayerdiv Load (0.6ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.2ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (27.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (34.0ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:40:24 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (84.9ms)
Completed 200 OK in 170ms (Views: 85.9ms | ActiveRecord: 5.6ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:40:39 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (143.5ms)
Completed 200 OK in 178ms (Views: 144.3ms | ActiveRecord: 5.7ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:41:05 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (83.5ms)
Completed 200 OK in 189ms (Views: 154.9ms | ActiveRecord: 5.4ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 22:41:08 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3[0m
  [1m[35mPlayerdiv Load (0.1ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (22.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/league.html.erb within layouts/application (39.0ms)
Completed 200 OK in 73ms (Views: 43.7ms | ActiveRecord: 1.7ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:41:33 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (67.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (144.0ms)
Completed 200 OK in 178ms (Views: 145.1ms | ActiveRecord: 5.3ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:42:26 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (125.0ms)
Completed 500 Internal Server Error in 160ms

ActionView::Template::Error (Symbol as array index):
    9: %>
    10: 
    11: <table width=200>
    12: 		<h3>Division <%= divisions[:page][:id] %></h3>
    13: 		<tr>
    14: 			<td>Name</td>
    15: 			<td>Played</td>
  app/views/pages/league.html.erb:12:in `[]'
  app/views/pages/league.html.erb:12:in `_app_views_pages_league_html_erb__572857095_2173675100_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173675100_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.2ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (28.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (34.7ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:42:38 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (116.7ms)
Completed 500 Internal Server Error in 136ms

ActionView::Template::Error (can't convert Array into Integer):
    9: %>
    10: 
    11: <table width=200>
    12: 		<h3>Division <%= divisions[l][:id] %></h3>
    13: 		<tr>
    14: 			<td>Name</td>
    15: 			<td>Played</td>
  app/views/pages/league.html.erb:12:in `[]'
  app/views/pages/league.html.erb:12:in `_app_views_pages_league_html_erb__572857095_2172962820_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2172962820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (28.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (34.8ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:43:41 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (119.8ms)
Completed 500 Internal Server Error in 140ms

ActionView::Template::Error (wrong number of arguments (0 for 1)):
    7: %>
    8: 
    9: <table width=200>
    10: 		<h3>Division <%= divisions[][:id] %></h3>
    11: 		<tr>
    12: 			<td>Name</td>
    13: 			<td>Played</td>
  app/views/pages/league.html.erb:10:in `[]'
  app/views/pages/league.html.erb:10:in `_app_views_pages_league_html_erb__572857095_2172407840_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2172407840_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (29.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (35.1ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:44:00 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (55.5ms)
Completed 500 Internal Server Error in 140ms

ActionView::Template::Error (can't convert WillPaginate::Collection into Integer):
    7: %>
    8: 
    9: <table width=200>
    10: 		<h3>Division <%= divisions[sorted_and_paginated_divisions][:id] %></h3>
    11: 		<tr>
    12: 			<td>Name</td>
    13: 			<td>Played</td>
  app/views/pages/league.html.erb:10:in `[]'
  app/views/pages/league.html.erb:10:in `_app_views_pages_league_html_erb__572857095_2175223580_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2175223580_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.2ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (27.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (33.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:44:10 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.5ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (54.9ms)
Completed 500 Internal Server Error in 76ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
    28: 		</table>
    29: 
    30: 
    31: <% a = a +1 
    32: 	end  %>
    33: <%= will_paginate sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:31:in `_app_views_pages_league_html_erb__572857095_2174614600_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2174614600_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (93.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (98.9ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:44:31 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
Rendered pages/league.html.erb within layouts/application (52.7ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.+):
    28: 		</table>
    29: 
    30: 
    31: <% a = a +1 
    32: 	end  %>
    33: <%= will_paginate sorted_and_paginated_divisions %>
  app/views/pages/league.html.erb:31:in `_app_views_pages_league_html_erb__572857095_2173686240_0'
  app/views/pages/league.html.erb:5:in `each'
  app/views/pages/league.html.erb:5:in `_app_views_pages_league_html_erb__572857095_2173686240_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" INNER JOIN "divisions" ON "divisions"."id" = "playerdivs"."division_id" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" IS NULL[0m
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (94.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (100.7ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:44:43 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (150.0ms)
Completed 200 OK in 170ms (Views: 150.7ms | ActiveRecord: 9.4ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:48:39 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (188.6ms)
Completed 200 OK in 223ms (Views: 189.3ms | ActiveRecord: 5.8ms)


Started GET "/league?page=2" for 127.0.0.1 at Thu Aug 04 22:49:18 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (39.6ms)
Completed 200 OK in 74ms (Views: 44.7ms | ActiveRecord: 1.3ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:49:20 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (66.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (142.9ms)
Completed 200 OK in 179ms (Views: 144.3ms | ActiveRecord: 5.2ms)


Started GET "/league?page=1" for 127.0.0.1 at Thu Aug 04 22:49:34 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (5.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (160.2ms)
Completed 200 OK in 196ms (Views: 160.0ms | ActiveRecord: 6.7ms)
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mMatch Load (0.5ms)[0m  SELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 2)
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mDivision Load (0.7ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mDivision Load (0.5ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.5ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1
  [1m[36mResult Load (0.6ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results"
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Started GET "/league?page=1" for 127.0.0.1 at Fri Aug 05 21:23:06 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"1"}
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (259.7ms)
Completed 200 OK in 369ms (Views: 260.4ms | ActiveRecord: 5.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:23:13 +0100 2011
  Processing by PagesController#results as HTML
Rendered pages/results.html.erb within layouts/application (6.6ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (undefined local variable or method `season' for #<#<Class:0x1033c3800>:0x1033c01f0>):
    1: 
    2: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    3: 	results = get_results(season)	
    4: 	results.each do |l|
    5: 		
    6: %>
  app/views/pages/results.html.erb:3:in `_app_views_pages_results_html_erb__787084217_2174608920_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (47.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:23:28 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/results.html.erb within layouts/application (78.2ms)
Completed 500 Internal Server Error in 85ms

ActionView::Template::Error (bad value for range):
    1: 
    2: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    3: 	results = get_results(1)	
    4: 	results.each do |l|
    5: 		
    6: %>
  app/views/pages/results.html.erb:3:in `_app_views_pages_results_html_erb__787084217_2173369920_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:23:50 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (21.6ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (bad value for range):
    1: 
    2: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    3: 	results = get_results("1")	
    4: 	results.each do |l|
    5: 		
    6: %>
  app/views/pages/results.html.erb:3:in `_app_views_pages_results_html_erb__787084217_2173807240_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:25:44 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/results.html.erb within layouts/application (10.4ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (undefined method `each' for 6:Fixnum):
    2: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    3: 
    4: 	results = get_divisions(1)	
    5: 	results.each do |l|
    6: 		
    7: %>
    8: 
  app/views/pages/results.html.erb:5:in `_app_views_pages_results_html_erb__787084217_2175102500_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.3ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:31:23 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173581460_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:27: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2173581460_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('
');@output_buffer.append_if_string= 	#Get the divisions for the season, run them through pagination, and loop through them.

	results = get_divisions(1)	
	results.each do |l|
		

@output_buffer.safe_concat('
<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>


			<tr>
				<td>');@output_buffer.append= ( l[:user_id] );@output_buffer.safe_concat('</td>
				<td>');@output_buffer.append= ( l[:score] );@output_buffer.safe_concat('</td>
			</tr>
');		 end 
@output_buffer.safe_concat('		</table>


'); 	end  
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:27:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:27: syntax error, unexpected kENSURE, expecting $end):
    24: 
    25: <% 	end  %>
  app/views/pages/results.html.erb:27:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.0ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:31:33 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (73.0ms)
Completed 500 Internal Server Error in 80ms

ActionView::Template::Error (undefined method `each' for 6:Fixnum):
    2: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    3: 
    4: 	results = get_divisions(1)	
    5: 	results.each do |l|
    6: 		
    7: %>
    8: 
  app/views/pages/results.html.erb:5:in `_app_views_pages_results_html_erb__787084217_2172454920_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.7ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:32:50 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173877660_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:15: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_pages_results_html_erb__787084217_2173877660_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');	#Get the divisions for the season, run them through pagination, and loop through them.
	results = get_divisions(1)	
	results.class		

@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= (# l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= (# l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 #end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:15: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    11: %>
    12: 		<tr>
    13: 			<td><%=# l[:user_id] %></td>
    14: 			<td><%=# l[:score] %></td>
    15: 		</tr>
    16: 		<% #end %>
    17: 		</table>
  app/views/pages/results.html.erb:17:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.4ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:33:07 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2172753880_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:15: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_pages_results_html_erb__787084217_2172753880_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');	#Get the divisions for the season, run them through pagination, and loop through them.
	results = get_divisions(1)	
@output_buffer.append= (	results.class		
);@output_buffer.safe_concat('
');@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= (# l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= (# l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 #end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:15: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    11: %>
    12: 		<tr>
    13: 			<td><%=# l[:user_id] %></td>
    14: 			<td><%=# l[:score] %></td>
    15: 		</tr>
    16: 		<% #end %>
    17: 		</table>
  app/views/pages/results.html.erb:17:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:33:09 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2175245620_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:15: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_pages_results_html_erb__787084217_2175245620_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');	#Get the divisions for the season, run them through pagination, and loop through them.
	results = get_divisions(1)	
@output_buffer.append= (	results.class		
);@output_buffer.safe_concat('
');@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= (# l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= (# l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 #end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:15: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:17: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    11: %>
    12: 		<tr>
    13: 			<td><%=# l[:user_id] %></td>
    14: 			<td><%=# l[:score] %></td>
    15: 		</tr>
    16: 		<% #end %>
    17: 		</table>
  app/views/pages/results.html.erb:17:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:33:18 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (43.4ms)
Completed 200 OK in 50ms (Views: 48.9ms | ActiveRecord: 0.4ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:33:58 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/results.html.erb within layouts/application (21.5ms)
Completed 500 Internal Server Error in 29ms

ActionView::Template::Error (bad value for range):
    6: 		</tr>
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	results = get_results(1)	
    10: %><%=	results.class		
    11: %>
    12: 		<tr>
  app/views/pages/results.html.erb:9:in `_app_views_pages_results_html_erb__787084217_2174586820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:39:08 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (46.8ms)
Completed 200 OK in 114ms (Views: 112.9ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:39:29 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.6ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (48.8ms)
Completed 200 OK in 120ms (Views: 119.0ms | ActiveRecord: 0.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:40:25 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (49.1ms)
Completed 200 OK in 56ms (Views: 54.6ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:42:50 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (47.2ms)
Completed 200 OK in 53ms (Views: 52.5ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:43:12 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (22.0ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (bad value for range):
    6: 		</tr>
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	results = get_results(1)	
    10: %><%=	results.class		
    11: %>
    12: 		<tr>
  app/views/pages/results.html.erb:9:in `_app_views_pages_results_html_erb__787084217_2175177820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 21:47:38 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/results.html.erb within layouts/application (83.9ms)
Completed 500 Internal Server Error in 91ms

ActionView::Template::Error (bad value for range):
    6: 		</tr>
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	results = get_results(1)	
    10: %><%=	results.class		
    11: %>
    12: 		<tr>
  app/views/pages/results.html.erb:9:in `_app_views_pages_results_html_erb__787084217_2173345080_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.3ms)
  [1m[35mDivision Load (0.6ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mDivision Load (0.6ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mDivision Load (0.6ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mDivision Load (0.7ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mDivision Load (0.6ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:30:05 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (28.5ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (undefined local variable or method `divs' for #<#<Class:0x10325f888>:0x10325d920>):
    6: 		</tr>
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	results = get_results(1)	
    10: %><%=	results.class		
    11: %>
    12: 		<tr>
  app/helpers/pages_helper.rb:45:in `get_results'
  app/views/pages/results.html.erb:9:in `_app_views_pages_results_html_erb__787084217_2173885900_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:30:19 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.9ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (71.5ms)
Completed 200 OK in 79ms (Views: 77.4ms | ActiveRecord: 1.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:31:14 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (90.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (134.5ms)
Completed 200 OK in 141ms (Views: 140.2ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:31:57 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (25.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (139.8ms)
Completed 200 OK in 146ms (Views: 145.0ms | ActiveRecord: 0.9ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:32:31 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (10.8ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (undefined method `each' for 6:Fixnum):
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	results = get_divisions(1)	
    10: 	results.each do |l|		
    11: %>
    12: 		<tr>
    13: 			<td><%= l[:user_id] %></td>
  app/views/pages/results.html.erb:10:in `_app_views_pages_results_html_erb__787084217_2174899140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:36:02 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/results.html.erb within layouts/application (11.0ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (undefined method `each' for 6:Fixnum):
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	results = get_divisions(1)	
    10: 	results.each do |l|		
    11: %>
    12: 		<tr>
    13: 			<td><%= l[:user_id] %></td>
  app/views/pages/results.html.erb:10:in `_app_views_pages_results_html_erb__787084217_2173441520_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:36:25 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (10.8ms)
Completed 500 Internal Server Error in 17ms

ActionView::Template::Error (undefined method `each' for 6:Fixnum):
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	new_results = get_divisions(1)	
    10: 	new_results.each do |l|		
    11: %>
    12: 		<tr>
    13: 			<td><%= l[:user_id] %></td>
  app/views/pages/results.html.erb:10:in `_app_views_pages_results_html_erb__787084217_2175006780_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:36:26 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered pages/results.html.erb within layouts/application (11.2ms)
Completed 500 Internal Server Error in 18ms

ActionView::Template::Error (undefined method `each' for 6:Fixnum):
    7: 
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 	new_results = get_divisions(1)	
    10: 	new_results.each do |l|		
    11: %>
    12: 		<tr>
    13: 			<td><%= l[:user_id] %></td>
  app/views/pages/results.html.erb:10:in `_app_views_pages_results_html_erb__787084217_2173577140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:42:26 +0100 2011
  Processing by PagesController#results as HTML
Rendered pages/results.html.erb within layouts/application (6.8ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (undefined method `get_results' for #<#<Class:0x1034d0f18>:0x1034cf258>):
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 
    10: 
    11: 	new_results = get_results(1)	
    12: 	new_results.each do |l|		
    13: %>
    14: 		<tr>
  app/views/pages/results.html.erb:11:in `_app_views_pages_results_html_erb__787084217_2175166580_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.3ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:42:48 +0100 2011
  Processing by PagesController#results as HTML
Rendered pages/results.html.erb within layouts/application (6.9ms)
Completed 500 Internal Server Error in 14ms

ActionView::Template::Error (undefined method `get_results' for #<#<Class:0x103234688>:0x103232798>):
    8: <%	#Get the divisions for the season, run them through pagination, and loop through them.
    9: 
    10: 
    11: 	new_results = get_results(1)	
    12: 	new_results.each do |l|		
    13: %>
    14: 		<tr>
  app/views/pages/results.html.erb:11:in `_app_views_pages_results_html_erb__787084217_2173797880_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.7ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:42:59 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.9ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/results.html.erb within layouts/application (132.1ms)
Completed 200 OK in 139ms (Views: 137.3ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:46:50 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (84.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (132.2ms)
Completed 200 OK in 139ms (Views: 137.5ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:51:48 +0100 2011
  Processing by PagesController#results as HTML
Rendered pages/results.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (wrong number of arguments (1 for 0)):
    20: end
    21: end
    22: 
    23: 	new_results = get_results(1)	
    24: 	new_results.each do |l|		
    25: %>
    26: 		<tr>
  app/views/pages/results.html.erb:23:in `get_results'
  app/views/pages/results.html.erb:23:in `_app_views_pages_results_html_erb__787084217_2173809120_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:51:56 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.6ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (143.6ms)
Completed 200 OK in 156ms (Views: 154.4ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:54:33 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2174594640_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:26: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_pages_results_html_erb__787084217_2174594640_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');	#Get the divisions for the season, run them through pagination, and loop through them.
def get_results(season)
	ids = Division.where( :season_id => season)
	divs = Array.new
	ids.each do |p|
  		divs << p.id
end

@output_buffer.append= ( puts divs );@output_buffer.safe_concat('
');@output_buffer.safe_concat('

		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:26:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:26: syntax error, unexpected $end, expecting kEND):
  app/views/pages/results.html.erb:26:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.4ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:54:48 +0100 2011
  Processing by PagesController#results as HTML
Rendered pages/results.html.erb within layouts/application (5.8ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (undefined local variable or method `divs' for #<#<Class:0x103159998>:0x103156c48>):
    14: end
    15: end
    16: %>
    17: <%= puts divs %>
    18: 
    19: 
    20: 		</table>
  app/views/pages/results.html.erb:17:in `_app_views_pages_results_html_erb__787084217_2173347660_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:55:03 +0100 2011
  Processing by PagesController#results as HTML
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.3ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (34.3ms)
Completed 200 OK in 41ms (Views: 40.2ms | ActiveRecord: 0.2ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:55:09 +0100 2011
  Processing by PagesController#results as HTML
Rendered layouts/_stylesheets.html.erb (1.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (88.8ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (99.1ms)
Completed 200 OK in 107ms (Views: 106.0ms | ActiveRecord: 0.3ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:55:13 +0100 2011
  Processing by PagesController#results as HTML
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (96.6ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (106.6ms)
Completed 200 OK in 114ms (Views: 113.4ms | ActiveRecord: 0.2ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:57:03 +0100 2011
  Processing by PagesController#results as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (32.8ms)
Completed 200 OK in 39ms (Views: 38.6ms | ActiveRecord: 0.2ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:57:15 +0100 2011
  Processing by PagesController#results as HTML
Rendered pages/results.html.erb within layouts/application (6.0ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (undefined local variable or method `ids' for #<#<Class:0x1033658e0>:0x103361e98>):
    14: end
    15: end
    16: %>
    17: <%=  ids %>
    18: 
    19: 
    20: 		</table>
  app/views/pages/results.html.erb:17:in `_app_views_pages_results_html_erb__787084217_2174416960_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.4ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:57:22 +0100 2011
  Processing by PagesController#results as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (84.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (93.4ms)
Completed 200 OK in 100ms (Views: 99.3ms | ActiveRecord: 0.3ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 22:57:27 +0100 2011
  Processing by PagesController#results as HTML
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (86.0ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (95.9ms)
Completed 200 OK in 102ms (Views: 101.7ms | ActiveRecord: 0.2ms)
  [1m[36mMatch Load (0.5ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
  [1m[35mMatch Load (0.5ms)[0m  SELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:14:43 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2174201980_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2174201980_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');@output_buffer.append_if_string= 	#Get the divisions for the season, run them through pagination, and loop through them.
def get_results(season)
	@ids = Division.where( :season_id => season)
	divs = Array.new
	ids.each do |p|
  		divs << p.id
end
end

matches = Match.where(:playerdiv_id => (@divs.first)..(@divs.last))
	@results = Array.new
	matches.each do |r|
  		@results << Result.where(:match_id => r)
	end
end

	new_results = get_results(1)	
	new_results.each do |l|		

@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= ( l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end):
  app/views/pages/results.html.erb:37:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.7ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:15:09 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2172922580_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2172922580_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');@output_buffer.append_if_string= 	#Get the divisions for the season, run them through pagination, and loop through them.
def get_results(season)
	@ids = Division.where( :season_id => season)
	divs = Array.new
	@ids.each do |p|
  		divs << p.id
end
end

matches = Match.where(:playerdiv_id => (@divs.first)..(@divs.last))
	@results = Array.new
	matches.each do |r|
  		@results << Result.where(:match_id => r)
	end
end

	new_results = get_results(1)	
	new_results.each do |l|		

@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= ( l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end):
  app/views/pages/results.html.erb:37:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (71.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (77.0ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:15:10 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2174793340_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2174793340_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');@output_buffer.append_if_string= 	#Get the divisions for the season, run them through pagination, and loop through them.
def get_results(season)
	@ids = Division.where( :season_id => season)
	divs = Array.new
	@ids.each do |p|
  		divs << p.id
end
end

matches = Match.where(:playerdiv_id => (@divs.first)..(@divs.last))
	@results = Array.new
	matches.each do |r|
  		@results << Result.where(:match_id => r)
	end
end

	new_results = get_results(1)	
	new_results.each do |l|		

@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= ( l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (1.0ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end):
  app/views/pages/results.html.erb:37:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.6ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:16:00 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173557200_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2173557200_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');@output_buffer.append_if_string= 	#Get the divisions for the season, run them through pagination, and loop through them.
def get_results(season)
	@ids = Division.where( :season_id => season)
	@divs = Array.new
	@ids.each do |p|
  		@divs << p.id
	end
end

matches = Match.where(:playerdiv_id => (@divs.first)..(@divs.last))
	@results = Array.new
	matches.each do |r|
  		@results << Result.where(:match_id => r)
	end
end

	new_results = get_results(1)	
	new_results.each do |l|		

@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= ( l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end):
  app/views/pages/results.html.erb:37:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:16:01 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2172446940_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2172446940_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>

');@output_buffer.append_if_string= 	#Get the divisions for the season, run them through pagination, and loop through them.
def get_results(season)
	@ids = Division.where( :season_id => season)
	@divs = Array.new
	@ids.each do |p|
  		@divs << p.id
	end
end

matches = Match.where(:playerdiv_id => (@divs.first)..(@divs.last))
	@results = Array.new
	matches.each do |r|
  		@results << Result.where(:match_id => r)
	end
end

	new_results = get_results(1)	
	new_results.each do |l|		

@output_buffer.safe_concat('		<tr>
			<td>');@output_buffer.append= ( l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:37: syntax error, unexpected kENSURE, expecting $end):
  app/views/pages/results.html.erb:37:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (72.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:16:34 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (79.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (127.0ms)
Completed 200 OK in 134ms (Views: 132.4ms | ActiveRecord: 0.8ms)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id"
  [1m[36mResult Load (0.7ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id"[0m
  [1m[35mResult Load (0.8ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id"
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE "playerdiv"."division_id" = 1
SQLite3::SQLException: no such column: playerdiv.division_id: SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE "playerdiv"."division_id" = 1
  [1m[36mResult Load (0.7ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mResult Load (0.7ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:46:22 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173920120_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:21: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2173920120_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>
'); a = division_ids(season)
	puts a

@output_buffer.safe_concat('
		<tr>
			<td>');@output_buffer.append= ( l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:21:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:21: syntax error, unexpected kENSURE, expecting $end):
    18: 
    19: 
    20: Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})
  app/views/pages/results.html.erb:21:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:46:41 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2172792640_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:13: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_pages_results_html_erb__787084217_2172792640_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>
'); a = division_ids(season)
	puts a

@output_buffer.safe_concat('
		<tr>
			<td>');@output_buffer.append= ( #l[:user_id] );@output_buffer.safe_concat('</td>
			<td>');@output_buffer.append= ( #l[:score] );@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:13: syntax error, unexpected '<'
			<td>');@output_buffer.append= (...
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    10: 
    11: 		<tr>
    12: 			<td><%= #l[:user_id] %></td>
    13: 			<td><%= #l[:score] %></td>
    14: 		</tr>
    15: 		<% end %>
    16: 		</table>
  app/views/pages/results.html.erb:16:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (77.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (83.8ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:47:06 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2174647360_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:13: syntax error, unexpected '<', expecting kEND
			<td>'); # l[:score] ;@output_buffer.safe_concat('</td>
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR
Function body:           def _app_views_pages_results_html_erb__787084217_2174647360_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>
'); a = division_ids(season)
	puts a

@output_buffer.safe_concat('
		<tr>
			<td>'); # l[:user_id] ;@output_buffer.safe_concat('</td>
			<td>'); # l[:score] ;@output_buffer.safe_concat('</td>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:13: syntax error, unexpected '<', expecting kEND
			<td>'); # l[:score] ;@output_buffer.safe_concat('</td>
			 ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:14: unknown regexp options - tr
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: unterminated string meets end of file
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:16: syntax error, unexpected tSTRING_END, expecting tSTRING_CONTENT or tREGEXP_END or tSTRING_DBEG or tSTRING_DVAR):
    10: 
    11: 		<tr>
    12: 			<td><% # l[:user_id] %></td>
    13: 			<td><% # l[:score] %></td>
    14: 		</tr>
    15: 		<% end %>
    16: 		</table>
  app/views/pages/results.html.erb:16:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.4ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:47:45 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173441600_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2173441600_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>
'); a = division_ids(season)
	puts a

@output_buffer.safe_concat('
		<tr>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 10ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19: syntax error, unexpected kENSURE, expecting $end):
    16: 
    17: 
    18: Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})
  app/views/pages/results.html.erb:19:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:48:05 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2172341640_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2172341640_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>
'); a = division_ids(season) 
@output_buffer.safe_concat('	');@output_buffer.append= ( a
);@output_buffer.safe_concat('
');@output_buffer.safe_concat('
		<tr>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19: syntax error, unexpected kENSURE, expecting $end):
    16: 
    17: 
    18: Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})
  app/views/pages/results.html.erb:19:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (68.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (73.9ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:48:06 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2174682160_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2174682160_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>
'); a = division_ids(season) 
@output_buffer.safe_concat('	');@output_buffer.append= ( a
);@output_buffer.safe_concat('
');@output_buffer.safe_concat('
		<tr>
		</tr>
');		 end 
@output_buffer.safe_concat('		</table>



Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:19: syntax error, unexpected kENSURE, expecting $end):
    16: 
    17: 
    18: Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => div_range})
  app/views/pages/results.html.erb:19:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.0ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:48:12 +0100 2011
  Processing by PagesController#results as HTML
Rendered pages/results.html.erb within layouts/application (5.9ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (undefined local variable or method `season' for #<#<Class:0x1031abc98>:0x1031a7990>):
    4: 			<td>Name</td>
    5: 			<td>Score</td>
    6: 		</tr>
    7: <% a = division_ids(season) %>
    8: 	<%= a
    9: %>
    10: 
  app/views/pages/results.html.erb:7:in `_app_views_pages_results_html_erb__787084217_2173506320_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:48:20 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.7ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (107.7ms)
Completed 200 OK in 114ms (Views: 113.4ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Fri Aug 05 23:48:40 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (112.6ms)
Completed 200 OK in 119ms (Views: 118.0ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 09:53:28 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (308.2ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (415.4ms)
Completed 200 OK in 423ms (Views: 421.6ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 09:55:23 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (118.9ms)
Completed 200 OK in 126ms (Views: 124.4ms | ActiveRecord: 0.6ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 09:55:32 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.0ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (112.2ms)
Completed 200 OK in 119ms (Views: 117.7ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 09:56:59 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.4ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (143.6ms)
Completed 200 OK in 150ms (Views: 149.4ms | ActiveRecord: 0.5ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 09:57:07 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (82.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (385.1ms)
Completed 200 OK in 392ms (Views: 389.9ms | ActiveRecord: 1.1ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 09:58:54 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173717700_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:26: syntax error, unexpected $end, expecting kEND
Function body:           def _app_views_pages_results_html_erb__787084217_2173717700_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
		</tr>
');@output_buffer.append_if_string=  
a = division_ids(1) 
first = @divs.first 
last = @divs.last
range = first..last
Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => range}).each do |r|

@output_buffer.safe_concat('	<tr>
		<td>');@output_buffer.append= ( r[:user_id] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( r[:score] );@output_buffer.safe_concat('</td>
	</tr>
	
		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:26:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:26: syntax error, unexpected $end, expecting kEND):
  app/views/pages/results.html.erb:26:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (28.2ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 09:59:09 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (82.7ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (142.5ms)
Completed 200 OK in 149ms (Views: 147.6ms | ActiveRecord: 1.0ms)
  [1m[36mResult Load (0.7ms)[0m  [1mSELECT "results".* FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mMatch Load (0.6ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "results" ON "results"."match_id" = "matches"."id"
  [1m[36mMatch Load (0.4ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "results" ON "results"."match_id" = "matches"."id" WHERE "results"."match_id" = 1[0m
  [1m[35mSQL (0.4ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdiv"."division_id" BETWEEN 1 AND 6)
SQLite3::SQLException: no such column: playerdiv.division_id: SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdiv"."division_id" BETWEEN 1 AND 6)
  [1m[36mMatch Load (0.4ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:38:09 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/new/sample_app/app/helpers/pages_helper.rb:40: syntax error, unexpected $end, expecting kEND):
  app/controllers/application_controller.rb:1
  app/controllers/pages_controller.rb:1

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.5ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:38:20 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (14.2ms)
Completed 500 Internal Server Error in 27ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    14: 
    15: # Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => range}).each do |r|
    16: 
    17:  @matches.each do |r|
    18: 
    19: %>
    20: 	<tr>
  app/views/pages/results.html.erb:17:in `_app_views_pages_results_html_erb__787084217_2173008180_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (73.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (84.6ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:39:35 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (90.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (136.2ms)
Completed 200 OK in 143ms (Views: 141.4ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:40:36 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered pages/results.html.erb within layouts/application (107.9ms)
Completed 500 Internal Server Error in 114ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    15: # Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => range}).each do |r|
    16: 
    17: matches = get_matches(range)
    18: matches.each do |r|
    19: 
    20: %>
    21: 	<tr>
  app/views/pages/results.html.erb:18:in `_app_views_pages_results_html_erb__787084217_2173796800_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:41:40 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173669860_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2173669860_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
			<td>Score</td>
			<td>Name</td>
		</tr>
'); 
a = division_ids(1) 
first = @divs.first 
last = @divs.last
range = first..last

# Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => range}).each do |r|

matches = get_matches(range)



@output_buffer.append= ( matches.class );@output_buffer.safe_concat('
');@output_buffer.safe_concat('<!--
	<tr>
		<td>');@output_buffer.append= ( r[:user_id] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( r[:score] );@output_buffer.safe_concat('</td>
	</tr>
'); end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.8ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:33: syntax error, unexpected kENSURE, expecting $end):
  app/views/pages/results.html.erb:33:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:41:47 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
Rendered pages/results.html.erb within layouts/application (100.9ms)
Completed 500 Internal Server Error in 108ms

ActionView::Template::Error (undefined local variable or method `r' for #<#<Class:0x102fc7328>:0x102fc44e8>):
    21: <%= matches.class %>
    22: <!--
    23: 	<tr>
    24: 		<td><%= r[:user_id] %></td>
    25: 		<td><%= r[:score] %></td>
    26: 	</tr>
    27: 
  app/views/pages/results.html.erb:24:in `_app_views_pages_results_html_erb__787084217_2172523820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:42:09 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (85.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (116.4ms)
Completed 200 OK in 123ms (Views: 121.9ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:42:27 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.5ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (136.4ms)
Completed 200 OK in 143ms (Views: 141.8ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:52:49 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2175185480_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:33: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2175185480_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
			<td>Score</td>
			<td>Name</td>
		</tr>
'); 
a = division_ids(1) 
first = @divs.first 
last = @divs.last
range = first..last

# Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => range}).each do |r|

matches = get_matches(range)



@output_buffer.append= ( matches.inspect );@output_buffer.safe_concat('
');@output_buffer.safe_concat('
	<tr>
		<td>');@output_buffer.append= ( r[:user_id] );@output_buffer.safe_concat('</td>
		<td>');@output_buffer.append= ( r[:score] );@output_buffer.safe_concat('</td>
	</tr>
'); end 
@output_buffer.safe_concat('		</table>



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 7ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:33: syntax error, unexpected kENSURE, expecting $end):
  app/views/pages/results.html.erb:33:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:53:32 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (83.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (129.1ms)
Completed 200 OK in 136ms (Views: 134.3ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 10:55:54 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" IN (1, 2, 3)
  [1m[36mMatch Load (0.2ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (157.8ms)
Completed 200 OK in 164ms (Views: 162.0ms | ActiveRecord: 1.6ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:04:50 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" IN (1, 2, 3)[0m
  [1m[35mMatch Load (0.2ms)[0m  SELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (24.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (140.6ms)
Completed 200 OK in 147ms (Views: 145.4ms | ActiveRecord: 1.3ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:04:56 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" IN (1, 2, 3)
  [1m[36mMatch Load (0.2ms)[0m  [1mSELECT "matches".* FROM "matches" WHERE ("matches"."playerdiv_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (151.9ms)
Completed 200 OK in 158ms (Views: 156.6ms | ActiveRecord: 1.4ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:05:20 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (85.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (132.3ms)
Completed 200 OK in 139ms (Views: 137.9ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:07:40 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.0ms)
Rendered layouts/_footer.html.erb (1.8ms)
Rendered pages/results.html.erb within layouts/application (144.2ms)
Completed 200 OK in 151ms (Views: 149.3ms | ActiveRecord: 0.9ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:07:48 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/new/sample_app/app/helpers/pages_helper.rb:46: formal argument cannot be an instance variable
  def get_result(@match_ids)
                           ^):
  app/controllers/application_controller.rb:1
  app/controllers/pages_controller.rb:1

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:08:41 +0100 2011

SyntaxError (/Users/nwales/Sites/ruby/new/sample_app/app/helpers/pages_helper.rb:46: formal argument cannot be an instance variable
  def get_result(@matchids)
                          ^):
  app/controllers/application_controller.rb:1
  app/controllers/pages_controller.rb:1

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:08:54 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (84.2ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (130.6ms)
Completed 200 OK in 137ms (Views: 136.0ms | ActiveRecord: 0.8ms)
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mResult Load (0.6ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1[0m


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:16:10 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (154.9ms)
Completed 200 OK in 161ms (Views: 159.4ms | ActiveRecord: 1.3ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:17:25 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (24.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (153.1ms)
Completed 200 OK in 160ms (Views: 158.0ms | ActiveRecord: 1.3ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:20:26 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (159.5ms)
Completed 200 OK in 166ms (Views: 164.2ms | ActiveRecord: 1.2ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:22:52 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (85.8ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (132.6ms)
Completed 200 OK in 139ms (Views: 138.0ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 11:58:58 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (414.1ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (579.4ms)
Completed 200 OK in 586ms (Views: 584.9ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:00:10 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (86.1ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (171.1ms)
Completed 200 OK in 178ms (Views: 175.9ms | ActiveRecord: 1.4ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:00:57 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2173710520_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected kENSURE, expecting $end
Function body:           def _app_views_pages_results_html_erb__787084217_2173710520_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
			<td>Score</td>
			<td>Name</td>
		</tr>
'); 
a = division_ids(1) 
first = @divs.first 
last = @divs.last
range = first..last

# Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => range}).each do |r|

matches = get_matches(range) 
@output_buffer.append= ( matches.inspect );@output_buffer.safe_concat('
');@output_buffer.safe_concat('matches.each do |n|
result = get_result(matches) %>
');@output_buffer.append= ( result.inspect );@output_buffer.safe_concat('
'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (35.2ms)
Completed 500 Internal Server Error in 42ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected kENSURE, expecting $end):
    21: <%= result.inspect %>
    22: <% end %>
  app/views/pages/results.html.erb:24:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (28.7ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:01:16 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (81.2ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (149.9ms)
Completed 200 OK in 156ms (Views: 154.6ms | ActiveRecord: 1.2ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:01:41 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered pages/results.html.erb within layouts/application (115.6ms)
Completed 500 Internal Server Error in 123ms

ActionView::Template::Error (undefined local variable or method `match_ids' for #<#<Class:0x10322b268>:0x1032284f0>):
    16: 
    17: matches = get_matches(range) %>
    18: 
    19: <%= match_ids.inspect %>
    20: 
    21: <% matches.each do |n|
    22: result = get_result(matches) %>
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173775360_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:07:44 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.8ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered pages/results.html.erb within layouts/application (157.2ms)
Completed 200 OK in 163ms (Views: 161.4ms | ActiveRecord: 1.3ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:08:03 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (84.0ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (150.9ms)
Completed 200 OK in 158ms (Views: 156.2ms | ActiveRecord: 1.3ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:08:26 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.4ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.7ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (155.9ms)
Completed 200 OK in 163ms (Views: 160.5ms | ActiveRecord: 1.6ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:09:17 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered pages/results.html.erb within layouts/application (45.1ms)
Completed 500 Internal Server Error in 52ms

ActionView::Template::Error (Symbol as array index):
    20: 
    21: <% @match_ids.each do |n|
    22: result = get_result(@match_ids) %>
    23: <%= @match_ids[:id] %>
    24: <% end %>
  app/views/pages/results.html.erb:23:in `[]'
  app/views/pages/results.html.erb:23:in `_app_views_pages_results_html_erb__787084217_2174723880_0'
  app/views/pages/results.html.erb:21:in `each'
  app/views/pages/results.html.erb:21:in `_app_views_pages_results_html_erb__787084217_2174723880_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (71.6ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (78.4ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:09:33 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (82.0ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/results.html.erb within layouts/application (138.1ms)
Completed 200 OK in 145ms (Views: 143.4ms | ActiveRecord: 1.4ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:11:53 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.0ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (148.7ms)
Completed 200 OK in 155ms (Views: 153.7ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:12:02 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (83.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (157.6ms)
Completed 200 OK in 165ms (Views: 162.9ms | ActiveRecord: 1.3ms)


Started GET "/results" for 127.0.0.1 at Sat Aug 06 12:12:18 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.5ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)
Rendered pages/results.html.erb within layouts/application (115.7ms)
Completed 500 Internal Server Error in 122ms

ActionView::Template::Error (Symbol as array index):
    18: 
    19: <% @match_ids.each do |n|
    20: result = get_result(@match_ids) %>
    21: <%= result[:user_id]%>
    22: <% end %>
  app/views/pages/results.html.erb:21:in `_app_views_pages_results_html_erb__787084217_2173708040_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173708040_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.5ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:40:05 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.4ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
Rendered pages/results.html.erb within layouts/application (129.6ms)
Completed 500 Internal Server Error in 136ms

ActionView::Template::Error (Symbol as array index):
    18: 
    19: <% @match_ids.each do |n|
    20: result = get_result(@match_ids) %>
    21: <%= result[:user_id]%>
    22: <% end %>
  app/views/pages/results.html.erb:21:in `_app_views_pages_results_html_erb__787084217_2173176260_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173176260_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (28.9ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:40:24 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" IS NULL
Rendered pages/results.html.erb within layouts/application (118.8ms)
Completed 500 Internal Server Error in 128ms

ActionView::Template::Error (Symbol as array index):
    18: 
    19: <% @match_ids.each do |n|
    20: result = get_result(@n) %>
    21: <%= result[:user_id]%>
    22: <% end %>
  app/views/pages/results.html.erb:21:in `_app_views_pages_results_html_erb__787084217_2173242140_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173242140_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:40:46 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered pages/results.html.erb within layouts/application (128.5ms)
Completed 500 Internal Server Error in 135ms

ActionView::Template::Error (Symbol as array index):
    17: matches = get_matches(range) %>
    18: 
    19: <% @match_ids.each do |n|
    20: result = get_result(@match_ids[:id]) %>
    21: <%= result[:user_id]%>
    22: <% end %>
  app/views/pages/results.html.erb:20:in `[]'
  app/views/pages/results.html.erb:20:in `_app_views_pages_results_html_erb__787084217_2173279820_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173279820_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (6.7ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.5ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:40:47 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.4ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered pages/results.html.erb within layouts/application (110.4ms)
Completed 500 Internal Server Error in 117ms

ActionView::Template::Error (Symbol as array index):
    17: matches = get_matches(range) %>
    18: 
    19: <% @match_ids.each do |n|
    20: result = get_result(@match_ids[:id]) %>
    21: <%= result[:user_id]%>
    22: <% end %>
  app/views/pages/results.html.erb:20:in `[]'
  app/views/pages/results.html.erb:20:in `_app_views_pages_results_html_erb__787084217_2173560080_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173560080_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (12.6ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:41:13 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" IN (1, 2, 3)[0m
Rendered pages/results.html.erb within layouts/application (126.8ms)
Completed 500 Internal Server Error in 134ms

ActionView::Template::Error (Symbol as array index):
    18: 
    19: <% matches.each do |n|
    20: result = get_result(matches) %>
    21: <%= result[:user_id]%>
    22: <% end %>
  app/views/pages/results.html.erb:21:in `_app_views_pages_results_html_erb__787084217_2173741420_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173741420_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:41:36 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (376.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (425.0ms)
Completed 200 OK in 432ms (Views: 430.4ms | ActiveRecord: 1.9ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:42:11 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (24.2ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (144.8ms)
Completed 200 OK in 152ms (Views: 150.6ms | ActiveRecord: 0.9ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:42:27 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (22.4ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (71.1ms)
Completed 200 OK in 78ms (Views: 76.7ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:42:40 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.4ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (66.8ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (29.1ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (163.6ms)
Completed 200 OK in 219ms (Views: 217.8ms | ActiveRecord: 1.1ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:42:51 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (25.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (156.7ms)
Completed 200 OK in 165ms (Views: 162.9ms | ActiveRecord: 0.9ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:43:11 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (91.5ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered pages/results.html.erb within layouts/application (149.0ms)
Completed 200 OK in 156ms (Views: 154.4ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:43:22 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1
Rendered pages/results.html.erb within layouts/application (180.3ms)
Completed 500 Internal Server Error in 191ms

ActionView::Template::Error (Symbol as array index):
    18: 
    19: <% matches.each do |n|
    20:  result = get_result(n[:id]) %>
    21: <%= result[:id] %>
    22: <% end %>
  app/views/pages/results.html.erb:21:in `_app_views_pages_results_html_erb__787084217_2173736720_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173736720_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (13.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (21.3ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:43:30 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (31.7ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered pages/results.html.erb within layouts/application (190.8ms)
Completed 200 OK in 199ms (Views: 197.1ms | ActiveRecord: 1.8ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:43:58 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.6ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1
Rendered pages/results.html.erb within layouts/application (51.3ms)
Completed 500 Internal Server Error in 58ms

ActionView::Template::Error (Symbol as array index):
    18: 
    19: <% matches.each do |n|
    20:  result = get_result(n[:id]) %>
    21: <%= result[:id] %>
    22: <% end %>
  app/views/pages/results.html.erb:21:in `_app_views_pages_results_html_erb__787084217_2174766760_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2174766760_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (12.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (92.7ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:44:43 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (90.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (157.0ms)
Completed 200 OK in 166ms (Views: 163.8ms | ActiveRecord: 1.6ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:45:22 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered pages/results.html.erb within layouts/application (124.3ms)
Completed 500 Internal Server Error in 134ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    16: 
    17: matches = get_matches(range) %>
    18: 
    19: <% @matches_id.each do |n|
    20:  result = get_result(n[:id]) %>
    21: <%= result.inspect %><br>
    22: <% end %>
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173682260_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:45:28 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered pages/results.html.erb within layouts/application (113.4ms)
Completed 500 Internal Server Error in 120ms

ActionView::Template::Error (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
    16: 
    17: matches = get_matches(range) %>
    18: 
    19: <% @matches_ids.each do |n|
    20:  result = get_result(n[:id]) %>
    21: <%= result.inspect %><br>
    22: <% end %>
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173618340_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.9ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:45:35 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.5ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 0[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 0
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 0[0m
Rendered layouts/_stylesheets.html.erb (3.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (25.0ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (177.3ms)
Completed 200 OK in 185ms (Views: 183.1ms | ActiveRecord: 1.9ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:47:51 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (23.7ms)
Rendered layouts/_footer.html.erb (1.4ms)
Rendered pages/results.html.erb within layouts/application (152.0ms)
Completed 200 OK in 159ms (Views: 157.2ms | ActiveRecord: 0.8ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:49:05 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.8ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (97.9ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (165.8ms)
Completed 200 OK in 172ms (Views: 170.3ms | ActiveRecord: 1.4ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:49:12 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (24.3ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (177.7ms)
Completed 200 OK in 185ms (Views: 182.9ms | ActiveRecord: 1.6ms)
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1
  [1m[36mResult Load (0.4ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:57:09 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (95.1ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (162.8ms)
Completed 200 OK in 169ms (Views: 166.8ms | ActiveRecord: 2.1ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:57:48 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.8ms)
Rendered layouts/_footer.html.erb (1.2ms)
Rendered pages/results.html.erb within layouts/application (170.0ms)
Completed 200 OK in 177ms (Views: 174.2ms | ActiveRecord: 2.1ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:58:31 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (86.6ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/results.html.erb within layouts/application (154.9ms)
Completed 200 OK in 161ms (Views: 158.9ms | ActiveRecord: 2.1ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:58:51 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (28.8ms)
Rendered layouts/_footer.html.erb (1.3ms)
Rendered pages/results.html.erb within layouts/application (196.1ms)
Completed 200 OK in 204ms (Views: 201.6ms | ActiveRecord: 2.2ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 16:59:02 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.4ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (91.9ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (168.2ms)
Completed 200 OK in 176ms (Views: 173.0ms | ActiveRecord: 2.4ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:02:32 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.4ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (25.3ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (174.0ms)
Completed 200 OK in 181ms (Views: 177.9ms | ActiveRecord: 2.5ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:04:07 +0100 2011
  Processing by PagesController#results as HTML
ERROR: compiling _app_views_pages_results_html_erb__787084217_2174590100_0 RAISED compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected tIDENTIFIER, expecting ')'
...ppend= ( user_name()result_one[:user_id]) );@output_buffer.s...
                              ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected ')', expecting kEND
..._name()result_one[:user_id]) );@output_buffer.safe_concat('<...
                              ^
Function body:           def _app_views_pages_results_html_erb__787084217_2174590100_0(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "pages/results";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<table width=200>
		
		<tr>
			<td>Name</td>
			<td>Score</td>
			<td>Score</td>
			<td>Name</td>
		</tr>
'); 
a = division_ids(1) 
first = @divs.first 
last = @divs.last
range = first..last

# Result.joins(:match => :playerdiv).where(:playerdivs => {:division_id => range}).each do |r|

matches = get_matches(range) 
@output_buffer.safe_concat('
'); @match_ids.each do |n|
 result_one = get_first_result(n)
 result_two = get_second_result(n) 

@output_buffer.safe_concat('<tr>
	<td>');@output_buffer.append= ( user_name()result_one[:user_id]) );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( result_one[:score] );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( result_two[:score] );@output_buffer.safe_concat('</td>
	<td>');@output_buffer.append= ( result_two[:user_id] );@output_buffer.safe_concat('</td>
</tr>
'); end 
@output_buffer.safe_concat('</table>');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:33:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:134:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:54:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/template.rb:127:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:59:in `_render_template'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:56:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_view/render/rendering.rb:26:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:93:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:17:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:40:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:150:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:18:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:436:in `_run__1779690561__process_action__468175345__callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `send'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:30:in `process_action'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/notifications.rb:52:in `instrument'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/base.rb:119:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/abstract_controller/rendering.rb:41:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:138:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_controller/metal.rb:178:in `action'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `call'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:103:in `optimized_each'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Library/Ruby/Gems/1.8/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/head.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:32:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:12:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/query_cache.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-3.0.9/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/sendfile.rb:107:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/logger.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/runtime.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/activesupport-3.0.9/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/static.rb:30:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:168:in `call'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `send'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/application.rb:77:in `method_missing'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/rack/log_tailer.rb:14:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:52:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/handler/webrick.rb:13:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.2.3/lib/rack/server.rb:217:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands/server.rb:65:in `start'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:30
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27:in `tap'
/Library/Ruby/Gems/1.8/gems/railties-3.0.9/lib/rails/commands.rb:27
script/rails:6:in `require'
script/rails:6
Rendered pages/results.html.erb within layouts/application (0.9ms)
Completed 500 Internal Server Error in 8ms

ActionView::Template::Error (compile error
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected tIDENTIFIER, expecting ')'
...ppend= ( user_name()result_one[:user_id]) );@output_buffer.s...
                              ^
/Users/nwales/Sites/ruby/new/sample_app/app/views/pages/results.html.erb:24: syntax error, unexpected ')', expecting kEND
..._name()result_one[:user_id]) );@output_buffer.safe_concat('<...
                              ^):
    21:  result_two = get_second_result(n) 
    22: %>
    23: <tr>
    24: 	<td><%= user_name()result_one[:user_id]) %></td>
    25: 	<td><%= result_one[:score] %></td>
    26: 	<td><%= result_two[:score] %></td>
    27: 	<td><%= result_two[:user_id] %></td>
  app/views/pages/results.html.erb:33:in `compile'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.0ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.7ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:04:15 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
Rendered pages/results.html.erb within layouts/application (129.1ms)
Completed 500 Internal Server Error in 136ms

ActionView::Template::Error (undefined method `user_name' for #<#<Class:0x10313bce0>:0x103139d28>):
    21:  result_two = get_second_result(n) 
    22: %>
    23: <tr>
    24: 	<td><%= user_name(result_one[:user_id]) %></td>
    25: 	<td><%= result_one[:score] %></td>
    26: 	<td><%= result_two[:score] %></td>
    27: 	<td><%= result_two[:user_id] %></td>
  app/views/pages/results.html.erb:24:in `_app_views_pages_results_html_erb__787084217_2173288440_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173288440_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (13.2ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:04:42 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
Rendered pages/results.html.erb within layouts/application (129.1ms)
Completed 500 Internal Server Error in 137ms

ActionView::Template::Error (undefined method `find' for #<#<Class:0x10313b3a8>:0x103138f90>):
    21:  result_two = get_second_result(n) 
    22: %>
    23: <tr>
    24: 	<td><%= user_name(result_one[:user_id]) %></td>
    25: 	<td><%= result_one[:score] %></td>
    26: 	<td><%= result_two[:score] %></td>
    27: 	<td><%= result_two[:user_id] %></td>
  app/helpers/pages_helper.rb:55:in `user_name'
  app/views/pages/results.html.erb:24:in `_app_views_pages_results_html_erb__787084217_2173286320_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173286320_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.8ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.1ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:04:55 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.4ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
Rendered pages/results.html.erb within layouts/application (137.7ms)
Completed 500 Internal Server Error in 145ms

ActionView::Template::Error (undefined local variable or method `user' for #<#<Class:0x1030e3b30>:0x1030e0f70>):
    21:  result_two = get_second_result(n) 
    22: %>
    23: <tr>
    24: 	<td><%= user_name(result_one[:user_id]) %></td>
    25: 	<td><%= result_one[:score] %></td>
    26: 	<td><%= result_two[:score] %></td>
    27: 	<td><%= result_two[:user_id] %></td>
  app/helpers/pages_helper.rb:55:in `user_name'
  app/views/pages/results.html.erb:24:in `_app_views_pages_results_html_erb__787084217_2173104180_0'
  app/views/pages/results.html.erb:19:in `each'
  app/views/pages/results.html.erb:19:in `_app_views_pages_results_html_erb__787084217_2173104180_0'

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (5.2ms)
Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.9ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:05:04 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (10.5ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (169.2ms)
Completed 200 OK in 178ms (Views: 175.0ms | ActiveRecord: 3.4ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:06:53 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.3ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (159.3ms)
Completed 200 OK in 167ms (Views: 163.4ms | ActiveRecord: 2.7ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 17:07:13 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.4ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (5.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (197.7ms)
Completed 200 OK in 204ms (Views: 200.8ms | ActiveRecord: 3.1ms)
  [1m[35mUser Load (5.7ms)[0m  SELECT "users".* FROM "users"
  [1m[36mUser Load (3.3ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mSQL (1.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 54 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mResult Load (0.6ms)[0m  SELECT "results".* FROM "results"
  [1m[36mResult Load (0.5ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."user_id" = 1[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" WHERE "results"."user_id" = 1


Started GET "/league" for 127.0.0.1 at Sun Aug 07 17:13:40 +0100 2011
  Processing by PagesController#league as HTML
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mDivision Load (0.5ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mPlayerdiv Load (0.2ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.9ms)
Rendered layouts/_footer.html.erb (1.1ms)
Rendered pages/league.html.erb within layouts/application (156.8ms)
Completed 200 OK in 214ms (Views: 178.0ms | ActiveRecord: 6.1ms)


Started GET "/league?page=2" for 127.0.0.1 at Sun Aug 07 17:14:21 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (25.4ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (109.7ms)
Completed 200 OK in 146ms (Views: 115.2ms | ActiveRecord: 1.4ms)


Started GET "/league?page=2" for 127.0.0.1 at Sun Aug 07 17:14:30 +0100 2011
  Processing by PagesController#league as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.4ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 3
  [1m[36mPlayerdiv Load (0.1ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 4[0m
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (23.8ms)
Rendered layouts/_footer.html.erb (82.2ms)
Rendered pages/league.html.erb within layouts/application (122.8ms)
Completed 200 OK in 162ms (Views: 128.2ms | ActiveRecord: 1.5ms)


Started GET "/league/gold" for 127.0.0.1 at Sun Aug 07 17:14:35 +0100 2011

ActionController::RoutingError (No route matches "/league/gold"):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/league/gold" for 127.0.0.1 at Sun Aug 07 17:14:40 +0100 2011

AbstractController::ActionNotFound (The action 'league?page=2' could not be found for PagesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.7ms)


Started GET "/league/gold" for 127.0.0.1 at Sun Aug 07 17:14:41 +0100 2011

AbstractController::ActionNotFound (The action 'league?page=2' could not be found for PagesController):
  

Rendered /Library/Ruby/Gems/1.8/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.6ms)


Started GET "/league" for 127.0.0.1 at Sun Aug 07 21:49:59 +0100 2011
  Processing by PagesController#league as HTML
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mPlayerdiv Load (0.3ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mDivision Load (0.4ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'win'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5 AND "results"."result" = 'lost'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 5[0m
  [1m[35mPlayerdiv Load (0.2ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."division_id" = 2
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'win'[0m
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3 AND "results"."result" = 'lost'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 3[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 4 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4[0m
  [1m[35mSQL (0.1ms)[0m  SELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'win'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4 AND "results"."result" = 'lost'[0m
  [1m[35mSQL (0.1ms)[0m  SELECT SUM("results"."points") AS sum_id FROM "results" INNER JOIN "matches" ON "matches"."id" = "results"."match_id" WHERE "matches"."playerdiv_id" = 1 AND "results"."user_id" = 4
Rendered layouts/_stylesheets.html.erb (1.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.7ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/league.html.erb within layouts/application (83.7ms)
Completed 200 OK in 131ms (Views: 85.0ms | ActiveRecord: 5.8ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 22:02:32 +0100 2011
  Processing by PagesController#results as HTML
  [1m[35mDivision Load (0.3ms)[0m  SELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1
  [1m[36mMatch Load (0.3ms)[0m  [1mSELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1[0m
Rendered layouts/_stylesheets.html.erb (1.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
Rendered layouts/_header.html.erb (4.5ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered pages/results.html.erb within layouts/application (150.4ms)
Completed 200 OK in 157ms (Views: 153.8ms | ActiveRecord: 2.6ms)


Started GET "/results" for 127.0.0.1 at Sun Aug 07 22:05:03 +0100 2011
  Processing by PagesController#results as HTML
  [1m[36mDivision Load (0.3ms)[0m  [1mSELECT "divisions".* FROM "divisions" WHERE "divisions"."season_id" = 1[0m
  [1m[35mMatch Load (0.3ms)[0m  SELECT "matches".* FROM "matches" INNER JOIN "playerdivs" ON "playerdivs"."id" = "matches"."playerdiv_id" WHERE ("playerdivs"."division_id" BETWEEN 1 AND 6)
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 1 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 1 ORDER BY results.id DESC LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 2 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 2 ORDER BY results.id DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 2 LIMIT 1
  [1m[36mResult Load (0.2ms)[0m  [1mSELECT "results".* FROM "results" WHERE "results"."match_id" = 3 LIMIT 1[0m
  [1m[35mResult Load (0.2ms)[0m  SELECT "results".* FROM "results" WHERE "results"."match_id" = 3 ORDER BY results.id DESC LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 5 LIMIT 1
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.3ms)
Rendered layouts/_footer.html.erb (1.0ms)
Rendered pages/results.html.erb within layouts/application (162.4ms)
Completed 200 OK in 169ms (Views: 165.6ms | ActiveRecord: 2.8ms)
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from /Users/nwales/Sites/ruby/new/sample_app/config/environment.rb:5)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" INNER JOIN "playerdivs" ON "playerdivs"."user_id" = "users"."id"
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "playerdivs" ON "playerdivs"."user_id" = "users"."id" ORDER BY users.id DESC LIMIT 1[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" INNER JOIN "playerdivs" ON "playerdivs"."user_id" = "users"."id"
  [1m[36mSQL (0.5ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "playerdivs" ON "playerdivs"."user_id" = "users"."id" WHERE "playerdiv"."user_id" = 1
SQLite3::SQLException: no such column: playerdiv.user_id: SELECT "users".* FROM "users" INNER JOIN "playerdivs" ON "playerdivs"."user_id" = "users"."id" WHERE "playerdiv"."user_id" = 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "playerdivs" ON "playerdivs"."user_id" = "users"."id" WHERE "playerdivs"."user_id" = 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" INNER JOIN "playerdivs" ON "playerdivs"."user_id" = "users"."id" WHERE "playerdivs"."user_id" = 1 ORDER BY users.id DESC LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mPlayerdiv Load (0.3ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."user_id" = 1[0m
  [1m[35mPlayerdiv Load (0.5ms)[0m  SELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."user_id" = 1 ORDER BY playerdivs.id DESC LIMIT 1
  [1m[36mPlayerdiv Load (0.5ms)[0m  [1mSELECT "playerdivs".* FROM "playerdivs" WHERE "playerdivs"."user_id" = 1 ORDER BY playerdivs.id DESC LIMIT 1[0m


Started GET "/users/101" for 127.0.0.1 at Sun Aug 07 22:48:56 +0100 2011
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"101"}
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1
  [1m[36mResult Load (0.3ms)[0m  [1mSELECT "results".* FROM "results" WHERE ("results".user_id = 101) LIMIT 30 OFFSET 0[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "results" WHERE ("results".user_id = 101)
Rendered layouts/_stylesheets.html.erb (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 101 LIMIT 1[0m
Rendered layouts/_header.html.erb (4.1ms)
Rendered layouts/_footer.html.erb (0.9ms)
Rendered users/show.html.erb within layouts/application (17.6ms)
Completed 200 OK in 149ms (Views: 24.1ms | ActiveRecord: 0.6ms)
